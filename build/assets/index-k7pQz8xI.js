const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-BS5EpNLD.js","assets/ui-BBE4dlGB.js","assets/vendor-BHc9C5DE.js"])))=>i.map(i=>d[i]);
import{j as n}from"./ui-BBE4dlGB.js";import{a as mx,c as hx,r as j,u as ma,d as Le,e as Lc,O as qc,f as Hc,B as px,h as gx,i as xt,N as Oi}from"./vendor-BHc9C5DE.js";import{c as jn,R as ds,B as dh,C as bc,X as jc,Y as Nc,T as fs,L as fh,a as Sc,P as Tc,b as wc,d as Ec,e as xx,f as vx}from"./charts-Ch1IBBzm.js";import{_ as yx,h as bx,E as jx}from"./pdf-BS5EpNLD.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function u(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(f){if(f.ep)return;f.ep=!0;const p=u(f);fetch(f.href,p)}})();var fc={exports:{}},ul={},mc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Nx(){return Bm||(Bm=1,(function(i){function o(N,H){var E=N.length;N.push(H);e:for(;0<E;){var Q=E-1>>>1,oe=N[Q];if(0<f(oe,H))N[Q]=H,N[E]=oe,E=Q;else break e}}function u(N){return N.length===0?null:N[0]}function c(N){if(N.length===0)return null;var H=N[0],E=N.pop();if(E!==H){N[0]=E;e:for(var Q=0,oe=N.length,le=oe>>>1;Q<le;){var de=2*(Q+1)-1,he=N[de],Ce=de+1,ke=N[Ce];if(0>f(he,E))Ce<oe&&0>f(ke,he)?(N[Q]=ke,N[Ce]=E,Q=Ce):(N[Q]=he,N[de]=E,Q=de);else if(Ce<oe&&0>f(ke,E))N[Q]=ke,N[Ce]=E,Q=Ce;else break e}}return H}function f(N,H){var E=N.sortIndex-H.sortIndex;return E!==0?E:N.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var m=Date,x=m.now();i.unstable_now=function(){return m.now()-x}}var b=[],S=[],y=1,z=null,M=3,P=!1,B=!1,U=!1,D=!1,J=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function w(N){for(var H=u(S);H!==null;){if(H.callback===null)c(S);else if(H.startTime<=N)c(S),H.sortIndex=H.expirationTime,o(b,H);else break;H=u(S)}}function te(N){if(U=!1,w(N),!B)if(u(b)!==null)B=!0,q||(q=!0,X());else{var H=u(S);H!==null&&re(te,H.startTime-N)}}var q=!1,Y=-1,A=5,ae=-1;function V(){return D?!0:!(i.unstable_now()-ae<A)}function I(){if(D=!1,q){var N=i.unstable_now();ae=N;var H=!0;try{e:{B=!1,U&&(U=!1,F(Y),Y=-1),P=!0;var E=M;try{t:{for(w(N),z=u(b);z!==null&&!(z.expirationTime>N&&V());){var Q=z.callback;if(typeof Q=="function"){z.callback=null,M=z.priorityLevel;var oe=Q(z.expirationTime<=N);if(N=i.unstable_now(),typeof oe=="function"){z.callback=oe,w(N),H=!0;break t}z===u(b)&&c(b),w(N)}else c(b);z=u(b)}if(z!==null)H=!0;else{var le=u(S);le!==null&&re(te,le.startTime-N),H=!1}}break e}finally{z=null,M=E,P=!1}H=void 0}}finally{H?X():q=!1}}}var X;if(typeof O=="function")X=function(){O(I)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,W=se.port2;se.port1.onmessage=I,X=function(){W.postMessage(null)}}else X=function(){J(I,0)};function re(N,H){Y=J(function(){N(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_next=function(N){switch(M){case 1:case 2:case 3:var H=3;break;default:H=M}var E=M;M=H;try{return N()}finally{M=E}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var E=M;M=N;try{return H()}finally{M=E}},i.unstable_scheduleCallback=function(N,H,E){var Q=i.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?Q+E:Q):E=Q,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=E+oe,N={id:y++,callback:H,priorityLevel:N,startTime:E,expirationTime:oe,sortIndex:-1},E>Q?(N.sortIndex=E,o(S,N),u(b)===null&&N===u(S)&&(U?(F(Y),Y=-1):U=!0,re(te,E-Q))):(N.sortIndex=oe,o(b,N),B||P||(B=!0,q||(q=!0,X()))),N},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(N){var H=M;return function(){var E=M;M=H;try{return N.apply(this,arguments)}finally{M=E}}}})(hc)),hc}var Um;function Sx(){return Um||(Um=1,mc.exports=Nx()),mc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Tx(){if(Lm)return ul;Lm=1;var i=Sx(),o=mx(),u=hx();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(p(e)!==e)throw Error(c(188))}function b(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,s=t;;){var l=a.return;if(l===null)break;var r=l.alternate;if(r===null){if(s=l.return,s!==null){a=s;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===a)return x(l),e;if(r===s)return x(l),t;r=r.sibling}throw Error(c(188))}if(a.return!==s.return)a=l,s=r;else{for(var d=!1,h=l.child;h;){if(h===a){d=!0,a=l,s=r;break}if(h===s){d=!0,s=l,a=r;break}h=h.sibling}if(!d){for(h=r.child;h;){if(h===a){d=!0,a=r,s=l;break}if(h===s){d=!0,s=r,a=l;break}h=h.sibling}if(!d)throw Error(c(189))}}if(a.alternate!==s)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,z=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),O=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case D:return"Profiler";case U:return"StrictMode";case te:return"Suspense";case q:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case O:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var re=Array.isArray,N=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},Q=[],oe=-1;function le(e){return{current:e}}function de(e){0>oe||(e.current=Q[oe],Q[oe]=null,oe--)}function he(e,t){oe++,Q[oe]=e.current,e.current=t}var Ce=le(null),ke=le(null),et=le(null),At=le(null);function sa(e,t){switch(he(et,t),he(ke,e),he(Ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?um(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=um(t),e=dm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(Ce),he(Ce,e)}function qe(){de(Ce),de(ke),de(et)}function vt(e){e.memoizedState!==null&&he(At,e);var t=Ce.current,a=dm(t,e.type);t!==a&&(he(ke,e),he(Ce,a))}function St(e){ke.current===e&&(de(Ce),de(ke)),At.current===e&&(de(At),ll._currentValue=E)}var ce=Object.prototype.hasOwnProperty,ne=i.unstable_scheduleCallback,Se=i.unstable_cancelCallback,Be=i.unstable_shouldYield,ee=i.unstable_requestPaint,fe=i.unstable_now,ge=i.unstable_getCurrentPriorityLevel,xe=i.unstable_ImmediatePriority,Ne=i.unstable_UserBlockingPriority,Ge=i.unstable_NormalPriority,Z=i.unstable_LowPriority,ye=i.unstable_IdlePriority,ie=i.log,We=i.unstable_setDisableYieldValue,Oe=null,Te=null;function $e(e){if(typeof ie=="function"&&We(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(Oe,e)}catch{}}var Ve=Math.clz32?Math.clz32:ue,it=Math.log,yt=Math.LN2;function ue(e){return e>>>=0,e===0?32:31-(it(e)/yt|0)|0}var we=256,Dt=4194304;function nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pa(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var l=0,r=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var h=s&134217727;return h!==0?(s=h&~r,s!==0?l=nt(s):(d&=h,d!==0?l=nt(d):a||(a=h&~e,a!==0&&(l=nt(a))))):(h=s&~r,h!==0?l=nt(h):d!==0?l=nt(d):a||(a=s&~e,a!==0&&(l=nt(a)))),l===0?0:t!==0&&t!==l&&(t&r)===0&&(r=l&-l,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:l}function en(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function er(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var e=we;return we<<=1,(we&4194048)===0&&(we=256),e}function Nl(){var e=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),e}function Sl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function tn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tp(e,t,a,s,l,r){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var h=e.entanglements,g=e.expirationTimes,C=e.hiddenUpdates;for(a=d&~a;0<a;){var G=31-Ve(a),$=1<<G;h[G]=0,g[G]=-1;var k=C[G];if(k!==null)for(C[G]=null,G=0;G<k.length;G++){var R=k[G];R!==null&&(R.lane&=-536870913)}a&=~$}s!==0&&Kc(e,s,0),r!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=r&~(d&~t))}function Kc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ve(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function Jc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Ve(a),l=1<<s;l&t|e[s]&t&&(e[s]|=t),a&=~l}}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ar(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $c(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Dm(e.type))}function ap(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var Da=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Da,kt="__reactProps$"+Da,En="__reactContainer$"+Da,nr="__reactEvents$"+Da,np="__reactListeners$"+Da,sp="__reactHandles$"+Da,Ic="__reactResources$"+Da,gs="__reactMarker$"+Da;function sr(e){delete e[Tt],delete e[kt],delete e[nr],delete e[np],delete e[sp]}function An(e){var t=e[Tt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[En]||a[Tt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=pm(e);e!==null;){if(a=e[Tt])return a;e=pm(e)}return t}e=a,a=e.parentNode}return null}function _n(e){if(e=e[Tt]||e[En]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function xs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Cn(e){var t=e[Ic];return t||(t=e[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[gs]=!0}var Wc=new Set,Pc={};function an(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(Pc[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var lp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},tu={};function ip(e){return ce.call(tu,e)?!0:ce.call(eu,e)?!1:lp.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function Tl(e,t,a){if(ip(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function wl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ha(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var lr,au;function kn(e){if(lr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);lr=t&&t[1]||"",au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+e+au}var ir=!1;function rr(e,t){if(!e||ir)return"";ir=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(R){var k=R}Reflect.construct(e,[],$)}else{try{$.call()}catch(R){k=R}e.call($.prototype)}}else{try{throw Error()}catch(R){k=R}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(R){if(R&&k&&typeof R.stack=="string")return[R.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),d=r[0],h=r[1];if(d&&h){var g=d.split(`
`),C=h.split(`
`);for(l=s=0;s<g.length&&!g[s].includes("DetermineComponentFrameRoot");)s++;for(;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;if(s===g.length||l===C.length)for(s=g.length-1,l=C.length-1;1<=s&&0<=l&&g[s]!==C[l];)l--;for(;1<=s&&0<=l;s--,l--)if(g[s]!==C[l]){if(s!==1||l!==1)do if(s--,l--,0>l||g[s]!==C[l]){var G=`
`+g[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=l);break}}}finally{ir=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?kn(a):""}function rp(e){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return kn("Activity");default:return""}}function nu(e){try{var t="";do t+=rp(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function su(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function op(e){var t=su(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){s=""+d,r.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function El(e){e._valueTracker||(e._valueTracker=op(e))}function lu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=su(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cp=/[\n"\\]/g;function Ft(e){return e.replace(cp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function or(e,t,a,s,l,r,d,h){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?cr(e,d,Xt(t)):a!=null?cr(e,d,Xt(a)):s!=null&&e.removeAttribute("value"),l==null&&r!=null&&(e.defaultChecked=!!r),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.name=""+Xt(h):e.removeAttribute("name")}function iu(e,t,a,s,l,r,d,h){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;a=a!=null?""+Xt(a):"",t=t!=null?""+Xt(t):a,h||t===e.value||(e.value=t),e.defaultValue=t}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=h?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function cr(e,t,a){t==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,s){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Xt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ru(e,t,a){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Xt(a):""}function ou(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(c(92));if(re(s)){if(1<s.length)throw Error(c(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Xt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var up=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||up.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function uu(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in t)s=t[l],t.hasOwnProperty(l)&&a[l]!==s&&cu(e,l,s)}else for(var r in t)t.hasOwnProperty(r)&&cu(e,r,t[r])}function ur(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var dr=null;function fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var On=null,Mn=null;function du(e){var t=_n(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(or(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var l=s[kt]||null;if(!l)throw Error(c(90));or(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&lu(s)}break e;case"textarea":ru(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var mr=!1;function fu(e,t,a){if(mr)return e(t,a);mr=!0;try{var s=e(t);return s}finally{if(mr=!1,(On!==null||Mn!==null)&&(mi(),On&&(t=On,e=Mn,Mn=On=null,du(t),e)))for(t=0;t<e.length;t++)du(e[t])}}function vs(e,t){var a=e.stateNode;if(a===null)return null;var s=a[kt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(pa)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){hr=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{hr=!1}var ka=null,pr=null,Cl=null;function mu(){if(Cl)return Cl;var e,t=pr,a=t.length,s,l="value"in ka?ka.value:ka.textContent,r=l.length;for(e=0;e<a&&t[e]===l[e];e++);var d=a-e;for(s=1;s<=d&&t[a-s]===l[r-s];s++);return Cl=l.slice(e,1<s?1-s:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function hu(){return!1}function Rt(e){function t(a,s,l,r,d){this._reactName=a,this._targetInst=l,this.type=s,this.nativeEvent=r,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(a=e[h],this[h]=a?a(r):r[h]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?kl:hu,this.isPropagationStopped=hu,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Rt(nn),bs=y({},nn,{view:0,detail:0}),mp=Rt(bs),gr,xr,js,zl=y({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(gr=e.screenX-js.screenX,xr=e.screenY-js.screenY):xr=gr=0,js=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:xr}}),pu=Rt(zl),hp=y({},zl,{dataTransfer:0}),pp=Rt(hp),gp=y({},bs,{relatedTarget:0}),vr=Rt(gp),xp=y({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=Rt(xp),yp=y({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bp=Rt(yp),jp=y({},nn,{data:0}),gu=Rt(jp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tp[e])?!!t[e]:!1}function yr(){return wp}var Ep=y({},bs,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ap=Rt(Ep),_p=y({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Rt(_p),Cp=y({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),Dp=Rt(Cp),kp=y({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=Rt(kp),zp=y({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=Rt(zp),Mp=y({},nn,{newState:0,oldState:0}),Bp=Rt(Mp),Up=[9,13,27,32],br=pa&&"CompositionEvent"in window,Ns=null;pa&&"documentMode"in document&&(Ns=document.documentMode);var Lp=pa&&"TextEvent"in window&&!Ns,vu=pa&&(!br||Ns&&8<Ns&&11>=Ns),yu=" ",bu=!1;function ju(e,t){switch(e){case"keyup":return Up.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function qp(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(bu=!0,yu);case"textInput":return e=t.data,e===yu&&bu?null:e;default:return null}}function Hp(e,t){if(Bn)return e==="compositionend"||!br&&ju(e,t)?(e=mu(),Cl=pr=ka=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vu&&t.locale!=="ko"?null:t.data;default:return null}}var Yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yp[e.type]:t==="textarea"}function Tu(e,t,a,s){On?Mn?Mn.push(s):Mn=[s]:On=s,t=yi(t,"onChange"),0<t.length&&(a=new Rl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ss=null,Ts=null;function Vp(e){lm(e,0)}function Ol(e){var t=xs(e);if(lu(t))return e}function wu(e,t){if(e==="change")return t}var Eu=!1;if(pa){var jr;if(pa){var Nr="oninput"in document;if(!Nr){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Nr=typeof Au.oninput=="function"}jr=Nr}else jr=!1;Eu=jr&&(!document.documentMode||9<document.documentMode)}function _u(){Ss&&(Ss.detachEvent("onpropertychange",Cu),Ts=Ss=null)}function Cu(e){if(e.propertyName==="value"&&Ol(Ts)){var t=[];Tu(t,Ts,e,fr(e)),fu(Vp,t)}}function Qp(e,t,a){e==="focusin"?(_u(),Ss=t,Ts=a,Ss.attachEvent("onpropertychange",Cu)):e==="focusout"&&_u()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Ts)}function Xp(e,t){if(e==="click")return Ol(t)}function Fp(e,t){if(e==="input"||e==="change")return Ol(t)}function Zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Zp;function ws(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var l=a[s];if(!ce.call(t,l)||!Lt(e[l],t[l]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var a=Du(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Du(a)}}function Ru(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ru(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Al(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Al(e.document)}return t}function Sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kp=pa&&"documentMode"in document&&11>=document.documentMode,Un=null,Tr=null,Es=null,wr=!1;function Ou(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wr||Un==null||Un!==Al(s)||(s=Un,"selectionStart"in s&&Sr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Es&&ws(Es,s)||(Es=s,s=yi(Tr,"onSelect"),0<s.length&&(t=new Rl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Un)))}function sn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ln={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Er={},Mu={};pa&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function ln(e){if(Er[e])return Er[e];if(!Ln[e])return e;var t=Ln[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Mu)return Er[e]=t[a];return e}var Bu=ln("animationend"),Uu=ln("animationiteration"),Lu=ln("animationstart"),Jp=ln("transitionrun"),$p=ln("transitionstart"),Ip=ln("transitioncancel"),qu=ln("transitionend"),Hu=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ar.push("scrollEnd");function ea(e,t){Hu.set(e,t),an(t,[e])}var Yu=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var a=Yu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:nu(t)},Yu.set(e,t),t)}return{value:e,source:t,stack:nu(t)}}var Kt=[],qn=0,_r=0;function Ml(){for(var e=qn,t=_r=qn=0;t<e;){var a=Kt[t];Kt[t++]=null;var s=Kt[t];Kt[t++]=null;var l=Kt[t];Kt[t++]=null;var r=Kt[t];if(Kt[t++]=null,s!==null&&l!==null){var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}r!==0&&Vu(a,l,r)}}function Bl(e,t,a,s){Kt[qn++]=e,Kt[qn++]=t,Kt[qn++]=a,Kt[qn++]=s,_r|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cr(e,t,a,s){return Bl(e,t,a,s),Ul(e)}function Hn(e,t){return Bl(e,null,null,t),Ul(e)}function Vu(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var l=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(l=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,l&&t!==null&&(l=31-Ve(a),e=r.hiddenUpdates,s=e[l],s===null?e[l]=[t]:s.push(t),t.lane=a|536870912),r):null}function Ul(e){if(50<Is)throw Is=0,Bo=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yn={};function Wp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,a,s){return new Wp(e,t,a,s)}function Dr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ga(e,t){var a=e.alternate;return a===null?(a=qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ll(e,t,a,s,l,r){var d=0;if(s=e,typeof e=="function")Dr(e)&&(d=1);else if(typeof e=="string")d=ex(e,a,Ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=qt(31,a,t,l),e.elementType=ae,e.lanes=r,e;case B:return rn(a.children,l,r,t);case U:d=8,l|=24;break;case D:return e=qt(12,a,t,l|2),e.elementType=D,e.lanes=r,e;case te:return e=qt(13,a,t,l),e.elementType=te,e.lanes=r,e;case q:return e=qt(19,a,t,l),e.elementType=q,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case O:d=10;break e;case F:d=9;break e;case w:d=11;break e;case Y:d=14;break e;case A:d=16,s=null;break e}d=29,a=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=qt(d,a,t,l),t.elementType=e,t.type=s,t.lanes=r,t}function rn(e,t,a,s){return e=qt(7,e,s,t),e.lanes=a,e}function kr(e,t,a){return e=qt(6,e,null,t),e.lanes=a,e}function Rr(e,t,a){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vn=[],Qn=0,ql=null,Hl=0,Jt=[],$t=0,on=null,xa=1,va="";function cn(e,t){Vn[Qn++]=Hl,Vn[Qn++]=ql,ql=e,Hl=t}function Gu(e,t,a){Jt[$t++]=xa,Jt[$t++]=va,Jt[$t++]=on,on=e;var s=xa;e=va;var l=32-Ve(s)-1;s&=~(1<<l),a+=1;var r=32-Ve(t)+l;if(30<r){var d=l-l%5;r=(s&(1<<d)-1).toString(32),s>>=d,l-=d,xa=1<<32-Ve(t)+l|a<<l|s,va=r+e}else xa=1<<r|a<<l|s,va=e}function zr(e){e.return!==null&&(cn(e,1),Gu(e,1,0))}function Or(e){for(;e===ql;)ql=Vn[--Qn],Vn[Qn]=null,Hl=Vn[--Qn],Vn[Qn]=null;for(;e===on;)on=Jt[--$t],Jt[$t]=null,va=Jt[--$t],Jt[$t]=null,xa=Jt[--$t],Jt[$t]=null}var _t=null,st=null,Qe=!1,un=null,la=!1,Mr=Error(c(519));function dn(e){var t=Error(c(418,""));throw Cs(Zt(t,e)),Mr}function Xu(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Tt]=e,t[kt]=s,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<Ps.length;a++)ze(Ps[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),iu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),El(t);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),ou(t,s.value,s.defaultValue,s.children),El(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||cm(t.textContent,a)?(s.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),s.onScroll!=null&&ze("scroll",t),s.onScrollEnd!=null&&ze("scrollend",t),s.onClick!=null&&(t.onclick=bi),t=!0):t=!1,t||dn(e)}function Fu(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 13:la=!1;return;case 27:case 3:la=!0;return;default:_t=_t.return}}function As(e){if(e!==_t)return!1;if(!Qe)return Fu(e),Qe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wo(e.type,e.memoizedProps)),a=!a),a&&st&&dn(e),Fu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){st=aa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}st=null}}else t===27?(t=st,Za(e.type)?(e=ac,ac=null,st=e):st=t):st=_t?aa(e.stateNode.nextSibling):null;return!0}function _s(){st=_t=null,Qe=!1}function Zu(){var e=un;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),un=null),e}function Cs(e){un===null?un=[e]:un.push(e)}var Br=le(null),fn=null,ya=null;function Ra(e,t,a){he(Br,t._currentValue),t._currentValue=a}function ba(e){e._currentValue=Br.current,de(Br)}function Ur(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Lr(e,t,a,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var r=l.dependencies;if(r!==null){var d=l.child;r=r.firstContext;e:for(;r!==null;){var h=r;r=l;for(var g=0;g<t.length;g++)if(h.context===t[g]){r.lanes|=a,h=r.alternate,h!==null&&(h.lanes|=a),Ur(r.return,a,e),s||(d=null);break e}r=h.next}}else if(l.tag===18){if(d=l.return,d===null)throw Error(c(341));d.lanes|=a,r=d.alternate,r!==null&&(r.lanes|=a),Ur(d,a,e),d=null}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===e){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}}function Ds(e,t,a,s){e=null;for(var l=t,r=!1;l!==null;){if(!r){if((l.flags&524288)!==0)r=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var d=l.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var h=l.type;Lt(l.pendingProps.value,d.value)||(e!==null?e.push(h):e=[h])}}else if(l===At.current){if(d=l.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}l=l.return}e!==null&&Lr(t,e,a,s),t.flags|=262144}function Yl(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mn(e){fn=e,ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return Ku(fn,e)}function Vl(e,t){return fn===null&&mn(e),Ku(e,t)}function Ku(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ya===null){if(e===null)throw Error(c(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return a}var Pp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},eg=i.unstable_scheduleCallback,tg=i.unstable_NormalPriority,dt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qr(){return{controller:new Pp,data:new Map,refCount:0}}function ks(e){e.refCount--,e.refCount===0&&eg(tg,function(){e.controller.abort()})}var Rs=null,Hr=0,Gn=0,Xn=null;function ag(e,t){if(Rs===null){var a=Rs=[];Hr=0,Gn=Qo(),Xn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Hr++,t.then(Ju,Ju),t}function Ju(){if(--Hr===0&&Rs!==null){Xn!==null&&(Xn.status="fulfilled");var e=Rs;Rs=null,Gn=0,Xn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ng(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(s.status="rejected",s.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),s}var $u=N.S;N.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ag(e,t),$u!==null&&$u(e,t)};var hn=le(null);function Yr(){var e=hn.current;return e!==null?e:Pe.pooledCache}function Ql(e,t){t===null?he(hn,hn.current):he(hn,t.pool)}function Iu(){var e=Yr();return e===null?null:{parent:dt._currentValue,pool:e}}var zs=Error(c(460)),Wu=Error(c(474)),Gl=Error(c(542)),Vr={then:function(){}};function Pu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xl(){}function ed(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Xl,Xl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e;default:if(typeof t.status=="string")t.then(Xl,Xl);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=s}},function(s){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e}throw Os=t,zs}}var Os=null;function td(){if(Os===null)throw Error(c(459));var e=Os;return Os=null,e}function ad(e){if(e===zs||e===Gl)throw Error(c(483))}var za=!1;function Qr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Xe&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,t=Ul(e),Vu(e,null,a),t}return Bl(e,s,t,a),Ul(e)}function Ms(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Jc(e,a)}}function Xr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var l=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?l=r=d:r=r.next=d,a=a.next}while(a!==null);r===null?l=r=t:r=r.next=t}else l=r=t;a={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Fr=!1;function Bs(){if(Fr){var e=Xn;if(e!==null)throw e}}function Us(e,t,a,s){Fr=!1;var l=e.updateQueue;za=!1;var r=l.firstBaseUpdate,d=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var g=h,C=g.next;g.next=null,d===null?r=C:d.next=C,d=g;var G=e.alternate;G!==null&&(G=G.updateQueue,h=G.lastBaseUpdate,h!==d&&(h===null?G.firstBaseUpdate=C:h.next=C,G.lastBaseUpdate=g))}if(r!==null){var $=l.baseState;d=0,G=C=g=null,h=r;do{var k=h.lane&-536870913,R=k!==h.lane;if(R?(Ue&k)===k:(s&k)===k){k!==0&&k===Gn&&(Fr=!0),G!==null&&(G=G.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var je=e,ve=h;k=t;var Je=a;switch(ve.tag){case 1:if(je=ve.payload,typeof je=="function"){$=je.call(Je,$,k);break e}$=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ve.payload,k=typeof je=="function"?je.call(Je,$,k):je,k==null)break e;$=y({},$,k);break e;case 2:za=!0}}k=h.callback,k!==null&&(e.flags|=64,R&&(e.flags|=8192),R=l.callbacks,R===null?l.callbacks=[k]:R.push(k))}else R={lane:k,tag:h.tag,payload:h.payload,callback:h.callback,next:null},G===null?(C=G=R,g=$):G=G.next=R,d|=k;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;R=h,h=R.next,R.next=null,l.lastBaseUpdate=R,l.shared.pending=null}}while(!0);G===null&&(g=$),l.baseState=g,l.firstBaseUpdate=C,l.lastBaseUpdate=G,r===null&&(l.shared.lanes=0),Qa|=d,e.lanes=d,e.memoizedState=$}}function nd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function sd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)nd(a[e],t)}var Fn=le(null),Fl=le(0);function ld(e,t){e=Aa,he(Fl,e),he(Fn,t),Aa=e|t.baseLanes}function Zr(){he(Fl,Aa),he(Fn,Fn.current)}function Kr(){Aa=Fl.current,de(Fn),de(Fl)}var Ba=0,Ae=null,Ze=null,ct=null,Zl=!1,Zn=!1,pn=!1,Kl=0,Ls=0,Kn=null,sg=0;function rt(){throw Error(c(321))}function Jr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Lt(e[a],t[a]))return!1;return!0}function $r(e,t,a,s,l,r){return Ba=r,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Vd:Qd,pn=!1,r=a(s,l),pn=!1,Zn&&(r=rd(t,a,s,l)),id(e),r}function id(e){N.H=ei;var t=Ze!==null&&Ze.next!==null;if(Ba=0,ct=Ze=Ae=null,Zl=!1,Ls=0,Kn=null,t)throw Error(c(300));e===null||ht||(e=e.dependencies,e!==null&&Yl(e)&&(ht=!0))}function rd(e,t,a,s){Ae=e;var l=0;do{if(Zn&&(Kn=null),Ls=0,Zn=!1,25<=l)throw Error(c(301));if(l+=1,ct=Ze=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}N.H=dg,r=t(a,s)}while(Zn);return r}function lg(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?qs(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ae.flags|=1024),t}function Ir(){var e=Kl!==0;return Kl=0,e}function Wr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Pr(e){if(Zl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zl=!1}Ba=0,ct=Ze=Ae=null,Zn=!1,Ls=Kl=0,Kn=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ae.memoizedState=ct=e:ct=ct.next=e,ct}function ut(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=ct===null?Ae.memoizedState:ct.next;if(t!==null)ct=t,Ze=e;else{if(e===null)throw Ae.alternate===null?Error(c(467)):Error(c(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ct===null?Ae.memoizedState=ct=e:ct=ct.next=e}return ct}function eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(e){var t=Ls;return Ls+=1,Kn===null&&(Kn=[]),e=ed(Kn,e,t),t=Ae,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Vd:Qd),e}function Jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qs(e);if(e.$$typeof===O)return wt(e)}throw Error(c(438,String(e)))}function to(e){var t=null,a=Ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=eo(),Ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=V;return t.index++,a}function ja(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=ut();return ao(t,Ze,e)}function ao(e,t,a){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=a;var l=e.baseQueue,r=s.pending;if(r!==null){if(l!==null){var d=l.next;l.next=r.next,r.next=d}t.baseQueue=l=r,s.pending=null}if(r=e.baseState,l===null)e.memoizedState=r;else{t=l.next;var h=d=null,g=null,C=t,G=!1;do{var $=C.lane&-536870913;if($!==C.lane?(Ue&$)===$:(Ba&$)===$){var k=C.revertLane;if(k===0)g!==null&&(g=g.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),$===Gn&&(G=!0);else if((Ba&k)===k){C=C.next,k===Gn&&(G=!0);continue}else $={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},g===null?(h=g=$,d=r):g=g.next=$,Ae.lanes|=k,Qa|=k;$=C.action,pn&&a(r,$),r=C.hasEagerState?C.eagerState:a(r,$)}else k={lane:$,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},g===null?(h=g=k,d=r):g=g.next=k,Ae.lanes|=$,Qa|=$;C=C.next}while(C!==null&&C!==t);if(g===null?d=r:g.next=h,!Lt(r,e.memoizedState)&&(ht=!0,G&&(a=Xn,a!==null)))throw a;e.memoizedState=r,e.baseState=d,e.baseQueue=g,s.lastRenderedState=r}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function no(e){var t=ut(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var s=a.dispatch,l=a.pending,r=t.memoizedState;if(l!==null){a.pending=null;var d=l=l.next;do r=e(r,d.action),d=d.next;while(d!==l);Lt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function od(e,t,a){var s=Ae,l=ut(),r=Qe;if(r){if(a===void 0)throw Error(c(407));a=a()}else a=t();var d=!Lt((Ze||l).memoizedState,a);d&&(l.memoizedState=a,ht=!0),l=l.queue;var h=dd.bind(null,s,l,e);if(Hs(2048,8,h,[e]),l.getSnapshot!==t||d||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,Jn(9,Il(),ud.bind(null,s,l,a,t),null),Pe===null)throw Error(c(349));r||(Ba&124)!==0||cd(s,t,a)}return a}function cd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ae.updateQueue,t===null?(t=eo(),Ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ud(e,t,a,s){t.value=a,t.getSnapshot=s,fd(t)&&md(e)}function dd(e,t,a){return a(function(){fd(t)&&md(e)})}function fd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Lt(e,a)}catch{return!0}}function md(e){var t=Hn(e,2);t!==null&&Gt(t,e,2)}function so(e){var t=zt();if(typeof e=="function"){var a=e;if(e=a(),pn){$e(!0);try{a()}finally{$e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function hd(e,t,a,s){return e.baseState=a,ao(e,Ze,typeof s=="function"?s:ja)}function ig(e,t,a,s,l){if(Pl(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){r.listeners.push(d)}};N.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,pd(t,r)):(r.next=a.next,t.pending=a.next=r)}}function pd(e,t){var a=t.action,s=t.payload,l=e.state;if(t.isTransition){var r=N.T,d={};N.T=d;try{var h=a(l,s),g=N.S;g!==null&&g(d,h),gd(e,t,h)}catch(C){lo(e,t,C)}finally{N.T=r}}else try{r=a(l,s),gd(e,t,r)}catch(C){lo(e,t,C)}}function gd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){xd(e,t,s)},function(s){return lo(e,t,s)}):xd(e,t,a)}function xd(e,t,a){t.status="fulfilled",t.value=a,vd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,pd(e,a)))}function lo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,vd(t),t=t.next;while(t!==s)}e.action=null}function vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yd(e,t){return t}function bd(e,t){if(Qe){var a=Pe.formState;if(a!==null){e:{var s=Ae;if(Qe){if(st){t:{for(var l=st,r=la;l.nodeType!==8;){if(!r){l=null;break t}if(l=aa(l.nextSibling),l===null){l=null;break t}}r=l.data,l=r==="F!"||r==="F"?l:null}if(l){st=aa(l.nextSibling),s=l.data==="F!";break e}}dn(s)}s=!1}s&&(t=a[0])}}return a=zt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},a.queue=s,a=qd.bind(null,Ae,s),s.dispatch=a,s=so(!1),r=uo.bind(null,Ae,!1,s.queue),s=zt(),l={state:t,dispatch:null,action:e,pending:null},s.queue=l,a=ig.bind(null,Ae,l,r,a),l.dispatch=a,s.memoizedState=e,[t,a,!1]}function jd(e){var t=ut();return Nd(t,Ze,e)}function Nd(e,t,a){if(t=ao(e,t,yd)[0],e=$l(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=qs(t)}catch(d){throw d===zs?Gl:d}else s=t;t=ut();var l=t.queue,r=l.dispatch;return a!==t.memoizedState&&(Ae.flags|=2048,Jn(9,Il(),rg.bind(null,l,a),null)),[s,r,e]}function rg(e,t){e.action=t}function Sd(e){var t=ut(),a=Ze;if(a!==null)return Nd(t,a,e);ut(),t=t.memoizedState,a=ut();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Jn(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=eo(),Ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Il(){return{destroy:void 0,resource:void 0}}function Td(){return ut().memoizedState}function Wl(e,t,a,s){var l=zt();s=s===void 0?null:s,Ae.flags|=e,l.memoizedState=Jn(1|t,Il(),a,s)}function Hs(e,t,a,s){var l=ut();s=s===void 0?null:s;var r=l.memoizedState.inst;Ze!==null&&s!==null&&Jr(s,Ze.memoizedState.deps)?l.memoizedState=Jn(t,r,a,s):(Ae.flags|=e,l.memoizedState=Jn(1|t,r,a,s))}function wd(e,t){Wl(8390656,8,e,t)}function Ed(e,t){Hs(2048,8,e,t)}function Ad(e,t){return Hs(4,2,e,t)}function _d(e,t){return Hs(4,4,e,t)}function Cd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dd(e,t,a){a=a!=null?a.concat([e]):null,Hs(4,4,Cd.bind(null,t,e),a)}function io(){}function kd(e,t){var a=ut();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Jr(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Rd(e,t){var a=ut();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Jr(t,s[1]))return s[0];if(s=e(),pn){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[s,t],s}function ro(e,t,a){return a===void 0||(Ba&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Bf(),Ae.lanes|=e,Qa|=e,a)}function zd(e,t,a,s){return Lt(a,t)?a:Fn.current!==null?(e=ro(e,a,s),Lt(e,t)||(ht=!0),e):(Ba&42)===0?(ht=!0,e.memoizedState=a):(e=Bf(),Ae.lanes|=e,Qa|=e,t)}function Od(e,t,a,s,l){var r=H.p;H.p=r!==0&&8>r?r:8;var d=N.T,h={};N.T=h,uo(e,!1,t,a);try{var g=l(),C=N.S;if(C!==null&&C(h,g),g!==null&&typeof g=="object"&&typeof g.then=="function"){var G=ng(g,s);Ys(e,t,G,Qt(e))}else Ys(e,t,s,Qt(e))}catch($){Ys(e,t,{then:function(){},status:"rejected",reason:$},Qt())}finally{H.p=r,N.T=d}}function og(){}function oo(e,t,a,s){if(e.tag!==5)throw Error(c(476));var l=Md(e).queue;Od(e,l,t,E,a===null?og:function(){return Bd(e),a(s)})}function Md(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:E},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bd(e){var t=Md(e).next.queue;Ys(e,t,{},Qt())}function co(){return wt(ll)}function Ud(){return ut().memoizedState}function Ld(){return ut().memoizedState}function cg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Qt();e=Oa(a);var s=Ma(t,e,a);s!==null&&(Gt(s,t,a),Ms(s,t,a)),t={cache:qr()},e.payload=t;return}t=t.return}}function ug(e,t,a){var s=Qt();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pl(e)?Hd(t,a):(a=Cr(e,t,a,s),a!==null&&(Gt(a,e,s),Yd(a,t,s)))}function qd(e,t,a){var s=Qt();Ys(e,t,a,s)}function Ys(e,t,a,s){var l={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pl(e))Hd(t,l);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var d=t.lastRenderedState,h=r(d,a);if(l.hasEagerState=!0,l.eagerState=h,Lt(h,d))return Bl(e,t,l,0),Pe===null&&Ml(),!1}catch{}finally{}if(a=Cr(e,t,l,s),a!==null)return Gt(a,e,s),Yd(a,t,s),!0}return!1}function uo(e,t,a,s){if(s={lane:2,revertLane:Qo(),action:s,hasEagerState:!1,eagerState:null,next:null},Pl(e)){if(t)throw Error(c(479))}else t=Cr(e,a,s,2),t!==null&&Gt(t,e,2)}function Pl(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Hd(e,t){Zn=Zl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Yd(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Jc(e,a)}}var ei={readContext:wt,use:Jl,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},Vd={readContext:wt,use:Jl,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:wd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Wl(4194308,4,Cd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var a=zt();t=t===void 0?null:t;var s=e();if(pn){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=zt();if(a!==void 0){var l=a(t);if(pn){$e(!0);try{a(t)}finally{$e(!1)}}}else l=t;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=ug.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=so(e);var t=e.queue,a=qd.bind(null,Ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:io,useDeferredValue:function(e,t){var a=zt();return ro(a,e,t)},useTransition:function(){var e=so(!1);return e=Od.bind(null,Ae,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ae,l=zt();if(Qe){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Pe===null)throw Error(c(349));(Ue&124)!==0||cd(s,t,a)}l.memoizedState=a;var r={value:a,getSnapshot:t};return l.queue=r,wd(dd.bind(null,s,r,e),[e]),s.flags|=2048,Jn(9,Il(),ud.bind(null,s,r,a,t),null),a},useId:function(){var e=zt(),t=Pe.identifierPrefix;if(Qe){var a=va,s=xa;a=(s&~(1<<32-Ve(s)-1)).toString(32)+a,t=""+t+"R"+a,a=Kl++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=sg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:co,useFormState:bd,useActionState:bd,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=uo.bind(null,Ae,!0,a),a.dispatch=t,[e,t]},useMemoCache:to,useCacheRefresh:function(){return zt().memoizedState=cg.bind(null,Ae)}},Qd={readContext:wt,use:Jl,useCallback:kd,useContext:wt,useEffect:Ed,useImperativeHandle:Dd,useInsertionEffect:Ad,useLayoutEffect:_d,useMemo:Rd,useReducer:$l,useRef:Td,useState:function(){return $l(ja)},useDebugValue:io,useDeferredValue:function(e,t){var a=ut();return zd(a,Ze.memoizedState,e,t)},useTransition:function(){var e=$l(ja)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:od,useId:Ud,useHostTransitionStatus:co,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var a=ut();return hd(a,Ze,e,t)},useMemoCache:to,useCacheRefresh:Ld},dg={readContext:wt,use:Jl,useCallback:kd,useContext:wt,useEffect:Ed,useImperativeHandle:Dd,useInsertionEffect:Ad,useLayoutEffect:_d,useMemo:Rd,useReducer:no,useRef:Td,useState:function(){return no(ja)},useDebugValue:io,useDeferredValue:function(e,t){var a=ut();return Ze===null?ro(a,e,t):zd(a,Ze.memoizedState,e,t)},useTransition:function(){var e=no(ja)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:od,useId:Ud,useHostTransitionStatus:co,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,t){var a=ut();return Ze!==null?hd(a,Ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:to,useCacheRefresh:Ld},$n=null,Vs=0;function ti(e){var t=Vs;return Vs+=1,$n===null&&($n=[]),ed($n,e,t)}function Qs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ai(e,t){throw t.$$typeof===z?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gd(e){var t=e._init;return t(e._payload)}function Xd(e){function t(T,v){if(e){var _=T.deletions;_===null?(T.deletions=[v],T.flags|=16):_.push(v)}}function a(T,v){if(!e)return null;for(;v!==null;)t(T,v),v=v.sibling;return null}function s(T){for(var v=new Map;T!==null;)T.key!==null?v.set(T.key,T):v.set(T.index,T),T=T.sibling;return v}function l(T,v){return T=ga(T,v),T.index=0,T.sibling=null,T}function r(T,v,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<v?(T.flags|=67108866,v):_):(T.flags|=67108866,v)):(T.flags|=1048576,v)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function h(T,v,_,K){return v===null||v.tag!==6?(v=kr(_,T.mode,K),v.return=T,v):(v=l(v,_),v.return=T,v)}function g(T,v,_,K){var me=_.type;return me===B?G(T,v,_.props.children,K,_.key):v!==null&&(v.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Gd(me)===v.type)?(v=l(v,_.props),Qs(v,_),v.return=T,v):(v=Ll(_.type,_.key,_.props,null,T.mode,K),Qs(v,_),v.return=T,v)}function C(T,v,_,K){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Rr(_,T.mode,K),v.return=T,v):(v=l(v,_.children||[]),v.return=T,v)}function G(T,v,_,K,me){return v===null||v.tag!==7?(v=rn(_,T.mode,K,me),v.return=T,v):(v=l(v,_),v.return=T,v)}function $(T,v,_){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=kr(""+v,T.mode,_),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case M:return _=Ll(v.type,v.key,v.props,null,T.mode,_),Qs(_,v),_.return=T,_;case P:return v=Rr(v,T.mode,_),v.return=T,v;case A:var K=v._init;return v=K(v._payload),$(T,v,_)}if(re(v)||X(v))return v=rn(v,T.mode,_,null),v.return=T,v;if(typeof v.then=="function")return $(T,ti(v),_);if(v.$$typeof===O)return $(T,Vl(T,v),_);ai(T,v)}return null}function k(T,v,_,K){var me=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return me!==null?null:h(T,v,""+_,K);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M:return _.key===me?g(T,v,_,K):null;case P:return _.key===me?C(T,v,_,K):null;case A:return me=_._init,_=me(_._payload),k(T,v,_,K)}if(re(_)||X(_))return me!==null?null:G(T,v,_,K,null);if(typeof _.then=="function")return k(T,v,ti(_),K);if(_.$$typeof===O)return k(T,v,Vl(T,_),K);ai(T,_)}return null}function R(T,v,_,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return T=T.get(_)||null,h(v,T,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case M:return T=T.get(K.key===null?_:K.key)||null,g(v,T,K,me);case P:return T=T.get(K.key===null?_:K.key)||null,C(v,T,K,me);case A:var De=K._init;return K=De(K._payload),R(T,v,_,K,me)}if(re(K)||X(K))return T=T.get(_)||null,G(v,T,K,me,null);if(typeof K.then=="function")return R(T,v,_,ti(K),me);if(K.$$typeof===O)return R(T,v,_,Vl(v,K),me);ai(v,K)}return null}function je(T,v,_,K){for(var me=null,De=null,pe=v,be=v=0,gt=null;pe!==null&&be<_.length;be++){pe.index>be?(gt=pe,pe=null):gt=pe.sibling;var He=k(T,pe,_[be],K);if(He===null){pe===null&&(pe=gt);break}e&&pe&&He.alternate===null&&t(T,pe),v=r(He,v,be),De===null?me=He:De.sibling=He,De=He,pe=gt}if(be===_.length)return a(T,pe),Qe&&cn(T,be),me;if(pe===null){for(;be<_.length;be++)pe=$(T,_[be],K),pe!==null&&(v=r(pe,v,be),De===null?me=pe:De.sibling=pe,De=pe);return Qe&&cn(T,be),me}for(pe=s(pe);be<_.length;be++)gt=R(pe,T,be,_[be],K),gt!==null&&(e&&gt.alternate!==null&&pe.delete(gt.key===null?be:gt.key),v=r(gt,v,be),De===null?me=gt:De.sibling=gt,De=gt);return e&&pe.forEach(function(Wa){return t(T,Wa)}),Qe&&cn(T,be),me}function ve(T,v,_,K){if(_==null)throw Error(c(151));for(var me=null,De=null,pe=v,be=v=0,gt=null,He=_.next();pe!==null&&!He.done;be++,He=_.next()){pe.index>be?(gt=pe,pe=null):gt=pe.sibling;var Wa=k(T,pe,He.value,K);if(Wa===null){pe===null&&(pe=gt);break}e&&pe&&Wa.alternate===null&&t(T,pe),v=r(Wa,v,be),De===null?me=Wa:De.sibling=Wa,De=Wa,pe=gt}if(He.done)return a(T,pe),Qe&&cn(T,be),me;if(pe===null){for(;!He.done;be++,He=_.next())He=$(T,He.value,K),He!==null&&(v=r(He,v,be),De===null?me=He:De.sibling=He,De=He);return Qe&&cn(T,be),me}for(pe=s(pe);!He.done;be++,He=_.next())He=R(pe,T,be,He.value,K),He!==null&&(e&&He.alternate!==null&&pe.delete(He.key===null?be:He.key),v=r(He,v,be),De===null?me=He:De.sibling=He,De=He);return e&&pe.forEach(function(fx){return t(T,fx)}),Qe&&cn(T,be),me}function Je(T,v,_,K){if(typeof _=="object"&&_!==null&&_.type===B&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case M:e:{for(var me=_.key;v!==null;){if(v.key===me){if(me=_.type,me===B){if(v.tag===7){a(T,v.sibling),K=l(v,_.props.children),K.return=T,T=K;break e}}else if(v.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Gd(me)===v.type){a(T,v.sibling),K=l(v,_.props),Qs(K,_),K.return=T,T=K;break e}a(T,v);break}else t(T,v);v=v.sibling}_.type===B?(K=rn(_.props.children,T.mode,K,_.key),K.return=T,T=K):(K=Ll(_.type,_.key,_.props,null,T.mode,K),Qs(K,_),K.return=T,T=K)}return d(T);case P:e:{for(me=_.key;v!==null;){if(v.key===me)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){a(T,v.sibling),K=l(v,_.children||[]),K.return=T,T=K;break e}else{a(T,v);break}else t(T,v);v=v.sibling}K=Rr(_,T.mode,K),K.return=T,T=K}return d(T);case A:return me=_._init,_=me(_._payload),Je(T,v,_,K)}if(re(_))return je(T,v,_,K);if(X(_)){if(me=X(_),typeof me!="function")throw Error(c(150));return _=me.call(_),ve(T,v,_,K)}if(typeof _.then=="function")return Je(T,v,ti(_),K);if(_.$$typeof===O)return Je(T,v,Vl(T,_),K);ai(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,v!==null&&v.tag===6?(a(T,v.sibling),K=l(v,_),K.return=T,T=K):(a(T,v),K=kr(_,T.mode,K),K.return=T,T=K),d(T)):a(T,v)}return function(T,v,_,K){try{Vs=0;var me=Je(T,v,_,K);return $n=null,me}catch(pe){if(pe===zs||pe===Gl)throw pe;var De=qt(29,pe,null,T.mode);return De.lanes=K,De.return=T,De}finally{}}}var In=Xd(!0),Fd=Xd(!1),It=le(null),ia=null;function Ua(e){var t=e.alternate;he(ft,ft.current&1),he(It,e),ia===null&&(t===null||Fn.current!==null||t.memoizedState!==null)&&(ia=e)}function Zd(e){if(e.tag===22){if(he(ft,ft.current),he(It,e),ia===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ia=e)}}else La()}function La(){he(ft,ft.current),he(It,It.current)}function Na(e){de(It),ia===e&&(ia=null),de(ft)}var ft=le(0);function ni(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||tc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Qt(),l=Oa(s);l.payload=t,a!=null&&(l.callback=a),t=Ma(e,l,s),t!==null&&(Gt(t,e,s),Ms(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Qt(),l=Oa(s);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ma(e,l,s),t!==null&&(Gt(t,e,s),Ms(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Qt(),s=Oa(a);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,a),t!==null&&(Gt(t,e,a),Ms(t,e,a))}};function Kd(e,t,a,s,l,r,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,d):t.prototype&&t.prototype.isPureReactComponent?!ws(a,s)||!ws(l,r):!0}function Jd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function gn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}var si=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $d(e){si(e)}function Id(e){console.error(e)}function Wd(e){si(e)}function li(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Pd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ho(e,t,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){li(e,t)},a}function ef(e){return e=Oa(e),e.tag=3,e}function tf(e,t,a,s){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var r=s.value;e.payload=function(){return l(r)},e.callback=function(){Pd(t,a,s)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Pd(t,a,s),typeof l!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var h=s.stack;this.componentDidCatch(s.value,{componentStack:h!==null?h:""})})}function fg(e,t,a,s,l){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Ds(t,a,l,!0),a=It.current,a!==null){switch(a.tag){case 13:return ia===null?Lo():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=l,s===Vr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Ho(e,s,l)),!1;case 22:return a.flags|=65536,s===Vr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Ho(e,s,l)),!1}throw Error(c(435,a.tag))}return Ho(e,s,l),Lo(),!1}if(Qe)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,s!==Mr&&(e=Error(c(422),{cause:s}),Cs(Zt(e,a)))):(s!==Mr&&(t=Error(c(423),{cause:s}),Cs(Zt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=Zt(s,a),l=ho(e.stateNode,s,l),Xr(e,l),lt!==4&&(lt=2)),!1;var r=Error(c(520),{cause:s});if(r=Zt(r,a),$s===null?$s=[r]:$s.push(r),lt!==4&&(lt=2),t===null)return!0;s=Zt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=ho(a.stateNode,s,e),Xr(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))))return a.flags|=65536,l&=-l,a.lanes|=l,l=ef(l),tf(l,e,a,s),Xr(a,l),!1}a=a.return}while(a!==null);return!1}var af=Error(c(461)),ht=!1;function bt(e,t,a,s){t.child=e===null?Fd(t,null,a,s):In(t,e.child,a,s)}function nf(e,t,a,s,l){a=a.render;var r=t.ref;if("ref"in s){var d={};for(var h in s)h!=="ref"&&(d[h]=s[h])}else d=s;return mn(t),s=$r(e,t,a,d,r,l),h=Ir(),e!==null&&!ht?(Wr(e,t,l),Sa(e,t,l)):(Qe&&h&&zr(t),t.flags|=1,bt(e,t,s,l),t.child)}function sf(e,t,a,s,l){if(e===null){var r=a.type;return typeof r=="function"&&!Dr(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,lf(e,t,r,s,l)):(e=Ll(a.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!No(e,l)){var d=r.memoizedProps;if(a=a.compare,a=a!==null?a:ws,a(d,s)&&e.ref===t.ref)return Sa(e,t,l)}return t.flags|=1,e=ga(r,s),e.ref=t.ref,e.return=t,t.child=e}function lf(e,t,a,s,l){if(e!==null){var r=e.memoizedProps;if(ws(r,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=r,No(e,l))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Sa(e,t,l)}return po(e,t,a,s,l)}function rf(e,t,a){var s=t.pendingProps,l=s.children,r=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=r!==null?r.baseLanes|a:a,e!==null){for(l=t.child=e.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;t.childLanes=r&~s}else t.childLanes=0,t.child=null;return of(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ql(t,r!==null?r.cachePool:null),r!==null?ld(t,r):Zr(),Zd(t);else return t.lanes=t.childLanes=536870912,of(e,t,r!==null?r.baseLanes|a:a,a)}else r!==null?(Ql(t,r.cachePool),ld(t,r),La(),t.memoizedState=null):(e!==null&&Ql(t,null),Zr(),La());return bt(e,t,l,a),t.child}function of(e,t,a,s){var l=Yr();return l=l===null?null:{parent:dt._currentValue,pool:l},t.memoizedState={baseLanes:a,cachePool:l},e!==null&&Ql(t,null),Zr(),Zd(t),e!==null&&Ds(e,t,s,!0),null}function ii(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function po(e,t,a,s,l){return mn(t),a=$r(e,t,a,s,void 0,l),s=Ir(),e!==null&&!ht?(Wr(e,t,l),Sa(e,t,l)):(Qe&&s&&zr(t),t.flags|=1,bt(e,t,a,l),t.child)}function cf(e,t,a,s,l,r){return mn(t),t.updateQueue=null,a=rd(t,s,a,l),id(e),s=Ir(),e!==null&&!ht?(Wr(e,t,r),Sa(e,t,r)):(Qe&&s&&zr(t),t.flags|=1,bt(e,t,a,r),t.child)}function uf(e,t,a,s,l){if(mn(t),t.stateNode===null){var r=Yn,d=a.contextType;typeof d=="object"&&d!==null&&(r=wt(d)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=mo,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Qr(t),d=a.contextType,r.context=typeof d=="object"&&d!==null?wt(d):Yn,r.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(fo(t,a,d,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(d=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),d!==r.state&&mo.enqueueReplaceState(r,r.state,null),Us(t,s,r,l),Bs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var h=t.memoizedProps,g=gn(a,h);r.props=g;var C=r.context,G=a.contextType;d=Yn,typeof G=="object"&&G!==null&&(d=wt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof r.getSnapshotBeforeUpdate=="function",h=t.pendingProps!==h,G||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(h||C!==d)&&Jd(t,r,s,d),za=!1;var k=t.memoizedState;r.state=k,Us(t,s,r,l),Bs(),C=t.memoizedState,h||k!==C||za?(typeof $=="function"&&(fo(t,a,$,s),C=t.memoizedState),(g=za||Kd(t,a,g,s,k,C,d))?(G||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),r.props=s,r.state=C,r.context=d,s=g):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Gr(e,t),d=t.memoizedProps,G=gn(a,d),r.props=G,$=t.pendingProps,k=r.context,C=a.contextType,g=Yn,typeof C=="object"&&C!==null&&(g=wt(C)),h=a.getDerivedStateFromProps,(C=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(d!==$||k!==g)&&Jd(t,r,s,g),za=!1,k=t.memoizedState,r.state=k,Us(t,s,r,l),Bs();var R=t.memoizedState;d!==$||k!==R||za||e!==null&&e.dependencies!==null&&Yl(e.dependencies)?(typeof h=="function"&&(fo(t,a,h,s),R=t.memoizedState),(G=za||Kd(t,a,G,s,k,R,g)||e!==null&&e.dependencies!==null&&Yl(e.dependencies))?(C||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,R,g),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,R,g)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||d===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),r.props=s,r.state=R,r.context=g,s=G):(typeof r.componentDidUpdate!="function"||d===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,ii(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=In(t,e.child,null,l),t.child=In(t,null,a,l)):bt(e,t,a,l),t.memoizedState=r.state,e=t.child):e=Sa(e,t,l),e}function df(e,t,a,s){return _s(),t.flags|=256,bt(e,t,a,s),t.child}var go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xo(e){return{baseLanes:e,cachePool:Iu()}}function vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Wt),e}function ff(e,t,a){var s=t.pendingProps,l=!1,r=(t.flags&128)!==0,d;if((d=r)||(d=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),d&&(l=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Qe){if(l?Ua(t):La(),Qe){var h=st,g;if(g=h){e:{for(g=h,h=la;g.nodeType!==8;){if(!h){h=null;break e}if(g=aa(g.nextSibling),g===null){h=null;break e}}h=g}h!==null?(t.memoizedState={dehydrated:h,treeContext:on!==null?{id:xa,overflow:va}:null,retryLane:536870912,hydrationErrors:null},g=qt(18,null,null,0),g.stateNode=h,g.return=t,t.child=g,_t=t,st=null,g=!0):g=!1}g||dn(t)}if(h=t.memoizedState,h!==null&&(h=h.dehydrated,h!==null))return tc(h)?t.lanes=32:t.lanes=536870912,null;Na(t)}return h=s.children,s=s.fallback,l?(La(),l=t.mode,h=ri({mode:"hidden",children:h},l),s=rn(s,l,a,null),h.return=t,s.return=t,h.sibling=s,t.child=h,l=t.child,l.memoizedState=xo(a),l.childLanes=vo(e,d,a),t.memoizedState=go,s):(Ua(t),yo(t,h))}if(g=e.memoizedState,g!==null&&(h=g.dehydrated,h!==null)){if(r)t.flags&256?(Ua(t),t.flags&=-257,t=bo(e,t,a)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),l=s.fallback,h=t.mode,s=ri({mode:"visible",children:s.children},h),l=rn(l,h,a,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,In(t,e.child,null,a),s=t.child,s.memoizedState=xo(a),s.childLanes=vo(e,d,a),t.memoizedState=go,t=l);else if(Ua(t),tc(h)){if(d=h.nextSibling&&h.nextSibling.dataset,d)var C=d.dgst;d=C,s=Error(c(419)),s.stack="",s.digest=d,Cs({value:s,source:null,stack:null}),t=bo(e,t,a)}else if(ht||Ds(e,t,a,!1),d=(a&e.childLanes)!==0,ht||d){if(d=Pe,d!==null&&(s=a&-a,s=(s&42)!==0?1:tr(s),s=(s&(d.suspendedLanes|a))!==0?0:s,s!==0&&s!==g.retryLane))throw g.retryLane=s,Hn(e,s),Gt(d,e,s),af;h.data==="$?"||Lo(),t=bo(e,t,a)}else h.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=g.treeContext,st=aa(h.nextSibling),_t=t,Qe=!0,un=null,la=!1,e!==null&&(Jt[$t++]=xa,Jt[$t++]=va,Jt[$t++]=on,xa=e.id,va=e.overflow,on=t),t=yo(t,s.children),t.flags|=4096);return t}return l?(La(),l=s.fallback,h=t.mode,g=e.child,C=g.sibling,s=ga(g,{mode:"hidden",children:s.children}),s.subtreeFlags=g.subtreeFlags&65011712,C!==null?l=ga(C,l):(l=rn(l,h,a,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,h=e.child.memoizedState,h===null?h=xo(a):(g=h.cachePool,g!==null?(C=dt._currentValue,g=g.parent!==C?{parent:C,pool:C}:g):g=Iu(),h={baseLanes:h.baseLanes|a,cachePool:g}),l.memoizedState=h,l.childLanes=vo(e,d,a),t.memoizedState=go,s):(Ua(t),a=e.child,e=a.sibling,a=ga(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function yo(e,t){return t=ri({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ri(e,t){return e=qt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bo(e,t,a){return In(t,e.child,null,a),e=yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ur(e.return,t,a)}function jo(e,t,a,s,l){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:l}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=a,r.tailMode=l)}function hf(e,t,a){var s=t.pendingProps,l=s.revealOrder,r=s.tail;if(bt(e,t,s.children,a),s=ft.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,a,t);else if(e.tag===19)mf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(he(ft,s),l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&ni(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),jo(t,!1,l,a,r);break;case"backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ni(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}jo(t,!0,a,null,r);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ds(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=ga(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ga(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function No(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Yl(e)))}function mg(e,t,a){switch(t.tag){case 3:sa(t,t.stateNode.containerInfo),Ra(t,dt,e.memoizedState.cache),_s();break;case 27:case 5:vt(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:Ra(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ff(e,t,a):(Ua(t),e=Sa(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var l=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Ds(e,t,a,!1),s=(a&t.childLanes)!==0),l){if(s)return hf(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),he(ft,ft.current),s)break;return null;case 22:case 23:return t.lanes=0,rf(e,t,a);case 24:Ra(t,dt,e.memoizedState.cache)}return Sa(e,t,a)}function pf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!No(e,a)&&(t.flags&128)===0)return ht=!1,mg(e,t,a);ht=(e.flags&131072)!==0}else ht=!1,Qe&&(t.flags&1048576)!==0&&Gu(t,Hl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,l=s._init;if(s=l(s._payload),t.type=s,typeof s=="function")Dr(s)?(e=gn(s,e),t.tag=1,t=uf(null,t,s,e,a)):(t.tag=0,t=po(null,t,s,e,a));else{if(s!=null){if(l=s.$$typeof,l===w){t.tag=11,t=nf(null,t,s,e,a);break e}else if(l===Y){t.tag=14,t=sf(null,t,s,e,a);break e}}throw t=W(s)||s,Error(c(306,t,""))}}return t;case 0:return po(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,l=gn(s,t.pendingProps),uf(e,t,s,l,a);case 3:e:{if(sa(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var r=t.memoizedState;l=r.element,Gr(e,t),Us(t,s,null,a);var d=t.memoizedState;if(s=d.cache,Ra(t,dt,s),s!==r.cache&&Lr(t,[dt],a,!0),Bs(),s=d.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=df(e,t,s,a);break e}else if(s!==l){l=Zt(Error(c(424)),t),Cs(l),t=df(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=aa(e.firstChild),_t=t,Qe=!0,un=null,la=!0,a=Fd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_s(),s===l){t=Sa(e,t,a);break e}bt(e,t,s,a)}t=t.child}return t;case 26:return ii(e,t),e===null?(a=ym(t.type,null,t.pendingProps,null))?t.memoizedState=a:Qe||(a=t.type,e=t.pendingProps,s=ji(et.current).createElement(a),s[Tt]=t,s[kt]=e,Nt(s,a,e),mt(s),t.stateNode=s):t.memoizedState=ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vt(t),e===null&&Qe&&(s=t.stateNode=gm(t.type,t.pendingProps,et.current),_t=t,la=!0,l=st,Za(t.type)?(ac=l,st=aa(s.firstChild)):st=l),bt(e,t,t.pendingProps.children,a),ii(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Qe&&((l=s=st)&&(s=Yg(s,t.type,t.pendingProps,la),s!==null?(t.stateNode=s,_t=t,st=aa(s.firstChild),la=!1,l=!0):l=!1),l||dn(t)),vt(t),l=t.type,r=t.pendingProps,d=e!==null?e.memoizedProps:null,s=r.children,Wo(l,r)?s=null:d!==null&&Wo(l,d)&&(t.flags|=32),t.memoizedState!==null&&(l=$r(e,t,lg,null,null,a),ll._currentValue=l),ii(e,t),bt(e,t,s,a),t.child;case 6:return e===null&&Qe&&((e=a=st)&&(a=Vg(a,t.pendingProps,la),a!==null?(t.stateNode=a,_t=t,st=null,e=!0):e=!1),e||dn(t)),null;case 13:return ff(e,t,a);case 4:return sa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=In(t,null,s,a):bt(e,t,s,a),t.child;case 11:return nf(e,t,t.type,t.pendingProps,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ra(t,t.type,s.value),bt(e,t,s.children,a),t.child;case 9:return l=t.type._context,s=t.pendingProps.children,mn(t),l=wt(l),s=s(l),t.flags|=1,bt(e,t,s,a),t.child;case 14:return sf(e,t,t.type,t.pendingProps,a);case 15:return lf(e,t,t.type,t.pendingProps,a);case 19:return hf(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=ri(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ga(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return rf(e,t,a);case 24:return mn(t),s=wt(dt),e===null?(l=Yr(),l===null&&(l=Pe,r=qr(),l.pooledCache=r,r.refCount++,r!==null&&(l.pooledCacheLanes|=a),l=r),t.memoizedState={parent:s,cache:l},Qr(t),Ra(t,dt,l)):((e.lanes&a)!==0&&(Gr(e,t),Us(t,null,null,a),Bs()),l=e.memoizedState,r=t.memoizedState,l.parent!==s?(l={parent:s,cache:s},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Ra(t,dt,s)):(s=r.cache,Ra(t,dt,s),s!==l.cache&&Lr(t,[dt],a,!0))),bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ta(e){e.flags|=4}function gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tm(t)){if(t=It.current,t!==null&&((Ue&4194048)===Ue?ia!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||t!==ia))throw Os=Vr,Wu;e.flags|=8192}}function oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nl():536870912,e.lanes|=t,ts|=t)}function Gs(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function hg(e,t,a){var s=t.pendingProps;switch(Or(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ba(dt),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(As(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zu())),at(t),null;case 26:return a=t.memoizedState,e===null?(Ta(t),a!==null?(at(t),gf(t,a)):(at(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ta(t),at(t),gf(t,a)):(at(t),t.flags&=-16777217):(e.memoizedProps!==s&&Ta(t),at(t),t.flags&=-16777217),null;case 27:St(t),a=et.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ta(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return at(t),null}e=Ce.current,As(t)?Xu(t):(e=gm(l,s,a),t.stateNode=e,Ta(t))}return at(t),null;case 5:if(St(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ta(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return at(t),null}if(e=Ce.current,As(t))Xu(t);else{switch(l=ji(et.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?l.createElement(a,{is:s.is}):l.createElement(a)}}e[Tt]=t,e[kt]=s;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(Nt(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ta(t)}}return at(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ta(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=et.current,As(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,l=_t,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||cm(e.nodeValue,a)),e||dn(t)}else e=ji(e).createTextNode(s),e[Tt]=t,t.stateNode=e}return at(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=As(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(c(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(c(317));l[Tt]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),l=!1}else l=Zu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Na(t),t):(Na(t),null)}if(Na(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool);var r=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),oi(t,t.updateQueue),at(t),null;case 4:return qe(),e===null&&Zo(t.stateNode.containerInfo),at(t),null;case 10:return ba(t.type),at(t),null;case 19:if(de(ft),l=t.memoizedState,l===null)return at(t),null;if(s=(t.flags&128)!==0,r=l.rendering,r===null)if(s)Gs(l,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=ni(e),r!==null){for(t.flags|=128,Gs(l,!1),e=r.updateQueue,t.updateQueue=e,oi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Qu(a,e),a=a.sibling;return he(ft,ft.current&1|2),t.child}e=e.sibling}l.tail!==null&&fe()>di&&(t.flags|=128,s=!0,Gs(l,!1),t.lanes=4194304)}else{if(!s)if(e=ni(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,oi(t,e),Gs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!Qe)return at(t),null}else 2*fe()-l.renderingStartTime>di&&a!==536870912&&(t.flags|=128,s=!0,Gs(l,!1),t.lanes=4194304);l.isBackwards?(r.sibling=t.child,t.child=r):(e=l.last,e!==null?e.sibling=r:t.child=r,l.last=r)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=fe(),t.sibling=null,e=ft.current,he(ft,s?e&1|2:e&1),t):(at(t),null);case 22:case 23:return Na(t),Kr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),a=t.updateQueue,a!==null&&oi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&de(hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ba(dt),at(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function pg(e,t){switch(Or(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(dt),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return St(t),null;case 13:if(Na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(ft),null;case 4:return qe(),null;case 10:return ba(t.type),null;case 22:case 23:return Na(t),Kr(),e!==null&&de(hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ba(dt),null;case 25:return null;default:return null}}function xf(e,t){switch(Or(t),t.tag){case 3:ba(dt),qe();break;case 26:case 27:case 5:St(t);break;case 4:qe();break;case 13:Na(t);break;case 19:de(ft);break;case 10:ba(t.type);break;case 22:case 23:Na(t),Kr(),e!==null&&de(hn);break;case 24:ba(dt)}}function Xs(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var l=s.next;a=l;do{if((a.tag&e)===e){s=void 0;var r=a.create,d=a.inst;s=r(),d.destroy=s}a=a.next}while(a!==l)}}catch(h){Ie(t,t.return,h)}}function qa(e,t,a){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var r=l.next;s=r;do{if((s.tag&e)===e){var d=s.inst,h=d.destroy;if(h!==void 0){d.destroy=void 0,l=t;var g=a,C=h;try{C()}catch(G){Ie(l,g,G)}}}s=s.next}while(s!==r)}}catch(G){Ie(t,t.return,G)}}function vf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{sd(t,a)}catch(s){Ie(e,e.return,s)}}}function yf(e,t,a){a.props=gn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ie(e,t,s)}}function Fs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(l){Ie(e,t,l)}}function ra(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(l){Ie(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Ie(e,t,l)}else a.current=null}function bf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(l){Ie(e,e.return,l)}}function So(e,t,a){try{var s=e.stateNode;Bg(s,e.type,a,t),s[kt]=t}catch(l){Ie(e,e.return,l)}}function jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function To(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=bi));else if(s!==4&&(s===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(wo(e,t,a),e=e.sibling;e!==null;)wo(e,t,a),e=e.sibling}function ci(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ci(e,t,a),e=e.sibling;e!==null;)ci(e,t,a),e=e.sibling}function Nf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Nt(t,s,a),t[Tt]=e,t[kt]=a}catch(r){Ie(e,e.return,r)}}var wa=!1,ot=!1,Eo=!1,Sf=typeof WeakSet=="function"?WeakSet:Set,pt=null;function gg(e,t){if(e=e.containerInfo,$o=Ai,e=zu(e),Sr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var l=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var d=0,h=-1,g=-1,C=0,G=0,$=e,k=null;t:for(;;){for(var R;$!==a||l!==0&&$.nodeType!==3||(h=d+l),$!==r||s!==0&&$.nodeType!==3||(g=d+s),$.nodeType===3&&(d+=$.nodeValue.length),(R=$.firstChild)!==null;)k=$,$=R;for(;;){if($===e)break t;if(k===a&&++C===l&&(h=d),k===r&&++G===s&&(g=d),(R=$.nextSibling)!==null)break;$=k,k=$.parentNode}$=R}a=h===-1||g===-1?null:{start:h,end:g}}else a=null}a=a||{start:0,end:0}}else a=null;for(Io={focusedElem:e,selectionRange:a},Ai=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,l=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var je=gn(a.type,l,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(je,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ie(a,a.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ec(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Tf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ha(e,a),s&4&&Xs(5,a);break;case 1:if(Ha(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){Ie(a,a.return,d)}else{var l=gn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ie(a,a.return,d)}}s&64&&vf(a),s&512&&Fs(a,a.return);break;case 3:if(Ha(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sd(e,t)}catch(d){Ie(a,a.return,d)}}break;case 27:t===null&&s&4&&Nf(a);case 26:case 5:Ha(e,a),t===null&&s&4&&bf(a),s&512&&Fs(a,a.return);break;case 12:Ha(e,a);break;case 13:Ha(e,a),s&4&&Af(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wg.bind(null,a),Qg(e,a))));break;case 22:if(s=a.memoizedState!==null||wa,!s){t=t!==null&&t.memoizedState!==null||ot,l=wa;var r=ot;wa=s,(ot=t)&&!r?Ya(e,a,(a.subtreeFlags&8772)!==0):Ha(e,a),wa=l,ot=r}break;case 30:break;default:Ha(e,a)}}function wf(e){var t=e.alternate;t!==null&&(e.alternate=null,wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Ot=!1;function Ea(e,t,a){for(a=a.child;a!==null;)Ef(e,t,a),a=a.sibling}function Ef(e,t,a){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(Oe,a)}catch{}switch(a.tag){case 26:ot||ra(a,t),Ea(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||ra(a,t);var s=tt,l=Ot;Za(a.type)&&(tt=a.stateNode,Ot=!1),Ea(e,t,a),tl(a.stateNode),tt=s,Ot=l;break;case 5:ot||ra(a,t);case 6:if(s=tt,l=Ot,tt=null,Ea(e,t,a),tt=s,Ot=l,tt!==null)if(Ot)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(r){Ie(a,t,r)}else try{tt.removeChild(a.stateNode)}catch(r){Ie(a,t,r)}break;case 18:tt!==null&&(Ot?(e=tt,hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cl(e)):hm(tt,a.stateNode));break;case 4:s=tt,l=Ot,tt=a.stateNode.containerInfo,Ot=!0,Ea(e,t,a),tt=s,Ot=l;break;case 0:case 11:case 14:case 15:ot||qa(2,a,t),ot||qa(4,a,t),Ea(e,t,a);break;case 1:ot||(ra(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&yf(a,t,s)),Ea(e,t,a);break;case 21:Ea(e,t,a);break;case 22:ot=(s=ot)||a.memoizedState!==null,Ea(e,t,a),ot=s;break;default:Ea(e,t,a)}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(a){Ie(t,t.return,a)}}function xg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sf),t;default:throw Error(c(435,e.tag))}}function Ao(e,t){var a=xg(e);t.forEach(function(s){var l=Eg.bind(null,e,s);a.has(s)||(a.add(s),s.then(l,l))})}function Ht(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var l=a[s],r=e,d=t,h=d;e:for(;h!==null;){switch(h.tag){case 27:if(Za(h.type)){tt=h.stateNode,Ot=!1;break e}break;case 5:tt=h.stateNode,Ot=!1;break e;case 3:case 4:tt=h.stateNode.containerInfo,Ot=!0;break e}h=h.return}if(tt===null)throw Error(c(160));Ef(r,d,l),tt=null,Ot=!1,r=l.alternate,r!==null&&(r.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)_f(t,e),t=t.sibling}var ta=null;function _f(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Yt(e),s&4&&(qa(3,e,e.return),Xs(3,e),qa(5,e,e.return));break;case 1:Ht(t,e),Yt(e),s&512&&(ot||a===null||ra(a,a.return)),s&64&&wa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var l=ta;if(Ht(t,e),Yt(e),s&512&&(ot||a===null||ra(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":r=l.getElementsByTagName("title")[0],(!r||r[gs]||r[Tt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=l.createElement(s),l.head.insertBefore(r,l.querySelector("head > title"))),Nt(r,s,a),r[Tt]=e,mt(r),s=r;break e;case"link":var d=Nm("link","href",l).get(s+(a.href||""));if(d){for(var h=0;h<d.length;h++)if(r=d[h],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(h,1);break t}}r=l.createElement(s),Nt(r,s,a),l.head.appendChild(r);break;case"meta":if(d=Nm("meta","content",l).get(s+(a.content||""))){for(h=0;h<d.length;h++)if(r=d[h],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(h,1);break t}}r=l.createElement(s),Nt(r,s,a),l.head.appendChild(r);break;default:throw Error(c(468,s))}r[Tt]=e,mt(r),s=r}e.stateNode=s}else Sm(l,e.type,e.stateNode);else e.stateNode=jm(l,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?Sm(l,e.type,e.stateNode):jm(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&So(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ht(t,e),Yt(e),s&512&&(ot||a===null||ra(a,a.return)),a!==null&&s&4&&So(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ht(t,e),Yt(e),s&512&&(ot||a===null||ra(a,a.return)),e.flags&32){l=e.stateNode;try{zn(l,"")}catch(R){Ie(e,e.return,R)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,So(e,l,a!==null?a.memoizedProps:l)),s&1024&&(Eo=!0);break;case 6:if(Ht(t,e),Yt(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(R){Ie(e,e.return,R)}}break;case 3:if(Ti=null,l=ta,ta=Ni(t.containerInfo),Ht(t,e),ta=l,Yt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(t.containerInfo)}catch(R){Ie(e,e.return,R)}Eo&&(Eo=!1,Cf(e));break;case 4:s=ta,ta=Ni(e.stateNode.containerInfo),Ht(t,e),Yt(e),ta=s;break;case 12:Ht(t,e),Yt(e);break;case 13:Ht(t,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zo=fe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ao(e,s)));break;case 22:l=e.memoizedState!==null;var g=a!==null&&a.memoizedState!==null,C=wa,G=ot;if(wa=C||l,ot=G||g,Ht(t,e),ot=G,wa=C,Yt(e),s&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||g||wa||ot||xn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){g=a=t;try{if(r=g.stateNode,l)d=r.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{h=g.stateNode;var $=g.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null;h.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(R){Ie(g,g.return,R)}}}else if(t.tag===6){if(a===null){g=t;try{g.stateNode.nodeValue=l?"":g.memoizedProps}catch(R){Ie(g,g.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ao(e,a))));break;case 19:Ht(t,e),Yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ao(e,s)));break;case 30:break;case 21:break;default:Ht(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(jf(s)){a=s;break}s=s.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var l=a.stateNode,r=To(e);ci(e,r,l);break;case 5:var d=a.stateNode;a.flags&32&&(zn(d,""),a.flags&=-33);var h=To(e);ci(e,h,d);break;case 3:case 4:var g=a.stateNode.containerInfo,C=To(e);wo(e,C,g);break;default:throw Error(c(161))}}catch(G){Ie(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tf(e,t.alternate,t),t=t.sibling}function xn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),xn(t);break;case 1:ra(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&yf(t,t.return,a),xn(t);break;case 27:tl(t.stateNode);case 26:case 5:ra(t,t.return),xn(t);break;case 22:t.memoizedState===null&&xn(t);break;case 30:xn(t);break;default:xn(t)}e=e.sibling}}function Ya(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,l=e,r=t,d=r.flags;switch(r.tag){case 0:case 11:case 15:Ya(l,r,a),Xs(4,r);break;case 1:if(Ya(l,r,a),s=r,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(C){Ie(s,s.return,C)}if(s=r,l=s.updateQueue,l!==null){var h=s.stateNode;try{var g=l.shared.hiddenCallbacks;if(g!==null)for(l.shared.hiddenCallbacks=null,l=0;l<g.length;l++)nd(g[l],h)}catch(C){Ie(s,s.return,C)}}a&&d&64&&vf(r),Fs(r,r.return);break;case 27:Nf(r);case 26:case 5:Ya(l,r,a),a&&s===null&&d&4&&bf(r),Fs(r,r.return);break;case 12:Ya(l,r,a);break;case 13:Ya(l,r,a),a&&d&4&&Af(l,r);break;case 22:r.memoizedState===null&&Ya(l,r,a),Fs(r,r.return);break;case 30:break;default:Ya(l,r,a)}t=t.sibling}}function _o(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ks(a))}function Co(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e))}function oa(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Df(e,t,a,s),t=t.sibling}function Df(e,t,a,s){var l=t.flags;switch(t.tag){case 0:case 11:case 15:oa(e,t,a,s),l&2048&&Xs(9,t);break;case 1:oa(e,t,a,s);break;case 3:oa(e,t,a,s),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e)));break;case 12:if(l&2048){oa(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,d=r.id,h=r.onPostCommit;typeof h=="function"&&h(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(g){Ie(t,t.return,g)}}else oa(e,t,a,s);break;case 13:oa(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,d=t.alternate,t.memoizedState!==null?r._visibility&2?oa(e,t,a,s):Zs(e,t):r._visibility&2?oa(e,t,a,s):(r._visibility|=2,Wn(e,t,a,s,(t.subtreeFlags&10256)!==0)),l&2048&&_o(d,t);break;case 24:oa(e,t,a,s),l&2048&&Co(t.alternate,t);break;default:oa(e,t,a,s)}}function Wn(e,t,a,s,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,d=t,h=a,g=s,C=d.flags;switch(d.tag){case 0:case 11:case 15:Wn(r,d,h,g,l),Xs(8,d);break;case 23:break;case 22:var G=d.stateNode;d.memoizedState!==null?G._visibility&2?Wn(r,d,h,g,l):Zs(r,d):(G._visibility|=2,Wn(r,d,h,g,l)),l&&C&2048&&_o(d.alternate,d);break;case 24:Wn(r,d,h,g,l),l&&C&2048&&Co(d.alternate,d);break;default:Wn(r,d,h,g,l)}t=t.sibling}}function Zs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,l=s.flags;switch(s.tag){case 22:Zs(a,s),l&2048&&_o(s.alternate,s);break;case 24:Zs(a,s),l&2048&&Co(s.alternate,s);break;default:Zs(a,s)}t=t.sibling}}var Ks=8192;function Pn(e){if(e.subtreeFlags&Ks)for(e=e.child;e!==null;)kf(e),e=e.sibling}function kf(e){switch(e.tag){case 26:Pn(e),e.flags&Ks&&e.memoizedState!==null&&ax(ta,e.memoizedState,e.memoizedProps);break;case 5:Pn(e);break;case 3:case 4:var t=ta;ta=Ni(e.stateNode.containerInfo),Pn(e),ta=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ks,Ks=16777216,Pn(e),Ks=t):Pn(e));break;default:Pn(e)}}function Rf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Js(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];pt=s,Of(s,e)}Rf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zf(e),e=e.sibling}function zf(e){switch(e.tag){case 0:case 11:case 15:Js(e),e.flags&2048&&qa(9,e,e.return);break;case 3:Js(e);break;case 12:Js(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ui(e)):Js(e);break;default:Js(e)}}function ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];pt=s,Of(s,e)}Rf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qa(8,t,t.return),ui(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ui(t));break;default:ui(t)}e=e.sibling}}function Of(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ks(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,pt=s;else e:for(a=e;pt!==null;){s=pt;var l=s.sibling,r=s.return;if(wf(s),s===a){pt=null;break e}if(l!==null){l.return=r,pt=l;break e}pt=r}}}var vg={getCacheForType:function(e){var t=wt(dt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},yg=typeof WeakMap=="function"?WeakMap:Map,Xe=0,Pe=null,Re=null,Ue=0,Fe=0,Vt=null,Va=!1,es=!1,Do=!1,Aa=0,lt=0,Qa=0,vn=0,ko=0,Wt=0,ts=0,$s=null,Mt=null,Ro=!1,zo=0,di=1/0,fi=null,Ga=null,jt=0,Xa=null,as=null,ns=0,Oo=0,Mo=null,Mf=null,Is=0,Bo=null;function Qt(){if((Xe&2)!==0&&Ue!==0)return Ue&-Ue;if(N.T!==null){var e=Gn;return e!==0?e:Qo()}return $c()}function Bf(){Wt===0&&(Wt=(Ue&536870912)===0||Qe?jl():536870912);var e=It.current;return e!==null&&(e.flags|=32),Wt}function Gt(e,t,a){(e===Pe&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Fa(e,Ue,Wt,!1)),tn(e,a),((Xe&2)===0||e!==Pe)&&(e===Pe&&((Xe&2)===0&&(vn|=a),lt===4&&Fa(e,Ue,Wt,!1)),ca(e))}function Uf(e,t,a){if((Xe&6)!==0)throw Error(c(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||en(e,t),l=s?Ng(e,t):qo(e,t,!0),r=s;do{if(l===0){es&&!s&&Fa(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!bg(a)){l=qo(e,t,!1),r=!1;continue}if(l===2){if(r=t,e.errorRecoveryDisabledLanes&r)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var h=e;l=$s;var g=h.current.memoizedState.isDehydrated;if(g&&(ss(h,d).flags|=256),d=qo(h,d,!1),d!==2){if(Do&&!g){h.errorRecoveryDisabledLanes|=r,vn|=r,l=4;break e}r=Mt,Mt=l,r!==null&&(Mt===null?Mt=r:Mt.push.apply(Mt,r))}l=d}if(r=!1,l!==2)continue}}if(l===1){ss(e,0),Fa(e,t,0,!0);break}e:{switch(s=e,r=l,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Fa(s,t,Wt,!Va);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(l=zo+300-fe(),10<l)){if(Fa(s,t,Wt,!Va),Pa(s,0,!0)!==0)break e;s.timeoutHandle=fm(Lf.bind(null,s,a,Mt,fi,Ro,t,Wt,vn,ts,Va,r,2,-0,0),l);break e}Lf(s,a,Mt,fi,Ro,t,Wt,vn,ts,Va,r,0,-0,0)}}break}while(!0);ca(e)}function Lf(e,t,a,s,l,r,d,h,g,C,G,$,k,R){if(e.timeoutHandle=-1,$=t.subtreeFlags,($&8192||($&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:tx},kf(t),$=nx(),$!==null)){e.cancelPendingCommit=$(Xf.bind(null,e,t,r,a,s,l,d,h,g,G,1,k,R)),Fa(e,r,d,!C);return}Xf(e,t,r,a,s,l,d,h,g)}function bg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var l=a[s],r=l.getSnapshot;l=l.value;try{if(!Lt(r(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,a,s){t&=~ko,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var l=t;0<l;){var r=31-Ve(l),d=1<<r;s[r]=-1,l&=~d}a!==0&&Kc(e,a,t)}function mi(){return(Xe&6)===0?(Ws(0),!1):!0}function Uo(){if(Re!==null){if(Fe===0)var e=Re.return;else e=Re,ya=fn=null,Pr(e),$n=null,Vs=0,e=Re;for(;e!==null;)xf(e.alternate,e),e=e.return;Re=null}}function ss(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Lg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Uo(),Pe=e,Re=a=ga(e.current,null),Ue=t,Fe=0,Vt=null,Va=!1,es=en(e,t),Do=!1,ts=Wt=ko=vn=Qa=lt=0,Mt=$s=null,Ro=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var l=31-Ve(s),r=1<<l;t|=e[l],s&=~r}return Aa=t,Ml(),a}function qf(e,t){Ae=null,N.H=ei,t===zs||t===Gl?(t=td(),Fe=3):t===Wu?(t=td(),Fe=4):Fe=t===af?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Re===null&&(lt=1,li(e,Zt(t,e.current)))}function Hf(){var e=N.H;return N.H=ei,e===null?ei:e}function Yf(){var e=N.A;return N.A=vg,e}function Lo(){lt=4,Va||(Ue&4194048)!==Ue&&It.current!==null||(es=!0),(Qa&134217727)===0&&(vn&134217727)===0||Pe===null||Fa(Pe,Ue,Wt,!1)}function qo(e,t,a){var s=Xe;Xe|=2;var l=Hf(),r=Yf();(Pe!==e||Ue!==t)&&(fi=null,ss(e,t)),t=!1;var d=lt;e:do try{if(Fe!==0&&Re!==null){var h=Re,g=Vt;switch(Fe){case 8:Uo(),d=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var C=Fe;if(Fe=0,Vt=null,ls(e,h,g,C),a&&es){d=0;break e}break;default:C=Fe,Fe=0,Vt=null,ls(e,h,g,C)}}jg(),d=lt;break}catch(G){qf(e,G)}while(!0);return t&&e.shellSuspendCounter++,ya=fn=null,Xe=s,N.H=l,N.A=r,Re===null&&(Pe=null,Ue=0,Ml()),d}function jg(){for(;Re!==null;)Vf(Re)}function Ng(e,t){var a=Xe;Xe|=2;var s=Hf(),l=Yf();Pe!==e||Ue!==t?(fi=null,di=fe()+500,ss(e,t)):es=en(e,t);e:do try{if(Fe!==0&&Re!==null){t=Re;var r=Vt;t:switch(Fe){case 1:Fe=0,Vt=null,ls(e,t,r,1);break;case 2:case 9:if(Pu(r)){Fe=0,Vt=null,Qf(t);break}t=function(){Fe!==2&&Fe!==9||Pe!==e||(Fe=7),ca(e)},r.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Pu(r)?(Fe=0,Vt=null,Qf(t)):(Fe=0,Vt=null,ls(e,t,r,7));break;case 5:var d=null;switch(Re.tag){case 26:d=Re.memoizedState;case 5:case 27:var h=Re;if(!d||Tm(d)){Fe=0,Vt=null;var g=h.sibling;if(g!==null)Re=g;else{var C=h.return;C!==null?(Re=C,hi(C)):Re=null}break t}}Fe=0,Vt=null,ls(e,t,r,5);break;case 6:Fe=0,Vt=null,ls(e,t,r,6);break;case 8:Uo(),lt=6;break e;default:throw Error(c(462))}}Sg();break}catch(G){qf(e,G)}while(!0);return ya=fn=null,N.H=s,N.A=l,Xe=a,Re!==null?0:(Pe=null,Ue=0,Ml(),lt)}function Sg(){for(;Re!==null&&!Be();)Vf(Re)}function Vf(e){var t=pf(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?hi(e):Re=t}function Qf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=cf(a,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=cf(a,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:Pr(t);default:xf(a,t),t=Re=Qu(t,Aa),t=pf(a,t,Aa)}e.memoizedProps=e.pendingProps,t===null?hi(e):Re=t}function ls(e,t,a,s){ya=fn=null,Pr(t),$n=null,Vs=0;var l=t.return;try{if(fg(e,l,t,a,Ue)){lt=1,li(e,Zt(a,e.current)),Re=null;return}}catch(r){if(l!==null)throw Re=l,r;lt=1,li(e,Zt(a,e.current)),Re=null;return}t.flags&32768?(Qe||s===1?e=!0:es||(Ue&536870912)!==0?e=!1:(Va=e=!0,(s===2||s===9||s===3||s===6)&&(s=It.current,s!==null&&s.tag===13&&(s.flags|=16384))),Gf(t,e)):hi(t)}function hi(e){var t=e;do{if((t.flags&32768)!==0){Gf(t,Va);return}e=t.return;var a=hg(t.alternate,t,Aa);if(a!==null){Re=a;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);lt===0&&(lt=5)}function Gf(e,t){do{var a=pg(e.alternate,e);if(a!==null){a.flags&=32767,Re=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=a}while(e!==null);lt=6,Re=null}function Xf(e,t,a,s,l,r,d,h,g){e.cancelPendingCommit=null;do pi();while(jt!==0);if((Xe&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=_r,tp(e,a,r,d,h,g),e===Pe&&(Re=Pe=null,Ue=0),as=t,Xa=e,ns=a,Oo=r,Mo=l,Mf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ag(Ge,function(){return $f(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=N.T,N.T=null,l=H.p,H.p=2,d=Xe,Xe|=4;try{gg(e,t,a)}finally{Xe=d,H.p=l,N.T=s}}jt=1,Ff(),Zf(),Kf()}}function Ff(){if(jt===1){jt=0;var e=Xa,t=as,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var s=H.p;H.p=2;var l=Xe;Xe|=4;try{_f(t,e);var r=Io,d=zu(e.containerInfo),h=r.focusedElem,g=r.selectionRange;if(d!==h&&h&&h.ownerDocument&&Ru(h.ownerDocument.documentElement,h)){if(g!==null&&Sr(h)){var C=g.start,G=g.end;if(G===void 0&&(G=C),"selectionStart"in h)h.selectionStart=C,h.selectionEnd=Math.min(G,h.value.length);else{var $=h.ownerDocument||document,k=$&&$.defaultView||window;if(k.getSelection){var R=k.getSelection(),je=h.textContent.length,ve=Math.min(g.start,je),Je=g.end===void 0?ve:Math.min(g.end,je);!R.extend&&ve>Je&&(d=Je,Je=ve,ve=d);var T=ku(h,ve),v=ku(h,Je);if(T&&v&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==v.node||R.focusOffset!==v.offset)){var _=$.createRange();_.setStart(T.node,T.offset),R.removeAllRanges(),ve>Je?(R.addRange(_),R.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),R.addRange(_))}}}}for($=[],R=h;R=R.parentNode;)R.nodeType===1&&$.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<$.length;h++){var K=$[h];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ai=!!$o,Io=$o=null}finally{Xe=l,H.p=s,N.T=a}}e.current=t,jt=2}}function Zf(){if(jt===2){jt=0;var e=Xa,t=as,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var s=H.p;H.p=2;var l=Xe;Xe|=4;try{Tf(e,t.alternate,t)}finally{Xe=l,H.p=s,N.T=a}}jt=3}}function Kf(){if(jt===4||jt===3){jt=0,ee();var e=Xa,t=as,a=ns,s=Mf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?jt=5:(jt=0,as=Xa=null,Jf(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ga=null),ar(a),t=t.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(Oe,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=N.T,l=H.p,H.p=2,N.T=null;try{for(var r=e.onRecoverableError,d=0;d<s.length;d++){var h=s[d];r(h.value,{componentStack:h.stack})}}finally{N.T=t,H.p=l}}(ns&3)!==0&&pi(),ca(e),l=e.pendingLanes,(a&4194090)!==0&&(l&42)!==0?e===Bo?Is++:(Is=0,Bo=e):Is=0,Ws(0)}}function Jf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ks(t)))}function pi(e){return Ff(),Zf(),Kf(),$f()}function $f(){if(jt!==5)return!1;var e=Xa,t=Oo;Oo=0;var a=ar(ns),s=N.T,l=H.p;try{H.p=32>a?32:a,N.T=null,a=Mo,Mo=null;var r=Xa,d=ns;if(jt=0,as=Xa=null,ns=0,(Xe&6)!==0)throw Error(c(331));var h=Xe;if(Xe|=4,zf(r.current),Df(r,r.current,d,a),Xe=h,Ws(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(Oe,r)}catch{}return!0}finally{H.p=l,N.T=s,Jf(e,t)}}function If(e,t,a){t=Zt(a,t),t=ho(e.stateNode,t,2),e=Ma(e,t,2),e!==null&&(tn(e,2),ca(e))}function Ie(e,t,a){if(e.tag===3)If(e,e,a);else for(;t!==null;){if(t.tag===3){If(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ga===null||!Ga.has(s))){e=Zt(a,e),a=ef(2),s=Ma(t,a,2),s!==null&&(tf(a,s,t,e),tn(s,2),ca(s));break}}t=t.return}}function Ho(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new yg;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(a)||(Do=!0,l.add(a),e=Tg.bind(null,e,t,a),t.then(e,e))}function Tg(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pe===e&&(Ue&a)===a&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>fe()-zo?(Xe&2)===0&&ss(e,0):ko|=a,ts===Ue&&(ts=0)),ca(e)}function Wf(e,t){t===0&&(t=Nl()),e=Hn(e,t),e!==null&&(tn(e,t),ca(e))}function wg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Wf(e,a)}function Eg(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Wf(e,a)}function Ag(e,t){return ne(e,t)}var gi=null,is=null,Yo=!1,xi=!1,Vo=!1,yn=0;function ca(e){e!==is&&e.next===null&&(is===null?gi=is=e:is=is.next=e),xi=!0,Yo||(Yo=!0,Cg())}function Ws(e,t){if(!Vo&&xi){Vo=!0;do for(var a=!1,s=gi;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var r=0;else{var d=s.suspendedLanes,h=s.pingedLanes;r=(1<<31-Ve(42|e)+1)-1,r&=l&~(d&~h),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,am(s,r))}else r=Ue,r=Pa(s,s===Pe?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(r&3)===0||en(s,r)||(a=!0,am(s,r));s=s.next}while(a);Vo=!1}}function _g(){Pf()}function Pf(){xi=Yo=!1;var e=0;yn!==0&&(Ug()&&(e=yn),yn=0);for(var t=fe(),a=null,s=gi;s!==null;){var l=s.next,r=em(s,t);r===0?(s.next=null,a===null?gi=l:a.next=l,l===null&&(is=a)):(a=s,(e!==0||(r&3)!==0)&&(xi=!0)),s=l}Ws(e)}function em(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var d=31-Ve(r),h=1<<d,g=l[d];g===-1?((h&a)===0||(h&s)!==0)&&(l[d]=er(h,t)):g<=t&&(e.expiredLanes|=h),r&=~h}if(t=Pe,a=Ue,a=Pa(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Se(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||en(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Se(s),ar(a)){case 2:case 8:a=Ne;break;case 32:a=Ge;break;case 268435456:a=ye;break;default:a=Ge}return s=tm.bind(null,e),a=ne(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Se(s),e.callbackPriority=2,e.callbackNode=null,2}function tm(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pi()&&e.callbackNode!==a)return null;var s=Ue;return s=Pa(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Uf(e,s,t),em(e,fe()),e.callbackNode!=null&&e.callbackNode===a?tm.bind(null,e):null)}function am(e,t){if(pi())return null;Uf(e,t,!0)}function Cg(){qg(function(){(Xe&6)!==0?ne(xe,_g):Pf()})}function Qo(){return yn===0&&(yn=jl()),yn}function nm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function sm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Dg(e,t,a,s,l){if(t==="submit"&&a&&a.stateNode===l){var r=nm((l[kt]||null).action),d=s.submitter;d&&(t=(t=d[kt]||null)?nm(t.formAction):d.getAttribute("formAction"),t!==null&&(r=t,d=null));var h=new Rl("action","action",null,s,l);e.push({event:h,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(yn!==0){var g=d?sm(l,d):new FormData(l);oo(a,{pending:!0,data:g,method:l.method,action:r},null,g)}}else typeof r=="function"&&(h.preventDefault(),g=d?sm(l,d):new FormData(l),oo(a,{pending:!0,data:g,method:l.method,action:r},r,g))},currentTarget:l}]})}}for(var Go=0;Go<Ar.length;Go++){var Xo=Ar[Go],kg=Xo.toLowerCase(),Rg=Xo[0].toUpperCase()+Xo.slice(1);ea(kg,"on"+Rg)}ea(Bu,"onAnimationEnd"),ea(Uu,"onAnimationIteration"),ea(Lu,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(Jp,"onTransitionRun"),ea($p,"onTransitionStart"),ea(Ip,"onTransitionCancel"),ea(qu,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ps));function lm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],l=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var d=s.length-1;0<=d;d--){var h=s[d],g=h.instance,C=h.currentTarget;if(h=h.listener,g!==r&&l.isPropagationStopped())break e;r=h,l.currentTarget=C;try{r(l)}catch(G){si(G)}l.currentTarget=null,r=g}else for(d=0;d<s.length;d++){if(h=s[d],g=h.instance,C=h.currentTarget,h=h.listener,g!==r&&l.isPropagationStopped())break e;r=h,l.currentTarget=C;try{r(l)}catch(G){si(G)}l.currentTarget=null,r=g}}}}function ze(e,t){var a=t[nr];a===void 0&&(a=t[nr]=new Set);var s=e+"__bubble";a.has(s)||(im(t,e,2,!1),a.add(s))}function Fo(e,t,a){var s=0;t&&(s|=4),im(a,e,s,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[vi]){e[vi]=!0,Wc.forEach(function(a){a!=="selectionchange"&&(zg.has(a)||Fo(a,!1,e),Fo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,Fo("selectionchange",!1,t))}}function im(e,t,a,s){switch(Dm(t)){case 2:var l=ix;break;case 8:l=rx;break;default:l=rc}a=l.bind(null,t,a,e),l=void 0,!hr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Ko(e,t,a,s,l){var r=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var h=s.stateNode.containerInfo;if(h===l)break;if(d===4)for(d=s.return;d!==null;){var g=d.tag;if((g===3||g===4)&&d.stateNode.containerInfo===l)return;d=d.return}for(;h!==null;){if(d=An(h),d===null)return;if(g=d.tag,g===5||g===6||g===26||g===27){s=r=d;continue e}h=h.parentNode}}s=s.return}fu(function(){var C=r,G=fr(a),$=[];e:{var k=Hu.get(e);if(k!==void 0){var R=Rl,je=e;switch(e){case"keypress":if(Dl(a)===0)break e;case"keydown":case"keyup":R=Ap;break;case"focusin":je="focus",R=vr;break;case"focusout":je="blur",R=vr;break;case"beforeblur":case"afterblur":R=vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Dp;break;case Bu:case Uu:case Lu:R=vp;break;case qu:R=Rp;break;case"scroll":case"scrollend":R=mp;break;case"wheel":R=Op;break;case"copy":case"cut":case"paste":R=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=xu;break;case"toggle":case"beforetoggle":R=Bp}var ve=(t&4)!==0,Je=!ve&&(e==="scroll"||e==="scrollend"),T=ve?k!==null?k+"Capture":null:k;ve=[];for(var v=C,_;v!==null;){var K=v;if(_=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||_===null||T===null||(K=vs(v,T),K!=null&&ve.push(el(v,K,_))),Je)break;v=v.return}0<ve.length&&(k=new R(k,je,null,a,G),$.push({event:k,listeners:ve}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",k&&a!==dr&&(je=a.relatedTarget||a.fromElement)&&(An(je)||je[En]))break e;if((R||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,R?(je=a.relatedTarget||a.toElement,R=C,je=je?An(je):null,je!==null&&(Je=p(je),ve=je.tag,je!==Je||ve!==5&&ve!==27&&ve!==6)&&(je=null)):(R=null,je=C),R!==je)){if(ve=pu,K="onMouseLeave",T="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(ve=xu,K="onPointerLeave",T="onPointerEnter",v="pointer"),Je=R==null?k:xs(R),_=je==null?k:xs(je),k=new ve(K,v+"leave",R,a,G),k.target=Je,k.relatedTarget=_,K=null,An(G)===C&&(ve=new ve(T,v+"enter",je,a,G),ve.target=_,ve.relatedTarget=Je,K=ve),Je=K,R&&je)t:{for(ve=R,T=je,v=0,_=ve;_;_=rs(_))v++;for(_=0,K=T;K;K=rs(K))_++;for(;0<v-_;)ve=rs(ve),v--;for(;0<_-v;)T=rs(T),_--;for(;v--;){if(ve===T||T!==null&&ve===T.alternate)break t;ve=rs(ve),T=rs(T)}ve=null}else ve=null;R!==null&&rm($,k,R,ve,!1),je!==null&&Je!==null&&rm($,Je,je,ve,!0)}}e:{if(k=C?xs(C):window,R=k.nodeName&&k.nodeName.toLowerCase(),R==="select"||R==="input"&&k.type==="file")var me=wu;else if(Su(k))if(Eu)me=Fp;else{me=Gp;var De=Qp}else R=k.nodeName,!R||R.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?C&&ur(C.elementType)&&(me=wu):me=Xp;if(me&&(me=me(e,C))){Tu($,me,a,G);break e}De&&De(e,k,C),e==="focusout"&&C&&k.type==="number"&&C.memoizedProps.value!=null&&cr(k,"number",k.value)}switch(De=C?xs(C):window,e){case"focusin":(Su(De)||De.contentEditable==="true")&&(Un=De,Tr=C,Es=null);break;case"focusout":Es=Tr=Un=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Ou($,a,G);break;case"selectionchange":if(Kp)break;case"keydown":case"keyup":Ou($,a,G)}var pe;if(br)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Bn?ju(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(vu&&a.locale!=="ko"&&(Bn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Bn&&(pe=mu()):(ka=G,pr="value"in ka?ka.value:ka.textContent,Bn=!0)),De=yi(C,be),0<De.length&&(be=new gu(be,e,null,a,G),$.push({event:be,listeners:De}),pe?be.data=pe:(pe=Nu(a),pe!==null&&(be.data=pe)))),(pe=Lp?qp(e,a):Hp(e,a))&&(be=yi(C,"onBeforeInput"),0<be.length&&(De=new gu("onBeforeInput","beforeinput",null,a,G),$.push({event:De,listeners:be}),De.data=pe)),Dg($,e,C,a,G)}lm($,t)})}function el(e,t,a){return{instance:e,listener:t,currentTarget:a}}function yi(e,t){for(var a=t+"Capture",s=[];e!==null;){var l=e,r=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||r===null||(l=vs(e,a),l!=null&&s.unshift(el(e,l,r)),l=vs(e,t),l!=null&&s.push(el(e,l,r))),e.tag===3)return s;e=e.return}return[]}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rm(e,t,a,s,l){for(var r=t._reactName,d=[];a!==null&&a!==s;){var h=a,g=h.alternate,C=h.stateNode;if(h=h.tag,g!==null&&g===s)break;h!==5&&h!==26&&h!==27||C===null||(g=C,l?(C=vs(a,r),C!=null&&d.unshift(el(a,C,g))):l||(C=vs(a,r),C!=null&&d.push(el(a,C,g)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var Og=/\r\n?/g,Mg=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(Og,`
`).replace(Mg,"")}function cm(e,t){return t=om(t),om(e)===t}function bi(){}function Ke(e,t,a,s,l,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||zn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&zn(e,""+s);break;case"className":wl(e,"class",s);break;case"tabIndex":wl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(e,a,s);break;case"style":uu(e,s,r);break;case"data":if(t!=="object"){wl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=_l(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Ke(e,t,"name",l.name,l,null),Ke(e,t,"formEncType",l.formEncType,l,null),Ke(e,t,"formMethod",l.formMethod,l,null),Ke(e,t,"formTarget",l.formTarget,l,null)):(Ke(e,t,"encType",l.encType,l,null),Ke(e,t,"method",l.method,l,null),Ke(e,t,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=_l(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=bi);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(l.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=_l(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ze("beforetoggle",e),ze("toggle",e),Tl(e,"popover",s);break;case"xlinkActuate":ha(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ha(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ha(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ha(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ha(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ha(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ha(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ha(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ha(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Tl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dp.get(a)||a,Tl(e,a,s))}}function Jo(e,t,a,s,l,r){switch(a){case"style":uu(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(l.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof s=="string"?zn(e,s):(typeof s=="number"||typeof s=="bigint")&&zn(e,""+s);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"onClick":s!=null&&(e.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),r=e[kt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,l),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,l);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Tl(e,a,s)}}}function Nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var s=!1,l=!1,r;for(r in a)if(a.hasOwnProperty(r)){var d=a[r];if(d!=null)switch(r){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ke(e,t,r,d,a,null)}}l&&Ke(e,t,"srcSet",a.srcSet,a,null),s&&Ke(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var h=r=d=l=null,g=null,C=null;for(s in a)if(a.hasOwnProperty(s)){var G=a[s];if(G!=null)switch(s){case"name":l=G;break;case"type":d=G;break;case"checked":g=G;break;case"defaultChecked":C=G;break;case"value":r=G;break;case"defaultValue":h=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:Ke(e,t,s,G,a,null)}}iu(e,r,h,g,C,d,l,!1),El(e);return;case"select":ze("invalid",e),s=d=r=null;for(l in a)if(a.hasOwnProperty(l)&&(h=a[l],h!=null))switch(l){case"value":r=h;break;case"defaultValue":d=h;break;case"multiple":s=h;default:Ke(e,t,l,h,a,null)}t=r,a=d,e.multiple=!!s,t!=null?Rn(e,!!s,t,!1):a!=null&&Rn(e,!!s,a,!0);return;case"textarea":ze("invalid",e),r=l=s=null;for(d in a)if(a.hasOwnProperty(d)&&(h=a[d],h!=null))switch(d){case"value":s=h;break;case"defaultValue":l=h;break;case"children":r=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(c(91));break;default:Ke(e,t,d,h,a,null)}ou(e,s,l,r),El(e);return;case"option":for(g in a)if(a.hasOwnProperty(g)&&(s=a[g],s!=null))switch(g){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ke(e,t,g,s,a,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(s=0;s<Ps.length;s++)ze(Ps[s],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(s=a[C],s!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ke(e,t,C,s,a,null)}return;default:if(ur(t)){for(G in a)a.hasOwnProperty(G)&&(s=a[G],s!==void 0&&Jo(e,t,G,s,a,void 0));return}}for(h in a)a.hasOwnProperty(h)&&(s=a[h],s!=null&&Ke(e,t,h,s,a,null))}function Bg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,r=null,d=null,h=null,g=null,C=null,G=null;for(R in a){var $=a[R];if(a.hasOwnProperty(R)&&$!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":g=$;default:s.hasOwnProperty(R)||Ke(e,t,R,null,s,$)}}for(var k in s){var R=s[k];if($=a[k],s.hasOwnProperty(k)&&(R!=null||$!=null))switch(k){case"type":r=R;break;case"name":l=R;break;case"checked":C=R;break;case"defaultChecked":G=R;break;case"value":d=R;break;case"defaultValue":h=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(c(137,t));break;default:R!==$&&Ke(e,t,k,R,s,$)}}or(e,d,h,g,C,G,r,l);return;case"select":R=d=h=k=null;for(r in a)if(g=a[r],a.hasOwnProperty(r)&&g!=null)switch(r){case"value":break;case"multiple":R=g;default:s.hasOwnProperty(r)||Ke(e,t,r,null,s,g)}for(l in s)if(r=s[l],g=a[l],s.hasOwnProperty(l)&&(r!=null||g!=null))switch(l){case"value":k=r;break;case"defaultValue":h=r;break;case"multiple":d=r;default:r!==g&&Ke(e,t,l,r,s,g)}t=h,a=d,s=R,k!=null?Rn(e,!!a,k,!1):!!s!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":R=k=null;for(h in a)if(l=a[h],a.hasOwnProperty(h)&&l!=null&&!s.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:Ke(e,t,h,null,s,l)}for(d in s)if(l=s[d],r=a[d],s.hasOwnProperty(d)&&(l!=null||r!=null))switch(d){case"value":k=l;break;case"defaultValue":R=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(c(91));break;default:l!==r&&Ke(e,t,d,l,s,r)}ru(e,k,R);return;case"option":for(var je in a)if(k=a[je],a.hasOwnProperty(je)&&k!=null&&!s.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:Ke(e,t,je,null,s,k)}for(g in s)if(k=s[g],R=a[g],s.hasOwnProperty(g)&&k!==R&&(k!=null||R!=null))switch(g){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ke(e,t,g,k,s,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)k=a[ve],a.hasOwnProperty(ve)&&k!=null&&!s.hasOwnProperty(ve)&&Ke(e,t,ve,null,s,k);for(C in s)if(k=s[C],R=a[C],s.hasOwnProperty(C)&&k!==R&&(k!=null||R!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(c(137,t));break;default:Ke(e,t,C,k,s,R)}return;default:if(ur(t)){for(var Je in a)k=a[Je],a.hasOwnProperty(Je)&&k!==void 0&&!s.hasOwnProperty(Je)&&Jo(e,t,Je,void 0,s,k);for(G in s)k=s[G],R=a[G],!s.hasOwnProperty(G)||k===R||k===void 0&&R===void 0||Jo(e,t,G,k,s,R);return}}for(var T in a)k=a[T],a.hasOwnProperty(T)&&k!=null&&!s.hasOwnProperty(T)&&Ke(e,t,T,null,s,k);for($ in s)k=s[$],R=a[$],!s.hasOwnProperty($)||k===R||k==null&&R==null||Ke(e,t,$,k,s,R)}var $o=null,Io=null;function ji(e){return e.nodeType===9?e:e.ownerDocument}function um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=null;function Ug(){var e=window.event;return e&&e.type==="popstate"?e===Po?!1:(Po=e,!0):(Po=null,!1)}var fm=typeof setTimeout=="function"?setTimeout:void 0,Lg=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,qg=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(e){return mm.resolve(null).then(e).catch(Hg)}:fm;function Hg(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function hm(e,t){var a=t,s=0,l=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<s&&8>s){a=s;var d=e.ownerDocument;if(a&1&&tl(d.documentElement),a&2&&tl(d.body),a&4)for(a=d.head,tl(a),d=a.firstChild;d;){var h=d.nextSibling,g=d.nodeName;d[gs]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=h}}if(l===0){e.removeChild(r),cl(t);return}l--}else a==="$"||a==="$?"||a==="$!"?l++:s=a.charCodeAt(0)-48;else s=0;a=r}while(a);cl(t)}function ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ec(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Yg(e,t,a,s){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[gs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=aa(e.nextSibling),e===null)break}return null}function Vg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=aa(e.nextSibling),e===null))return null;return e}function tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Qg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ac=null;function pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function gm(e,t,a){switch(t=ji(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function tl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sr(e)}var Pt=new Map,xm=new Set;function Ni(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _a=H.d;H.d={f:Gg,r:Xg,D:Fg,C:Zg,L:Kg,m:Jg,X:Ig,S:$g,M:Wg};function Gg(){var e=_a.f(),t=mi();return e||t}function Xg(e){var t=_n(e);t!==null&&t.tag===5&&t.type==="form"?Bd(t):_a.r(e)}var os=typeof document>"u"?null:document;function vm(e,t,a){var s=os;if(s&&typeof t=="string"&&t){var l=Ft(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),xm.has(l)||(xm.add(l),e={rel:e,crossOrigin:a,href:t},s.querySelector(l)===null&&(t=s.createElement("link"),Nt(t,"link",e),mt(t),s.head.appendChild(t)))}}function Fg(e){_a.D(e),vm("dns-prefetch",e,null)}function Zg(e,t){_a.C(e,t),vm("preconnect",e,t)}function Kg(e,t,a){_a.L(e,t,a);var s=os;if(s&&e&&t){var l='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Ft(a.imageSizes)+'"]')):l+='[href="'+Ft(e)+'"]';var r=l;switch(t){case"style":r=cs(e);break;case"script":r=us(e)}Pt.has(r)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Pt.set(r,e),s.querySelector(l)!==null||t==="style"&&s.querySelector(al(r))||t==="script"&&s.querySelector(nl(r))||(t=s.createElement("link"),Nt(t,"link",e),mt(t),s.head.appendChild(t)))}}function Jg(e,t){_a.m(e,t);var a=os;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Ft(s)+'"][href="'+Ft(e)+'"]',r=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=us(e)}if(!Pt.has(r)&&(e=y({rel:"modulepreload",href:e},t),Pt.set(r,e),a.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nl(r)))return}s=a.createElement("link"),Nt(s,"link",e),mt(s),a.head.appendChild(s)}}}function $g(e,t,a){_a.S(e,t,a);var s=os;if(s&&e){var l=Cn(s).hoistableStyles,r=cs(e);t=t||"default";var d=l.get(r);if(!d){var h={loading:0,preload:null};if(d=s.querySelector(al(r)))h.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Pt.get(r))&&nc(e,a);var g=d=s.createElement("link");mt(g),Nt(g,"link",e),g._p=new Promise(function(C,G){g.onload=C,g.onerror=G}),g.addEventListener("load",function(){h.loading|=1}),g.addEventListener("error",function(){h.loading|=2}),h.loading|=4,Si(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:h},l.set(r,d)}}}function Ig(e,t){_a.X(e,t);var a=os;if(a&&e){var s=Cn(a).hoistableScripts,l=us(e),r=s.get(l);r||(r=a.querySelector(nl(l)),r||(e=y({src:e,async:!0},t),(t=Pt.get(l))&&sc(e,t),r=a.createElement("script"),mt(r),Nt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(l,r))}}function Wg(e,t){_a.M(e,t);var a=os;if(a&&e){var s=Cn(a).hoistableScripts,l=us(e),r=s.get(l);r||(r=a.querySelector(nl(l)),r||(e=y({src:e,async:!0,type:"module"},t),(t=Pt.get(l))&&sc(e,t),r=a.createElement("script"),mt(r),Nt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(l,r))}}function ym(e,t,a,s){var l=(l=et.current)?Ni(l):null;if(!l)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=cs(a.href),a=Cn(l).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=cs(a.href);var r=Cn(l).hoistableStyles,d=r.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,d),(r=l.querySelector(al(e)))&&!r._p&&(d.instance=r,d.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),r||Pg(l,e,a,d.state))),t&&s===null)throw Error(c(528,""));return d}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=us(a),a=Cn(l).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function cs(e){return'href="'+Ft(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function bm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Pg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Nt(t,"link",a),mt(t),e.head.appendChild(t))}function us(e){return'[src="'+Ft(e)+'"]'}function nl(e){return"script[async]"+e}function jm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(s)return t.instance=s,mt(s),s;var l=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),mt(s),Nt(s,"style",l),Si(s,a.precedence,e),t.instance=s;case"stylesheet":l=cs(a.href);var r=e.querySelector(al(l));if(r)return t.state.loading|=4,t.instance=r,mt(r),r;s=bm(a),(l=Pt.get(l))&&nc(s,l),r=(e.ownerDocument||e).createElement("link"),mt(r);var d=r;return d._p=new Promise(function(h,g){d.onload=h,d.onerror=g}),Nt(r,"link",s),t.state.loading|=4,Si(r,a.precedence,e),t.instance=r;case"script":return r=us(a.src),(l=e.querySelector(nl(r)))?(t.instance=l,mt(l),l):(s=a,(l=Pt.get(r))&&(s=y({},a),sc(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),mt(l),Nt(l,"link",s),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Si(s,a.precedence,e));return t.instance}function Si(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,r=l,d=0;d<s.length;d++){var h=s[d];if(h.dataset.precedence===t)r=h;else if(r!==l)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ti=null;function Nm(e,t,a){if(Ti===null){var s=new Map,l=Ti=new Map;l.set(a,s)}else l=Ti,s=l.get(a),s||(s=new Map,l.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var r=a[l];if(!(r[gs]||r[Tt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var d=r.getAttribute(t)||"";d=e+d;var h=s.get(d);h?h.push(r):s.set(d,[r])}}return s}function Sm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ex(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function tx(){}function ax(e,t,a){if(sl===null)throw Error(c(475));var s=sl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=cs(a.href),r=e.querySelector(al(l));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=wi.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=r,mt(r);return}r=e.ownerDocument||e,a=bm(a),(l=Pt.get(l))&&nc(a,l),r=r.createElement("link"),mt(r);var d=r;d._p=new Promise(function(h,g){d.onload=h,d.onerror=g}),Nt(r,"link",a),t.instance=r}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=wi.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function nx(){if(sl===null)throw Error(c(475));var e=sl;return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function wi(){if(this.count--,this.count===0){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ei=null;function lc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ei=new Map,t.forEach(sx,e),Ei=null,wi.call(e))}function sx(e,t){if(!(t.state.loading&4)){var a=Ei.get(e);if(a)var s=a.get(null);else{a=new Map,Ei.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<l.length;r++){var d=l[r];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),s=d)}s&&a.set(null,s)}l=t.instance,d=l.getAttribute("data-precedence"),r=a.get(d)||s,r===s&&a.set(null,l),a.set(d,l),this.count++,s=wi.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),r?r.parentNode.insertBefore(l,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ll={$$typeof:O,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function lx(e,t,a,s,l,r,d,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.hiddenUpdates=Sl(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=r,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function wm(e,t,a,s,l,r,d,h,g,C,G,$){return e=new lx(e,t,a,d,h,g,C,$),t=1,r===!0&&(t|=24),r=qt(3,null,null,t),e.current=r,r.stateNode=e,t=qr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},Qr(r),e}function Em(e){return e?(e=Yn,e):Yn}function Am(e,t,a,s,l,r){l=Em(l),s.context===null?s.context=l:s.pendingContext=l,s=Oa(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=Ma(e,s,t),a!==null&&(Gt(a,e,t),Ms(a,e,t))}function _m(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ic(e,t){_m(e,t),(e=e.alternate)&&_m(e,t)}function Cm(e){if(e.tag===13){var t=Hn(e,67108864);t!==null&&Gt(t,e,67108864),ic(e,67108864)}}var Ai=!0;function ix(e,t,a,s){var l=N.T;N.T=null;var r=H.p;try{H.p=2,rc(e,t,a,s)}finally{H.p=r,N.T=l}}function rx(e,t,a,s){var l=N.T;N.T=null;var r=H.p;try{H.p=8,rc(e,t,a,s)}finally{H.p=r,N.T=l}}function rc(e,t,a,s){if(Ai){var l=oc(s);if(l===null)Ko(e,t,s,_i,a),km(e,s);else if(cx(l,e,t,a,s))s.stopPropagation();else if(km(e,s),t&4&&-1<ox.indexOf(e)){for(;l!==null;){var r=_n(l);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var d=nt(r.pendingLanes);if(d!==0){var h=r;for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var g=1<<31-Ve(d);h.entanglements[1]|=g,d&=~g}ca(r),(Xe&6)===0&&(di=fe()+500,Ws(0))}}break;case 13:h=Hn(r,2),h!==null&&Gt(h,r,2),mi(),ic(r,2)}if(r=oc(s),r===null&&Ko(e,t,s,_i,a),r===l)break;l=r}l!==null&&s.stopPropagation()}else Ko(e,t,s,null,a)}}function oc(e){return e=fr(e),cc(e)}var _i=null;function cc(e){if(_i=null,e=An(e),e!==null){var t=p(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _i=e,null}function Dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case xe:return 2;case Ne:return 8;case Ge:case Z:return 32;case ye:return 268435456;default:return 32}default:return 32}}var uc=!1,Ka=null,Ja=null,$a=null,il=new Map,rl=new Map,Ia=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function ol(e,t,a,s,l,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[l]},t!==null&&(t=_n(t),t!==null&&Cm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function cx(e,t,a,s,l){switch(t){case"focusin":return Ka=ol(Ka,e,t,a,s,l),!0;case"dragenter":return Ja=ol(Ja,e,t,a,s,l),!0;case"mouseover":return $a=ol($a,e,t,a,s,l),!0;case"pointerover":var r=l.pointerId;return il.set(r,ol(il.get(r)||null,e,t,a,s,l)),!0;case"gotpointercapture":return r=l.pointerId,rl.set(r,ol(rl.get(r)||null,e,t,a,s,l)),!0}return!1}function Rm(e){var t=An(e.target);if(t!==null){var a=p(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,ap(e.priority,function(){if(a.tag===13){var s=Qt();s=tr(s);var l=Hn(a,s);l!==null&&Gt(l,a,s),ic(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=oc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);dr=s,a.target.dispatchEvent(s),dr=null}else return t=_n(a),t!==null&&Cm(t),e.blockedOn=a,!1;t.shift()}return!0}function zm(e,t,a){Ci(e)&&a.delete(t)}function ux(){uc=!1,Ka!==null&&Ci(Ka)&&(Ka=null),Ja!==null&&Ci(Ja)&&(Ja=null),$a!==null&&Ci($a)&&($a=null),il.forEach(zm),rl.forEach(zm)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ux)))}var ki=null;function Om(e){ki!==e&&(ki=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ki===e&&(ki=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],l=e[t+2];if(typeof s!="function"){if(cc(s||a)===null)continue;break}var r=_n(a);r!==null&&(e.splice(t,3),t-=3,oo(r,{pending:!0,data:l,method:a.method,action:s},s,l))}}))}function cl(e){function t(g){return Di(g,e)}Ka!==null&&Di(Ka,e),Ja!==null&&Di(Ja,e),$a!==null&&Di($a,e),il.forEach(t),rl.forEach(t);for(var a=0;a<Ia.length;a++){var s=Ia[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)Rm(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var l=a[s],r=a[s+1],d=l[kt]||null;if(typeof r=="function")d||Om(a);else if(d){var h=null;if(r&&r.hasAttribute("formAction")){if(l=r,d=r[kt]||null)h=d.formAction;else if(cc(l)!==null)continue}else h=d.action;typeof h=="function"?a[s+1]=h:(a.splice(s,3),s-=3),Om(a)}}}function dc(e){this._internalRoot=e}Ri.prototype.render=dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,s=Qt();Am(a,s,e,t,null,null)},Ri.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Am(e.current,2,null,e,null,null),mi(),t[En]=null}};function Ri(e){this._internalRoot=e}Ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=$c();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ia.length&&t!==0&&t<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&Rm(e)}};var Mm=o.version;if(Mm!=="19.1.1")throw Error(c(527,Mm,"19.1.1"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=b(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var dx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{Oe=zi.inject(dx),Te=zi}catch{}}return ul.createRoot=function(e,t){if(!f(e))throw Error(c(299));var a=!1,s="",l=$d,r=Id,d=Wd,h=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(h=t.unstable_transitionCallbacks)),t=wm(e,1,!1,null,null,a,s,l,r,d,h,null),e[En]=t.current,Zo(e),new dc(t)},ul.hydrateRoot=function(e,t,a){if(!f(e))throw Error(c(299));var s=!1,l="",r=$d,d=Id,h=Wd,g=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(h=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(g=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),t=wm(e,1,!0,t,a??null,s,l,r,d,h,g,C),t.context=Em(null),a=t.current,s=Qt(),s=tr(s),l=Oa(s),l.callback=null,Ma(a,l,s),a=s,t.current.lanes=a,tn(t,a),ca(t),e[En]=t.current,Zo(e),new Ri(t)},ul.version="19.1.1",ul}var qm;function wx(){if(qm)return fc.exports;qm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),fc.exports=Tx(),fc.exports}var Ex=wx();function Ax({onLogin:i}){const[o,u]=j.useState("login"),[c,f]=j.useState({email:"",password:"",username:"",confirmPassword:"",name:"",lastname:""}),[p,m]=j.useState({}),[x,b]=j.useState(""),[S,y]=j.useState(!1),[z,M]=j.useState("enter"),[P,B]=j.useState(!1),[U,D]=j.useState(!0),J=ma();j.useEffect(()=>{D(!0);const re=setTimeout(()=>{D(!1)},1500);return()=>clearTimeout(re)},[o]);const F=re=>{const{name:N,value:H}=re.target;f(E=>({...E,[N]:H})),p[N]&&m(E=>({...E,[N]:null}))},O=async re=>{try{const N=await fetch("https://stage-slk6.onrender.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),H=await N.json();if(!N.ok)throw new Error(H.message||"chec de l'inscription");return H}catch(N){throw console.error("Erreur d'inscription:",N),N}},w=async re=>{try{const N=await fetch("https://stage-slk6.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!N.ok){const E=await N.json();throw new Error(E.message||`Erreur ${N.status}`)}const H=await N.json();if(!H.token||!H.user)throw new Error("Rponse du serveur invalide");return H}catch(N){throw console.error("Erreur de connexion:",N),N}},te=async(re,N)=>{try{const H=await fetch("https://stage-slk6.onrender.com/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:re,newPassword:N})}),E=await H.json();if(!H.ok)throw new Error(E.message||"chec de la rinitialisation");return E}catch(H){throw console.error("Erreur de rinitialisation:",H),H}},q=()=>{const re={};return c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(re.email="Format email invalide"):re.email="Email requis",c.password?c.password.length<6&&(re.password="6 caractres minimum"):re.password="Mot de passe requis",m(re),Object.keys(re).length===0},Y=()=>{const re={};return c.name.trim()||(re.name="Prnom requis"),c.lastname.trim()||(re.lastname="Nom requis"),c.username.trim()||(re.username="Pseudonyme requis"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(re.email="Format email invalide"):re.email="Email requis",c.password?c.password.length<6&&(re.password="6 caractres minimum"):re.password="Mot de passe requis",c.confirmPassword?c.password!==c.confirmPassword&&(re.confirmPassword="Les mots de passe ne correspondent pas"):re.confirmPassword="Confirmation requise",m(re),Object.keys(re).length===0},A=async re=>{if(re.preventDefault(),!!q()){B(!0);try{const H={...await w({email:c.email.trim(),password:c.password}),rememberMe:S};b("Connexion russie !"),i(H)}catch(N){console.error("Dtails de l'erreur:",N),m({submit:N.message.includes("401")?"Email ou mot de passe incorrect":N.message||"Erreur technique"})}finally{B(!1)}}},ae=async re=>{if(re.preventDefault(),!!Y()){B(!0);try{const N=await O(c);b("Inscription russie ! Connexion...");const E={...await w({email:c.email,password:c.password}),rememberMe:S};i(E)}catch(N){m({submit:N.message||"chec de l'inscription. Veuillez ressayer."})}finally{B(!1)}}},V=async re=>{if(re.preventDefault(),!!q()){B(!0);try{await te(c.email,c.password),b("Mot de passe rinitialis ! Redirection..."),setTimeout(()=>{b(""),u("login"),f({email:"",password:"",username:"",confirmPassword:"",name:"",lastname:""})},1500)}catch(N){m({submit:N.message||"chec de la rinitialisation. Veuillez ressayer."})}finally{B(!1)}}},I=async re=>{o==="login"?await A(re):o==="signup"?await ae(re):o==="forgot"&&await V(re)},X=re=>{M("exit"),setTimeout(()=>{u(re),M("enter"),m({}),b(""),f({email:"",password:"",username:"",confirmPassword:"",name:"",lastname:""})},300)},se=()=>{X("forgot")},W=()=>{console.log("Info scurit clique")};return n.jsxs("div",{className:"auth-modal",children:[n.jsxs("div",{className:"auth-modal-content",children:[n.jsx("button",{className:"close-modal",onClick:()=>J("/"),"aria-label":"Fermer",children:n.jsx("span",{className:"close-icon",children:""})}),n.jsxs("div",{className:"ai-assistant",children:[n.jsxs("div",{className:"ai-header",children:[n.jsxs("div",{className:"ai-avatar",children:[n.jsx("span",{className:"ai-icon",children:""}),n.jsx("div",{className:"ai-status"})]}),n.jsxs("div",{className:"ai-info",children:[n.jsx("h4",{children:"Assistant FacturaPro IA"}),n.jsx("p",{children:"En ligne  Analyse en cours..."})]})]}),n.jsx("div",{className:"ai-message",children:U?n.jsxs("div",{className:"typing-indicator",children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]}):n.jsx("p",{children:o==="login"?"Bonjour ! Je dtecte que vous souhaitez accder  votre compte. Laissez-moi vous guider.":o==="signup"?"Bienvenue ! Je vous assiste pour crer votre compte et optimiser votre exprience de facturation.":"Je vous assiste pour rinitialiser votre mot de passe en toute scurit."})}),n.jsxs("div",{className:"ai-suggestions",children:[o!=="forgot"&&n.jsx("div",{className:"suggestion-chip",onClick:se,children:n.jsx("span",{children:" Mot de passe oubli ?"})}),n.jsx("div",{className:"suggestion-chip",onClick:()=>X(o==="login"?"signup":"login"),children:n.jsxs("span",{children:[" ",o==="login"?"Crer un compte":"Se connecter"]})}),n.jsx("div",{className:"suggestion-chip",onClick:W,children:n.jsx("span",{children:" Scurit renforce"})})]})]}),n.jsxs("form",{className:"auth-form",onSubmit:I,children:[n.jsx("h2",{children:o==="login"?"Connexion":o==="signup"?"Inscription":"Rinitialisation"}),p.submit&&n.jsx("div",{className:"error-message",children:p.submit}),x&&n.jsx("div",{className:"success-message",children:x}),o==="signup"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group-inline",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("input",{type:"text",name:"name",value:c.name,onChange:F,placeholder:"Prnom",className:p.name?"error":""}),p.name&&n.jsx("span",{className:"error-message",children:p.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("input",{type:"text",name:"lastname",value:c.lastname,onChange:F,placeholder:"Nom",className:p.lastname?"error":""}),p.lastname&&n.jsx("span",{className:"error-message",children:p.lastname})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("input",{type:"text",name:"username",value:c.username,onChange:F,placeholder:"Pseudonyme",className:p.username?"error":""}),p.username&&n.jsx("span",{className:"error-message",children:p.username})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("input",{type:"email",name:"email",value:c.email,onChange:F,placeholder:"Email",className:p.email?"error":""}),p.email&&n.jsx("span",{className:"error-message",children:p.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("input",{type:"password",name:"password",value:c.password,onChange:F,placeholder:o==="forgot"?"Nouveau mot de passe":"Mot de passe",className:p.password?"error":""}),p.password&&n.jsx("span",{className:"error-message",children:p.password})]}),(o==="signup"||o==="forgot")&&n.jsxs("div",{className:"form-group",children:[n.jsx("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:F,placeholder:"Confirmer le mot de passe",className:p.confirmPassword?"error":""}),p.confirmPassword&&n.jsx("span",{className:"error-message",children:p.confirmPassword})]}),o==="login"&&n.jsx("div",{className:"form-options",children:n.jsxs("div",{className:"remember-me",children:[n.jsx("input",{type:"checkbox",id:"rememberMe",checked:S,onChange:()=>y(!S)}),n.jsx("label",{htmlFor:"rememberMe",children:"Se souvenir de moi"})]})}),n.jsx("button",{type:"submit",className:`auth-submit-btn ${P?"loading":""}`,disabled:P,children:P?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),o==="login"?"Connexion en cours...":o==="signup"?"Cration en cours...":"Rinitialisation en cours..."]}):o==="login"?"Se connecter":o==="signup"?"S'inscrire":"Rinitialiser"}),n.jsx("div",{className:"auth-switch",children:n.jsxs("p",{children:[o==="login"?"Pas encore de compte? ":o==="signup"?"Dj un compte? ":"Retour  la connexion? ",n.jsx("span",{onClick:()=>X(o==="login"?"signup":"login"),className:"auth-switch-link",children:o==="login"?"Inscrivez-vous":o==="signup"?"Connectez-vous":"Se connecter"})]})})]}),n.jsxs("div",{className:"trust-badges",children:[n.jsxs("div",{className:"trust-item",children:[n.jsx("span",{className:"trust-icon",children:""}),n.jsx("span",{children:"Chiffrement AES-256"})]}),n.jsxs("div",{className:"trust-item",children:[n.jsx("span",{className:"trust-icon",children:""}),n.jsx("span",{children:"IA de dtection de fraude"})]}),n.jsxs("div",{className:"trust-item",children:[n.jsx("span",{className:"trust-icon",children:""}),n.jsx("span",{children:"Certifi RGPD"})]})]}),n.jsxs("div",{className:"security-scan",children:[n.jsx("div",{className:"scan-progress",children:n.jsx("div",{className:"scan-bar"})}),n.jsx("p",{children:"Analyse de scurit en temps rel..."})]})]}),n.jsx("div",{className:"modal-overlay",onClick:()=>J("/")})]})}const _x=({onLogin:i})=>{const[o,u]=j.useState(!1),c=async f=>{u(!0);try{i(f)}catch(p){console.error("Erreur lors de la connexion:",p)}finally{u(!1)}};return n.jsxs(n.Fragment,{children:[o&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Chargement en cours..."})]}),n.jsx(Ax,{onLogin:c})]})};function Cx(){const[i,o]=j.useState(0),[u,c]=j.useState(!1),[f,p]=j.useState({email:"",password:"",confirmPassword:"",name:"",lastname:"",username:"",rememberMe:!1}),[m,x]=j.useState(!0),[b,S]=j.useState(!1),[y,z]=j.useState(""),[M,P]=j.useState(!1),[B,U]=j.useState(!1),[D,J]=j.useState([{id:1,text:"Hello! I'm the FacturaPro virtual assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[F,O]=j.useState(""),[w,te]=j.useState(!1),[q,Y]=j.useState(!0),[A,ae]=j.useState({strength:0,text:""}),V=j.useRef(!1),I=j.useRef(0),X=j.useRef(null);ma();const se=["https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80","https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80","https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80"],W=async ce=>{try{const ne=await fetch("https://stage-slk6.onrender.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),Se=await ne.json();if(!ne.ok){if(Se.errors&&Array.isArray(Se.errors)){const Be=Se.errors.join(", ");throw new Error(`Validation error: ${Be}`)}throw new Error(Se.message||"Registration failed")}return Se}catch(ne){throw console.error("Registration error:",ne),ne}},re=async ce=>{try{const ne=await fetch("https://stage-slk6.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(!ne.ok){const Be=await ne.json();throw new Error(Be.message||`Error ${ne.status}`)}const Se=await ne.json();if(!Se.token||!Se.user)throw new Error("Invalid server response");return Se}catch(ne){throw console.error("Login error:",ne),ne}},N=async ce=>{try{const ne=await fetch("https://stage-slk6.onrender.com/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(!ne.ok){const Be=await ne.json();throw new Error(Be.message||`Error ${ne.status}`)}return await ne.json()}catch(ne){throw console.error("Reset error:",ne),ne}};j.useEffect(()=>{const ce=document.querySelectorAll(".fullpage-section"),ne=()=>{if(V.current)return;const Be=window.scrollY+100;ce.forEach((ee,fe)=>{const ge=ee.offsetTop,xe=ee.offsetHeight;Be>=ge&&Be<ge+xe&&(I.current=fe)})},Se=Be=>{V.current||(Be.preventDefault(),V.current=!0,Be.deltaY>0&&I.current<ce.length-1?I.current++:Be.deltaY<0&&I.current>0&&I.current--,ce[I.current].scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{V.current=!1},1e3))};return window.addEventListener("scroll",ne),window.addEventListener("wheel",Se,{passive:!1}),()=>{window.removeEventListener("scroll",ne),window.removeEventListener("wheel",Se)}},[]),j.useEffect(()=>{const ce=setInterval(()=>{o(ne=>ne===se.length-1?0:ne+1)},5e3);return()=>clearInterval(ce)},[se.length]),j.useEffect(()=>{X.current&&(X.current.scrollTop=X.current.scrollHeight)},[D]),j.useEffect(()=>{(b||!m)&&f.password&&f.confirmPassword?Y(f.password===f.confirmPassword):Y(!0)},[f.password,f.confirmPassword,m,b]),j.useEffect(()=>{if((!m||b)&&f.password){const ce=H(f.password);ae(ce)}else ae({strength:0,text:""})},[f.password,m,b]);const H=ce=>{let ne=0,Se="";switch(ce.length>=8&&(ne+=1),/[A-Z]/.test(ce)&&(ne+=1),/[0-9]/.test(ce)&&(ne+=1),/[^A-Za-z0-9]/.test(ce)&&(ne+=1),ne){case 0:case 1:Se="Weak";break;case 2:Se="Medium";break;case 3:Se="Strong";break;case 4:Se="Very strong";break;default:Se=""}return{strength:ne,text:Se}},E=ce=>{const ne=[];return(!ce.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce.email))&&ne.push("Invalid email format"),(!ce.password||ce.password.length<6)&&ne.push("Password must contain at least 6 characters"),(!ce.name||ce.name.trim().length<2)&&ne.push("Name must contain at least 2 characters"),(!ce.lastname||ce.lastname.trim().length<2)&&ne.push("Last name must contain at least 2 characters"),(!ce.username||ce.username.trim().length<3)&&ne.push("Username must contain at least 3 characters"),ne},Q=ce=>{V.current=!0;const ne=document.getElementById(ce);ne&&(document.querySelectorAll(".fullpage-section").forEach((Be,ee)=>{Be.id===ce&&(I.current=ee)}),ne.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{V.current=!1},1e3))},oe=()=>{c(!u),z(""),u||(p({email:"",password:"",confirmPassword:"",name:"",lastname:"",username:"",rememberMe:!1}),te(!1),S(!1),x(!0))},le=ce=>{const{name:ne,value:Se,type:Be,checked:ee}=ce.target;p(fe=>({...fe,[ne]:Be==="checkbox"?ee:Se})),z(""),ne==="password"&&Se.length>0&&(b||!m)&&te(!0),ne==="name"&&Se&&!m&&!b&&!f.username&&p(fe=>({...fe,username:Se.toLowerCase().replace(/\s+/g,"")+Math.floor(Math.random()*1e3)}))},de=()=>{(b||!m)&&f.password.length===0&&te(!0)},he=async ce=>{ce.preventDefault(),P(!0),z("");try{if(b){if(!f.email||!f.password||!f.confirmPassword)throw new Error("Please fill all fields");if(f.password!==f.confirmPassword)throw new Error("Passwords do not match");if(f.password.length<6)throw new Error("Password must contain at least 6 characters");const ne=await N({email:f.email.trim(),newPassword:f.password,confirmPassword:f.confirmPassword});z("Password reset successfully!"),setTimeout(()=>{S(!1),x(!0),p({email:f.email,password:"",confirmPassword:"",name:"",lastname:"",username:"",rememberMe:!1}),z("")},2e3)}else if(m){if(!f.email||!f.password)throw new Error("Please fill all fields");const ne=await re({email:f.email.trim(),password:f.password}),Se=f.rememberMe?localStorage:sessionStorage;Se.setItem("authToken",ne.token),Se.setItem("userData",JSON.stringify(ne.user)),oe(),setTimeout(()=>{ne.user.role==="comptable"?window.location.href="/dash-comp":ne.user.role==="entreprise"&&(window.location.href="/dash-entr")},100)}else{if(!f.name||!f.email||!f.password||!f.confirmPassword||!f.username)throw new Error("Please fill all required fields");if(f.password.length<6)throw new Error("Password must contain at least 6 characters");if(f.password!==f.confirmPassword)throw new Error("Passwords do not match");const ne=E({username:f.username,email:f.email.trim(),password:f.password,name:f.name,lastname:f.lastname||f.name});if(ne.length>0)throw new Error(ne.join(", "));const Se={username:f.username,email:f.email.trim(),password:f.password,name:f.name,lastname:f.lastname||f.name};console.log("Data sent to backend:",Se);const Be=await W(Se),ee=f.rememberMe?localStorage:sessionStorage;ee.setItem("authToken",Be.token),ee.setItem("userData",JSON.stringify(Be.user)),oe(),setTimeout(()=>{Be.user.role==="comptable"?window.location.href="/dash-comp":Be.user.role==="entreprise"&&(window.location.href="/dash-entr")},100)}}catch(ne){console.error("Authentication error:",ne),z(ne.message||"An error occurred")}finally{P(!1)}},Ce=()=>{x(!m),S(!1),z(""),p({email:f.email,password:"",confirmPassword:"",name:"",lastname:"",username:"",rememberMe:f.rememberMe}),te(!1)},ke=ce=>{ce&&ce.preventDefault(),S(!0),x(!1),z(""),te(!1),p({email:f.email,password:"",confirmPassword:"",name:"",lastname:"",username:"",rememberMe:!1})},et=()=>{S(!1),x(!0),z(""),p({email:f.email,password:"",confirmPassword:"",name:"",lastname:"",username:"",rememberMe:!1})},At=()=>{U(!B)},sa=ce=>{if(ce.preventDefault(),!F.trim())return;const ne={id:Date.now(),text:F,sender:"user",timestamp:new Date};J([...D,ne]),O(""),setTimeout(()=>{const Se=qe(F),Be={id:Date.now()+1,text:Se,sender:"bot",timestamp:new Date};J(ee=>[...ee,Be])},1e3)},qe=ce=>{const ne=ce.toLowerCase();return ne.includes("hello")||ne.includes("hi")||ne.includes("bonjour")?"Hello! I'm the FacturaPro assistant. How can I help you today?":ne.includes("join")||ne.includes("register")||ne.includes("account")||ne.includes("sign up")||ne.includes("registration")||ne.includes("how to")?`I can help you join our platform! Tell me, are you:

1.  An accountant who wants to manage multiple clients
2.  A business that wants to use our invoicing services

Reply with 'accountant' or 'business' so I can guide you best.`:ne.includes("accountant")?`Perfect! As an accountant, here's how to proceed:

1. Click on 'Login' at the top right
2. Choose 'Create an account'
3. Fill out the form with your professional information
4. Once registered, you can invite your business clients to join the platform

You'll then be able to manage all your clients from a single dashboard!`:ne.includes("business")?`Excellent! As a business, here's how to join FacturaPro:

1. Ask your accountant to create an account on our platform
2. Your accountant will then add you to their client space
3. You'll receive an invitation email with your credentials
4. Log in and start creating quotes and invoices!

If you don't have an accountant, you can also create an account directly and manage your invoicing independently.`:ne.includes("invoice")||ne.includes("quote")?"FacturaPro allows you to create professional quotes and invoices in just a few clicks. Would you like to know more about this feature?":ne.includes("help")||ne.includes("support")||ne.includes("problem")?"Our support team is available Monday to Friday from 9am to 6pm at 01 23 45 67 89. You can also check our online help center for detailed guides or send an email to support@facturapro.fr.":ne.includes("thank")?"You're welcome! Don't hesitate if you have other questions. I'm here to help you simplify your invoicing! ":"I understand you're mentioning: '"+ce+`'.

Could you rephrase your question? I can help you with:
 Registration on the platform
 Creating quotes/invoices
 Our pricing and subscriptions
 Technical support

Just tell me how I can help you!`},vt=[{text:"How to join the platform?",emoji:""},{text:"I'm an accountant",emoji:""},{text:"I'm a business",emoji:""}],St=ce=>{O(ce.text)};return n.jsxs("div",{className:"facturapro-app",children:[n.jsx("div",{className:"navbar-container",children:n.jsxs("nav",{className:"navbar",children:[n.jsx("div",{className:"logo",children:"FacturaPro"}),n.jsxs("div",{className:"nav-links",children:[n.jsx("button",{onClick:()=>Q("home"),children:"Home"}),n.jsx("button",{onClick:()=>Q("features"),children:"Features"}),n.jsx("button",{onClick:()=>Q("tools"),children:"Tools"}),n.jsx("button",{onClick:()=>Q("objectives"),children:"Objectives"}),n.jsx("button",{onClick:()=>Q("about"),children:"About"}),n.jsx("button",{onClick:()=>Q("advantages"),children:"Advantages"})]}),n.jsx("button",{onClick:oe,className:"login-btn",children:"Login"})]})}),u&&n.jsxs("div",{className:"auth-modal",children:[n.jsxs("div",{className:"auth-modal-content",children:[n.jsx("button",{className:"close-modal",onClick:oe,"aria-label":"Close login window",children:n.jsx("span",{className:"close-icon",children:""})}),n.jsxs("div",{className:"ai-assistant",children:[n.jsxs("div",{className:"ai-header",children:[n.jsxs("div",{className:"ai-avatar",children:[n.jsx("span",{className:"ai-icon",children:""}),n.jsx("div",{className:"ai-status"})]}),n.jsxs("div",{className:"ai-info",children:[n.jsx("h4",{children:"FacturaPro Assistant"}),n.jsx("p",{children:"Online  Ready to help"})]})]}),n.jsx("div",{className:"ai-message",children:n.jsx("p",{children:b?"I'm assisting you to reset your password securely.":m?"Hello! I detect that you want to access your account. Let me guide you.":"Welcome! I'm assisting you to create your account and optimize your invoicing experience."})}),n.jsxs("div",{className:"ai-suggestions",children:[!b&&m&&n.jsx("div",{className:"suggestion-chip",onClick:ke,children:n.jsx("span",{children:" Forgot password?"})}),!b&&n.jsx("div",{className:"suggestion-chip",onClick:Ce,children:n.jsxs("span",{children:[" ",m?"Create an account":"Login"]})}),n.jsx("div",{className:"suggestion-chip",onClick:()=>console.log("Security"),children:n.jsx("span",{children:" Enhanced security"})})]})]}),n.jsxs("form",{className:"auth-form",onSubmit:he,children:[n.jsx("h2",{children:b?"Password Reset":m?"Login":"Registration"}),y&&n.jsx("div",{className:"error-message",style:{color:y.includes("success")?"green":"red",marginBottom:"15px"},children:y}),b&&n.jsx("div",{className:"forgot-password-info",children:n.jsx("p",{children:"Enter your email and your new password."})}),!m&&!b&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Full Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:le,required:!0,placeholder:"Your full name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"lastname",children:"Last Name *"}),n.jsx("input",{type:"text",id:"lastname",name:"lastname",value:f.lastname,onChange:le,required:!0,placeholder:"Your last name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"username",children:"Username *"}),n.jsx("input",{type:"text",id:"username",name:"username",value:f.username,onChange:le,required:!0,placeholder:"Choose a username"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:f.email,onChange:le,required:!0,placeholder:"your@email.com"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:b?"New Password *":"Password *"}),n.jsx("input",{type:"password",id:"password",name:"password",value:f.password,onChange:le,onFocus:de,required:!0,placeholder:b?"Your new password":m?"Your password":"Minimum 6 characters"}),!m&&f.password&&n.jsxs("div",{className:"password-strength",children:[n.jsx("div",{className:`strength-bar ${A.strength<=1?"strength-weak":A.strength===2?"strength-medium":"strength-strong"}`,style:{width:`${A.strength/4*100}%`}}),n.jsx("div",{className:"password-strength-text",children:A.text})]})]}),(b||!m)&&n.jsx("div",{className:`confirm-password-container ${w?"visible":""}`,children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:b?"Confirm New Password *":"Confirm Password *"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:f.confirmPassword,onChange:le,required:!0,placeholder:b?"Confirm your new password":"Confirm your password",className:q?"":"invalid"}),f.confirmPassword&&!q&&n.jsx("div",{className:"input-feedback",children:"Passwords do not match"}),f.confirmPassword&&q&&n.jsx("div",{className:"input-success",children:" Passwords match"})]})}),m&&!b&&n.jsxs("div",{className:"form-options",children:[n.jsxs("div",{className:"remember-me",children:[n.jsx("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:f.rememberMe,onChange:le}),n.jsx("label",{htmlFor:"rememberMe",children:"Remember me"})]}),n.jsx("a",{href:"#forgot-password",className:"forgot-password",onClick:ke,children:"Forgot password?"})]}),n.jsx("button",{type:"submit",className:`auth-submit-btn ${M?"loading":""}`,disabled:M,children:M?n.jsx("span",{children:"Loading..."}):b?"Reset Password":m?"Login":"Create Account"}),n.jsx("div",{className:"auth-switch",children:b?n.jsxs("p",{children:["Back to"," ",n.jsx("span",{onClick:et,className:"auth-switch-link",children:"login"})]}):n.jsxs("p",{children:[m?"No account yet? ":"Already have an account? ",n.jsx("span",{onClick:Ce,className:"auth-switch-link",children:m?"Sign up":"Login"})]})})]}),n.jsxs("div",{className:"trust-badges",children:[n.jsxs("div",{className:"trust-item",children:[n.jsx("span",{className:"trust-icon",children:""}),n.jsx("span",{children:"AES-256 Encryption"})]}),n.jsxs("div",{className:"trust-item",children:[n.jsx("span",{className:"trust-icon",children:""}),n.jsx("span",{children:"AI Fraud Detection"})]}),n.jsxs("div",{className:"trust-item",children:[n.jsx("span",{className:"trust-icon",children:""}),n.jsx("span",{children:"GDPR Certified"})]})]})]}),n.jsx("div",{className:"modal-overlay",onClick:oe})]}),n.jsxs("main",{className:"scroll-container",children:[n.jsxs("section",{id:"home",className:"fullpage-section hero-section",children:[n.jsxs("div",{className:"carousel-container",children:[se.map((ce,ne)=>n.jsx("div",{className:`carousel-slide ${ne===i?"active":""}`,style:{backgroundImage:`url(${ce})`}},ne)),n.jsx("div",{className:"carousel-overlay"})]}),n.jsx("div",{className:"hero-content-container",children:n.jsxs("div",{className:"hero-text-content",children:[n.jsx("h1",{className:"main-title",children:"Simplified Invoicing"}),n.jsx("h2",{className:"sub-title",children:"Accelerated Success"}),n.jsxs("p",{className:"hero-description",children:["Say goodbye to invoicing headaches.",n.jsx("br",{}),"Create professional quotes and invoices in a blink."]}),n.jsxs("div",{className:"cta-section",children:[n.jsx("button",{className:"primary-cta",onClick:oe,children:"Get Started"}),n.jsx("p",{className:"cta-subtext",children:"Your partner for hassle-free business management"})]})]})})]}),n.jsx("section",{id:"features",className:"fullpage-section features-section",children:n.jsxs("div",{className:"section-container",children:[n.jsxs("h2",{children:["Smart ",n.jsx("span",{className:"highlight",children:"Features"})]}),n.jsx("p",{className:"section-description",children:"Discover how our application revolutionizes your financial management with AI"}),n.jsxs("div",{className:"features-grid",children:[n.jsxs("div",{className:"feature-card",children:[n.jsx("div",{className:"feature-icon",children:""}),n.jsx("h3",{children:"Professional Quotes"}),n.jsx("p",{children:"Generate elegant and personalized quotes in just a few clicks."})]}),n.jsxs("div",{className:"feature-card",children:[n.jsx("div",{className:"feature-icon",children:""}),n.jsx("h3",{children:"Automated Invoicing"}),n.jsx("p",{children:"Transform your quotes into invoices and track payments automatically."})]}),n.jsxs("div",{className:"feature-card",children:[n.jsx("div",{className:"feature-icon",children:""}),n.jsx("h3",{children:"AI Assistant"}),n.jsx("p",{children:"Our artificial intelligence suggests best invoicing practices."})]}),n.jsxs("div",{className:"feature-card",children:[n.jsx("div",{className:"feature-icon",children:""}),n.jsx("h3",{children:"Advanced Analytics"}),n.jsx("p",{children:"Visualize your financial performance with intuitive dashboards."})]})]})]})}),n.jsx("section",{id:"tools",className:"fullpage-section tools-section",children:n.jsxs("div",{className:"section-container",children:[n.jsxs("h2",{children:["Your ",n.jsx("span",{className:"highlight",children:"Tools"})]}),n.jsx("p",{className:"section-subtitle",children:"Your Invoices, Your Rules"}),n.jsxs("div",{className:"tools-grid",children:[n.jsxs("div",{className:"tool-card",children:[n.jsx("div",{className:"tool-icon",children:""}),n.jsxs("h3",{children:["Quotes",n.jsx("br",{}),n.jsx("span",{className:"tool-action",children:"Create"})]}),n.jsx("p",{children:"Transform your ideas into compelling business proposals in a blink."})]}),n.jsxs("div",{className:"tool-card",children:[n.jsx("div",{className:"tool-icon",children:""}),n.jsxs("h3",{children:["Invoices",n.jsx("br",{}),n.jsx("span",{className:"tool-action",children:"Generate"})]}),n.jsx("p",{children:"Convert your quotes into professional invoices effortlessly, for optimized cash flow."})]}),n.jsxs("div",{className:"tool-card",children:[n.jsx("div",{className:"tool-icon",children:""}),n.jsxs("h3",{children:["Profile",n.jsx("br",{}),n.jsx("span",{className:"tool-action",children:"Manage"})]}),n.jsx("p",{children:"Customize your space and manage your business information with ease."})]})]})]})}),n.jsx("section",{id:"objectives",className:"fullpage-section objectives-section",children:n.jsxs("div",{className:"section-container",children:[n.jsx("h2",{children:"Objectives"}),n.jsx("p",{className:"section-description",children:"Our mission: make generating quotes and invoices child's play, facilitate conversion, and offer multi-business management with an intuitive dashboard."}),n.jsx("div",{className:"magic-strip",children:n.jsxs("div",{className:"magic-strip-content",children:[n.jsxs("div",{className:"magic-item",children:[n.jsx("span",{className:"magic-icon",children:""}),n.jsx("span",{className:"magic-text",children:"Magic Quotes"})]}),n.jsxs("div",{className:"magic-item",children:[n.jsx("span",{className:"magic-icon",children:""}),n.jsx("span",{className:"magic-text",children:"Instant Invoices"})]}),n.jsxs("div",{className:"magic-item",children:[n.jsx("span",{className:"magic-icon",children:""}),n.jsx("span",{className:"magic-text",children:"Multi-business Management"})]}),n.jsxs("div",{className:"magic-item",children:[n.jsx("span",{className:"magic-icon",children:""}),n.jsx("span",{className:"magic-text",children:"Intuitive Dashboard"})]}),n.jsxs("div",{className:"magic-item",children:[n.jsx("span",{className:"magic-icon",children:""}),n.jsx("span",{className:"magic-text",children:"Easy Conversion"})]})]})})]})}),n.jsx("section",{id:"about",className:"fullpage-section about-section",children:n.jsx("div",{className:"section-container",children:n.jsxs("div",{className:"about-content",children:[n.jsxs("div",{className:"about-text",children:[n.jsxs("h2",{children:["Our Vision: ",n.jsx("span",{className:"highlight",children:"Invoicing Reinvented"})]}),n.jsx("p",{children:"The Web Invoicing Application is your new personal assistant for business management. Create impactful quotes, transform them into impeccable invoices, manage your profile and business details. Designed for freelancers and SMEs, it makes invoicing as simple as coffee."}),n.jsx("div",{className:"stats-container",children:[{value:"100%",label:"Secure"},{value:"5min",label:"Setup"},{value:"24/7",label:"Available"}].map((ce,ne)=>n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-number",children:ce.value}),n.jsx("div",{className:"stat-label",children:ce.label})]},ne))})]}),n.jsx("div",{className:"about-visual",children:n.jsxs("div",{className:"floating-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h4",{children:"Pro Invoice Format"}),n.jsx("span",{children:" INV-2023-0582"})]}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"invoice-line",children:[n.jsx("span",{children:"Website design"}),n.jsx("span",{children:"1,200.00 TND"})]}),n.jsxs("div",{className:"invoice-line",children:[n.jsx("span",{children:"Frontend development"}),n.jsx("span",{children:"2,400.00 TND"})]}),n.jsxs("div",{className:"invoice-total",children:[n.jsx("span",{children:"TOTAL TTC"}),n.jsx("span",{children:"3,600.00 TND"})]})]})]})})]})})}),n.jsx("section",{id:"advantages",className:"fullpage-section advantages-section",children:n.jsxs("div",{className:"section-container",children:[n.jsxs("div",{className:"advantages-header",children:[n.jsxs("h2",{children:["Why choose ",n.jsx("span",{className:"highlight",children:"FacturaPro"})," ?"]}),n.jsx("p",{className:"section-description",children:"Discover all the advantages that make our invoicing solution essential"})]}),n.jsxs("div",{className:"advantages-grid",children:[n.jsxs("div",{className:"advantage-card",children:[n.jsx("div",{className:"advantage-icon",children:""}),n.jsx("h3",{children:"Exceptional time saving"}),n.jsx("p",{children:"Reduce by 70% the time spent on creating quotes and invoices thanks to our smart templates."}),n.jsxs("div",{className:"advantage-stats",children:[n.jsx("span",{className:"stat-value",children:"70% "}),n.jsx("span",{className:"stat-label",children:" time saved"})]})]}),n.jsxs("div",{className:"advantage-card",children:[n.jsx("div",{className:"advantage-icon",children:""}),n.jsx("h3",{children:"Guaranteed savings"}),n.jsx("p",{children:"No more costly errors. Our system automatically detects inconsistencies and omissions."}),n.jsxs("div",{className:"advantage-stats",children:[n.jsx("span",{className:"stat-value",children:"45% "}),n.jsx("span",{className:"stat-label",children:" fewer errors"})]})]}),n.jsxs("div",{className:"advantage-card",children:[n.jsx("div",{className:"advantage-icon",children:""}),n.jsx("h3",{children:"Accelerated growth"}),n.jsx("p",{children:"Invoice faster, collect earlier and improve your cash flow with our smart tracking."}),n.jsxs("div",{className:"advantage-stats",children:[n.jsx("span",{className:"stat-value",children:"2x "}),n.jsx("span",{className:"stat-label",children:" faster"})]})]}),n.jsxs("div",{className:"advantage-card",children:[n.jsx("div",{className:"advantage-icon",children:""}),n.jsx("h3",{children:"Total accessibility"}),n.jsx("p",{children:"Access your documents from any device, anytime, even offline."}),n.jsxs("div",{className:"advantage-stats",children:[n.jsx("span",{className:"stat-value",children:"100% "}),n.jsx("span",{className:"stat-label",children:" available"})]})]}),n.jsxs("div",{className:"advantage-card",children:[n.jsx("div",{className:"advantage-icon",children:""}),n.jsx("h3",{children:"Enhanced security"}),n.jsx("p",{children:"Your data is encrypted and automatically backed up with cutting-edge technology."}),n.jsxs("div",{className:"advantage-stats",children:[n.jsx("span",{className:"stat-value",children:"100% "}),n.jsx("span",{className:"stat-label",children:" secure"})]})]}),n.jsxs("div",{className:"advantage-card",children:[n.jsx("div",{className:"advantage-icon",children:""}),n.jsx("h3",{children:"Reactive support"}),n.jsx("p",{children:"Our team is here to help you at every step with personalized and fast support."}),n.jsxs("div",{className:"advantage-stats",children:[n.jsx("span",{className:"stat-value",children:"24/7 "}),n.jsx("span",{className:"stat-label",children:" support"})]})]})]}),n.jsxs("div",{className:"advantages-cta",children:[n.jsx("h3",{children:"Ready to revolutionize your invoicing?"}),n.jsx("button",{className:"cta-button",onClick:oe,children:"Try for free"})]})]})})]}),n.jsx("div",{className:`chatbot-container ${B?"open":""}`,children:B?n.jsxs("div",{className:"chatbot-window",children:[n.jsxs("div",{className:"chatbot-header",children:[n.jsxs("div",{className:"chatbot-info",children:[n.jsx("div",{className:"chatbot-avatar",children:""}),n.jsxs("div",{children:[n.jsx("h4",{children:"FacturaPro Assistant"}),n.jsx("p",{children:"Online  Ready to help"})]})]}),n.jsx("button",{className:"chatbot-close",onClick:At,children:""})]}),n.jsx("div",{className:"chatbot-messages",ref:X,children:D.map(ce=>n.jsx("div",{className:`message ${ce.sender}`,children:n.jsxs("div",{className:"message-content",children:[ce.text.split(`
`).map((ne,Se)=>n.jsxs(Le.Fragment,{children:[ne,Se<ce.text.split(`
`).length-1&&n.jsx("br",{})]},Se)),n.jsx("span",{className:"message-time",children:ce.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},ce.id))}),n.jsx("div",{className:"chatbot-suggestions",children:vt.map((ce,ne)=>n.jsxs("button",{className:"suggestion-chip",onClick:()=>St(ce),children:[n.jsx("span",{className:"suggestion-emoji",children:ce.emoji}),ce.text]},ne))}),n.jsxs("form",{className:"chatbot-input",onSubmit:sa,children:[n.jsx("input",{type:"text",placeholder:"Type your message...",value:F,onChange:ce=>O(ce.target.value)}),n.jsx("button",{type:"submit",children:""})]})]}):n.jsxs("button",{className:"chatbot-toggle",onClick:At,children:[n.jsx("span",{className:"chatbot-icon",children:""}),n.jsx("span",{className:"chatbot-label",children:"Assistant"})]})})]})}var mh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hm=Le.createContext&&Le.createContext(mh),Dx=["attr","size","title"];function kx(i,o){if(i==null)return{};var u=Rx(i,o),c,f;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(i);for(f=0;f<p.length;f++)c=p[f],!(o.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(i,c)&&(u[c]=i[c])}return u}function Rx(i,o){if(i==null)return{};var u={};for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){if(o.indexOf(c)>=0)continue;u[c]=i[c]}return u}function qi(){return qi=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])}return i},qi.apply(this,arguments)}function Ym(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);o&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),u.push.apply(u,c)}return u}function Hi(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?Ym(Object(u),!0).forEach(function(c){zx(i,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):Ym(Object(u)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(u,c))})}return i}function zx(i,o,u){return o=Ox(o),o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Ox(i){var o=Mx(i,"string");return typeof o=="symbol"?o:o+""}function Mx(i,o){if(typeof i!="object"||!i)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var c=u.call(i,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function hh(i){return i&&i.map((o,u)=>Le.createElement(o.tag,Hi({key:u},o.attr),hh(o.child)))}function Me(i){return o=>Le.createElement(Bx,qi({attr:Hi({},i.attr)},o),hh(i.child))}function Bx(i){var o=u=>{var{attr:c,size:f,title:p}=i,m=kx(i,Dx),x=f||u.size||"1em",b;return u.className&&(b=u.className),i.className&&(b=(b?b+" ":"")+i.className),Le.createElement("svg",qi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},u.attr,c,m,{className:b,style:Hi(Hi({color:i.color||u.color},u.style),i.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),p&&Le.createElement("title",null,p),i.children)};return Hm!==void 0?Le.createElement(Hm.Consumer,null,u=>o(u)):o(mh)}function pc(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(i)}function Ux(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(i)}function Vm(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(i)}function Lx(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(i)}function Ac(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(i)}function Qm(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(i)}function qx(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(i)}function ph(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(i)}function Yc(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(i)}function Hx(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(i)}function Gm(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(i)}function Xm(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(i)}function Yx(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"8 17 12 21 16 17"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"},child:[]}]})(i)}function Vc(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(i)}function gh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(i)}function gc(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(i)}function Vx(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(i)}function Qc(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(i)}function da(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(i)}function xh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(i)}function Mi(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(i)}function Yi(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(i)}function vh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(i)}function yh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(i)}function Qx(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(i)}function bh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(i)}function Vi(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function jh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(i)}function Fm(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(i)}function Gc(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function Nh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(i)}function ms(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function Sh(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(i)}function Nn(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(i)}function fa(i){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(i)}const Zm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAS1BMVEXFxcXT09PMzMz29vb9/f3Pz8/Hx8f////ExMTCwsLc3Nzo6Ojf39/6+vrt7e3V1dXJycn4+Pjx8fHk5OTh4eHZ2dnv7+/z8/Pq6uo9UIqsAAAGZElEQVR42u2dWc/0JgxGs5AYsu8z//+XdtRF6tdWr2Y6gJc85zKXR2CMAacoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoffsF7KPlPTb5dqmbYr2ukP5iuqxuaqvVQ9g9TTe9e0L95fb126PqT4Ku9Xuln1utswt2N+aWZanqPbWiKO/sqO/qIx3zbha+s6WPGfgn3i1RV/z9U/R7xX8PrXrOx3ekL1jvNxlCu9B17e5dgVT7oa8a+ukWyMFAcGvuyZopGbXxdDJeLJ4vGxvCy6Kua4jLYDfQlRac2aqs9KAFuthi5vstDfwhcs8HA9aBUnOZcrZSO09bYqhyl5GkqbqV1RdQbGls1peZEvPqAzsZMTJUzmKxxDZSF0UIu31AmRgOyKBu99rDl63yyqNOdQPgn5UR38fR0WWXVqmWNlJdB8UTsKDd6z3ya7K5o07oihim/LJoxsD6I8Tqjll85ZNGu0ZY/iIdFY7GByRXtAQPLcvoQLjZZ+hbEhs0VPbTNQ883sPQNLcaBRbRiV/jB/QdleYPjlEWHh6y3mTSF+NATL6pKpjWzLE3V+IXZlaq7Dx23LNITtMLFLkvPRZGwsss6kL5bPBQb+GXpufiw8csiNcthLUCWmgvfowBZas4tnABZDyWyWiIErXeLpLMIWTpuTfpdhCwdZzy+FyGrgSxrssIoQlapQxZBFmRBFmRBFmRBFmRpS0qx3bG33XlC1vugRPMBJWR9gAhZWg7wJZQdnloOLHAUpuyQVcsZa3Hwu9JzB/fkl6XndreA3eGkRxZ/hB8KBC178V3AbbZL0UV43Fb+JGhNzLJKRdOwKHlvHa2qemkxv91R1l2StVrqFlWueNdDZe8NefPSQZkszv3hqq+xQ42B9f48fCLJep+KK3u4NLbQ4sriVXZJrHhcKW2SeGIpFJ5rDUWBofUmehsst/mHluaOwbnTB9U/s8hdfFgUuypC3sNp5X+yyPr2UH1D+CZf2NoK9eQLWwZ+pZktbHUWflTU5LF1mPipk89Sj+8LG/gMQX4rzJC8WlPbcVX4xFvq1dSfWUNSW9dS2KLCHJSQQez2XL3WxAdcfRC4Epz3uC7YlFX46C05t6YwS+z0dC9Ms0QsQjiL/yb/NXDNsd6M9UtxA6IMrvEsbkGo+m9DV322vrgLXzZvG28jyjfX12uiu5objKzQHmOU9MGNRxtsuyq3iO+nx620rCr67vBhVFeYk3SJX2d7kzGUyc54tjJYi1VJTysMTUZfJv9Nw1rayCR8m+UR8GEhpfdHppshTv+RdJXxNvxUqVYVMv+tSHGN2VfZL+DWldK52LI0HSt1Hk4z9dBXWJcPfO/vnbaM3neM3dlGXXcAuZtgaPrN6MLdMISmRcsUXAT8pMgtOqaigB/2abnoHToSgoJ0vnNSZLlOuquBBCH7VavvnSRZTnLPMSHNzf+G4KbBO4lD6k7RC3Ql9Q+aoXMSZcm8dCrTlcgMwjckFnEXbkoSjLAz2IVEI6oGsTjZsiS1l2RveKuoGhieJB4xfVcGUoCQTXU7apA1yjhPdKQCh4ClK2wNpAb2sFWSIrgz+VqTLN6X5+EgVRycYWsmZcyMA+uhTdaDb2hNpA6232JVTp8sx3RJt1Xo6mWLZdvjO1IJy023ttYpq2YYWn4jpWz5h1ZDasl/c2vTKyt7f8DG6ZXlMg+thVST9bDHH7pl5X1tt+qWlfXHycoH1mto4YxC4umFH0g9g8dSKG5B9IcFWZkWxNZZkJWpVDOQCfKcIj5syHpgVyhsh3iREa4MpxRkhuRnF1or7zzV+NWOrOTb6ZMMkbiJrp8syZrSzsPKWZKV+Hh6JlOkvVQz2pKVtEdz62zJSrmblvlW9RsSvnMNkzVZCd/0lGSOElsdAVueUNuTVaeahw0ZJFVV67QoK9X+sLYoq0b6zp7El2SSJMmDH2zKSnKQ7yebspIUtVoySorNdGVVVoIKoL2KQ8LKQ9isytri73gCmSUgZHEGrc6urPit23q7svroi+FmV1b0Z2J+tStr9VgM+ZbD0rKsyIUH31uWFblfNWTd6rXOT0R+ydPalhW3SlPZlhV3w7PYlrVgG820lbZ6WPEXUQ8tIOuTzc5lW9YVc8MTJtuyot5pC2QcyGKSVVmXVUEWj6zZuqwZsmLL+g1jStd0mHlJUAAAAABJRU5ErkJggg==",Gx=({setIsAuthenticated:i})=>{const o=ma(),u=Lc(),c=JSON.parse(localStorage.getItem("userData"))||{},[f,p]=j.useState(!1),[m,x]=j.useState(!1),[b,S]=j.useState(!1),[y,z]=j.useState(window.innerWidth),[M,P]=j.useState(!1),[B,U]=j.useState(!1),D=j.useRef(null),J=j.useRef(null),F=j.useRef(null);j.useEffect(()=>{M?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},[M]),j.useEffect(()=>{const A=()=>{z(window.innerWidth),window.innerWidth>768&&S(!1)},ae=V=>{J.current&&!J.current.contains(V.target)&&!V.target.closest(".user-mini-profile-container")&&p(!1),F.current&&!F.current.contains(V.target)&&!V.target.closest(".notification-container")&&x(!1)};return window.addEventListener("resize",A),document.addEventListener("mousedown",ae),()=>{window.removeEventListener("resize",A),document.removeEventListener("mousedown",ae)}},[]);const O=()=>{P(!M)},w=()=>{U(!0)},te=()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),sessionStorage.clear(),i&&i(!1),window.location.href="/"}catch(A){console.error("Error during logout:",A),window.location.href="/"}},q=[{id:1,text:"New claim received",time:"10 min ago",read:!1},{id:2,text:"Invoice paid",time:"1h ago",read:!0},{id:3,text:"System update",time:"2h ago",read:!0}],Y=A=>{o(A),y<=768&&S(!1),p(!1),x(!1)};return q.filter(A=>!A.read).length,n.jsxs("div",{className:`ai-dashboard ${b?"mobile-menu-open":""}`,children:[n.jsxs("div",{className:"ai-sidebar",ref:D,children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsxs("div",{className:"sidebar-profile",children:[n.jsx("div",{className:"sidebar-avatar",children:c!=null&&c.image&&!B?n.jsx("img",{src:c.image,alt:`${c.name||c.username}`,onError:w}):n.jsxs("div",{className:"avatar-placeholder",children:[n.jsx(Nn,{size:24}),n.jsx("span",{children:c.name?c.name.charAt(0):c.username?c.username.charAt(0):c.lastname?c.lastname.charAt(0):""})]})}),n.jsxs("div",{className:"sidebar-user-info",children:[n.jsx("h4",{children:c.name||c.username||"Comptable"}),n.jsx("p",{children:c.email||""})]})]}),y<=768&&n.jsx("button",{className:"mobile-menu-button",onClick:()=>S(!b),"aria-label":b?"Close menu":"Open menu",children:b?n.jsx(fa,{size:24}):n.jsx(yh,{size:24})})]}),(y>768||b)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"ai-sidebar-section",children:[n.jsx("h4",{children:"Navigation"}),n.jsxs("ul",{className:"ai-sidebar-menu",children:[n.jsxs("li",{className:u.pathname==="/dash-comp"?"active":"",onClick:()=>Y("/dash-comp"),children:[n.jsx(xh,{className:"icon"}),n.jsx("span",{children:"Home"})]}),n.jsxs("li",{className:u.pathname==="/dash-comp/dashb_comp"?"active":"",onClick:()=>Y("/dash-comp/dashb_comp"),children:[n.jsx(Sh,{className:"icon"}),n.jsx("span",{children:"Dashboard"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-comp/entreprises")?"active":"",onClick:()=>Y("/dash-comp/entreprises"),children:[n.jsx(Lx,{className:"icon"}),n.jsx("span",{children:"Businesses"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-comp/notification")?"active":"",onClick:()=>Y("/dash-comp/notification"),children:[n.jsx(Ux,{className:"icon"}),n.jsx("span",{children:"Notification"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-comp/factures")?"active":"",onClick:()=>Y("/dash-comp/factures"),children:[n.jsx(da,{className:"icon"}),n.jsx("span",{children:"Invoices"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-comp/profile")?"active":"",onClick:()=>Y("/dash-comp/profile"),children:[n.jsx(Nn,{className:"icon"}),n.jsx("span",{children:"Profile"})]})]})]}),n.jsxs("div",{className:"sidebar-footer",children:[n.jsxs("button",{className:"theme-toggle-btn sidebar-btn",onClick:O,children:[M?n.jsx(Nh,{className:"icon"}):n.jsx(bh,{className:"icon"}),n.jsx("span",{children:M?"Day Mode":"Night Mode"})]}),n.jsxs("button",{className:"logout-btn sidebar-btn",onClick:te,children:[n.jsx(vh,{className:"icon"}),n.jsx("span",{children:"Logout"})]})]})]})]}),n.jsx("div",{className:"ai-main",children:n.jsx("div",{className:"ai-content",children:n.jsx(qc,{context:{userData:c}})})})]})},Xx=({setIsAuthenticated:i})=>{const o=ma(),u=Lc(),[c,f]=j.useState({}),[p,m]=j.useState(!1),[x,b]=j.useState(!1),[S,y]=j.useState(!1),[z,M]=j.useState(window.innerWidth),[P,B]=j.useState(!1),U=j.useRef(null),D=j.useRef(null),J=j.useRef(null);j.useEffect(()=>{(()=>{try{const V=JSON.parse(localStorage.getItem("userData"))||{};f(V)}catch(V){console.error("Error loading user data:",V)}})(),localStorage.getItem("theme")==="dark"&&(B(!0),document.documentElement.setAttribute("data-theme","dark"));const A=()=>{M(window.innerWidth),window.innerWidth>768&&y(!1)},ae=V=>{U.current&&!U.current.contains(V.target)&&!V.target.closest(".user-mini-profile-container")&&m(!1),D.current&&!D.current.contains(V.target)&&!V.target.closest(".notification-container")&&b(!1)};return window.addEventListener("resize",A),document.addEventListener("mousedown",ae),()=>{window.removeEventListener("resize",A),document.removeEventListener("mousedown",ae)}},[]);const F=()=>{const q=!P;B(q),q?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme","light"))},O=()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),sessionStorage.clear(),i&&i(!1),window.location.href="/"}catch(q){console.error("Error during logout:",q),window.location.href="/"}},w=q=>{o(q),z<=768&&y(!1),m(!1),b(!1)},te=q=>{q.target.src=Zm};return n.jsxs("div",{className:`ai-dashboard ${S?"mobile-menu-open":""}`,children:[n.jsxs("div",{className:"ai-sidebar",ref:J,children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsxs("div",{className:"sidebar-profile",children:[n.jsx("div",{className:"sidebar-avatar",children:c!=null&&c.logo?n.jsx("img",{src:c.logo,alt:`Logo of ${c.entreprise||c.username||c.nom||"Business"}`,onError:te}):n.jsx("img",{src:Zm,alt:"Default avatar"})}),n.jsxs("div",{className:"sidebar-user-info",children:[n.jsx("h4",{children:c.entreprise||c.username||c.nom||"Business"}),n.jsx("p",{children:c.email||""})]})]}),z<=768&&n.jsx("button",{className:"mobile-menu-button",onClick:()=>y(!S),"aria-label":S?"Close menu":"Open menu",children:S?n.jsx(fa,{size:24}):n.jsx(yh,{size:24})})]}),(z>768||S)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"ai-sidebar-section",children:[n.jsx("h4",{children:"Navigation"}),n.jsxs("ul",{className:"ai-sidebar-menu",children:[n.jsxs("li",{className:u.pathname==="/dash-entr"?"active":"",onClick:()=>w("/dash-entr"),children:[n.jsx(xh,{className:"icon"}),n.jsx("span",{children:"Home"})]}),n.jsxs("li",{className:u.pathname==="/dash-entr/dashb_entre"?"active":"",onClick:()=>w("/dash-entr/dashb_entre"),children:[n.jsx(Sh,{className:"icon"}),n.jsx("span",{children:"Dashboard"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-entr/devis")?"active":"",onClick:()=>w("/dash-entr/devis"),children:[n.jsx(da,{className:"icon"}),n.jsx("span",{children:"Quotes"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-entr/calendrier")?"active":"",onClick:()=>w("/dash-entr/calendriers"),children:[n.jsx(Ac,{className:"icon"}),n.jsx("span",{children:"Calendar"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-entr/factures")?"active":"",onClick:()=>w("/dash-entr/factures"),children:[n.jsx(da,{className:"icon"}),n.jsx("span",{children:"Invoices"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-entr/profile")?"active":"",onClick:()=>w("/dash-entr/profile"),children:[n.jsx(Nn,{className:"icon"}),n.jsx("span",{children:"Profile"})]}),n.jsxs("li",{className:u.pathname.includes("/dash-entr/chatbot")?"active":"",onClick:()=>w("/dash-entr/chatbot"),children:[n.jsx(Qx,{className:"icon"}),n.jsx("span",{children:"Chatbot"})]})]})]}),n.jsxs("div",{className:"sidebar-footer",children:[n.jsxs("button",{className:"theme-toggle-btn sidebar-btn",onClick:F,children:[P?n.jsx(Nh,{className:"icon"}):n.jsx(bh,{className:"icon"}),n.jsx("span",{children:P?"Day Mode":"Night Mode"})]}),n.jsxs("button",{className:"logout-btn sidebar-btn",onClick:O,children:[n.jsx(vh,{className:"icon"}),n.jsx("span",{children:"Logout"})]})]})]})]}),n.jsx("div",{className:"ai-main",children:n.jsx("div",{className:"ai-content",children:n.jsx(qc,{context:{userData:c}})})})]})};function Fx(i){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",o.firstChild?o.insertBefore(u,o.firstChild):o.appendChild(u),u.styleSheet?u.styleSheet.cssText=i:u.appendChild(document.createTextNode(i))}Fx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var pl=i=>typeof i=="number"&&!isNaN(i),Tn=i=>typeof i=="string",Ca=i=>typeof i=="function",Zx=i=>Tn(i)||pl(i),_c=i=>Tn(i)||Ca(i)?i:null,Kx=(i,o)=>i===!1||pl(i)&&i>0?i:o,Cc=i=>j.isValidElement(i)||Tn(i)||Ca(i)||pl(i);function Jx(i,o,u=300){let{scrollHeight:c,style:f}=i;requestAnimationFrame(()=>{f.minHeight="initial",f.height=c+"px",f.transition=`all ${u}ms`,requestAnimationFrame(()=>{f.height="0",f.padding="0",f.margin="0",setTimeout(o,u)})})}function $x({enter:i,exit:o,appendPosition:u=!1,collapse:c=!0,collapseDuration:f=300}){return function({children:p,position:m,preventExitTransition:x,done:b,nodeRef:S,isIn:y,playToast:z}){let M=u?`${i}--${m}`:i,P=u?`${o}--${m}`:o,B=j.useRef(0);return j.useLayoutEffect(()=>{let U=S.current,D=M.split(" "),J=F=>{F.target===S.current&&(z(),U.removeEventListener("animationend",J),U.removeEventListener("animationcancel",J),B.current===0&&F.type!=="animationcancel"&&U.classList.remove(...D))};U.classList.add(...D),U.addEventListener("animationend",J),U.addEventListener("animationcancel",J)},[]),j.useEffect(()=>{let U=S.current,D=()=>{U.removeEventListener("animationend",D),c?Jx(U,b,f):b()};y||(x?D():(B.current=1,U.className+=` ${P}`,U.addEventListener("animationend",D)))},[y]),Le.createElement(Le.Fragment,null,p)}}function Km(i,o){return{content:Th(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:o}}function Th(i,o,u=!1){return j.isValidElement(i)&&!Tn(i.type)?j.cloneElement(i,{closeToast:o.closeToast,toastProps:o,data:o.data,isPaused:u}):Ca(i)?i({closeToast:o.closeToast,toastProps:o,data:o.data,isPaused:u}):i}function Ix({closeToast:i,theme:o,ariaLabel:u="close"}){return Le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${o}`,type:"button",onClick:c=>{c.stopPropagation(),i(!0)},"aria-label":u},Le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Wx({delay:i,isRunning:o,closeToast:u,type:c="default",hide:f,className:p,controlledProgress:m,progress:x,rtl:b,isIn:S,theme:y}){let z=f||m&&x===0,M={animationDuration:`${i}ms`,animationPlayState:o?"running":"paused"};m&&(M.transform=`scaleX(${x})`);let P=jn("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${c}`,{"Toastify__progress-bar--rtl":b}),B=Ca(p)?p({rtl:b,type:c,defaultClassName:P}):jn(P,p),U={[m&&x>=1?"onTransitionEnd":"onAnimationEnd"]:m&&x<1?null:()=>{S&&u()}};return Le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":z},Le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${c}`}),Le.createElement("div",{role:"progressbar","aria-hidden":z?"true":"false","aria-label":"notification timer",className:B,style:M,...U}))}var Px=1,wh=()=>`${Px++}`;function e0(i,o,u){let c=1,f=0,p=[],m=[],x=o,b=new Map,S=new Set,y=F=>(S.add(F),()=>S.delete(F)),z=()=>{m=Array.from(b.values()),S.forEach(F=>F())},M=({containerId:F,toastId:O,updateId:w})=>{let te=F?F!==i:i!==1,q=b.has(O)&&w==null;return te||q},P=(F,O)=>{b.forEach(w=>{var te;(O==null||O===w.props.toastId)&&((te=w.toggle)==null||te.call(w,F))})},B=F=>{var O,w;(w=(O=F.props)==null?void 0:O.onClose)==null||w.call(O,F.removalReason),F.isActive=!1},U=F=>{if(F==null)b.forEach(B);else{let O=b.get(F);O&&B(O)}z()},D=()=>{f-=p.length,p=[]},J=F=>{var O,w;let{toastId:te,updateId:q}=F.props,Y=q==null;F.staleId&&b.delete(F.staleId),F.isActive=!0,b.set(te,F),z(),u(Km(F,Y?"added":"updated")),Y&&((w=(O=F.props).onOpen)==null||w.call(O))};return{id:i,props:x,observe:y,toggle:P,removeToast:U,toasts:b,clearQueue:D,buildToast:(F,O)=>{if(M(O))return;let{toastId:w,updateId:te,data:q,staleId:Y,delay:A}=O,ae=te==null;ae&&f++;let V={...x,style:x.toastStyle,key:c++,...Object.fromEntries(Object.entries(O).filter(([X,se])=>se!=null)),toastId:w,updateId:te,data:q,isIn:!1,className:_c(O.className||x.toastClassName),progressClassName:_c(O.progressClassName||x.progressClassName),autoClose:O.isLoading?!1:Kx(O.autoClose,x.autoClose),closeToast(X){b.get(w).removalReason=X,U(w)},deleteToast(){let X=b.get(w);if(X!=null){if(u(Km(X,"removed")),b.delete(w),f--,f<0&&(f=0),p.length>0){J(p.shift());return}z()}}};V.closeButton=x.closeButton,O.closeButton===!1||Cc(O.closeButton)?V.closeButton=O.closeButton:O.closeButton===!0&&(V.closeButton=Cc(x.closeButton)?x.closeButton:!0);let I={content:F,props:V,staleId:Y};x.limit&&x.limit>0&&f>x.limit&&ae?p.push(I):pl(A)?setTimeout(()=>{J(I)},A):J(I)},setProps(F){x=F},setToggle:(F,O)=>{let w=b.get(F);w&&(w.toggle=O)},isToastActive:F=>{var O;return(O=b.get(F))==null?void 0:O.isActive},getSnapshot:()=>m}}var Ct=new Map,ml=[],Dc=new Set,t0=i=>Dc.forEach(o=>o(i)),Eh=()=>Ct.size>0;function a0(){ml.forEach(i=>_h(i.content,i.options)),ml=[]}var n0=(i,{containerId:o})=>{var u;return(u=Ct.get(o||1))==null?void 0:u.toasts.get(i)};function Ah(i,o){var u;if(o)return!!((u=Ct.get(o))!=null&&u.isToastActive(i));let c=!1;return Ct.forEach(f=>{f.isToastActive(i)&&(c=!0)}),c}function s0(i){if(!Eh()){ml=ml.filter(o=>i!=null&&o.options.toastId!==i);return}if(i==null||Zx(i))Ct.forEach(o=>{o.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let o=Ct.get(i.containerId);o?o.removeToast(i.id):Ct.forEach(u=>{u.removeToast(i.id)})}}var l0=(i={})=>{Ct.forEach(o=>{o.props.limit&&(!i.containerId||o.id===i.containerId)&&o.clearQueue()})};function _h(i,o){Cc(i)&&(Eh()||ml.push({content:i,options:o}),Ct.forEach(u=>{u.buildToast(i,o)}))}function i0(i){var o;(o=Ct.get(i.containerId||1))==null||o.setToggle(i.id,i.fn)}function Ch(i,o){Ct.forEach(u=>{(o==null||!(o!=null&&o.containerId)||(o==null?void 0:o.containerId)===u.id)&&u.toggle(i,o==null?void 0:o.id)})}function r0(i){let o=i.containerId||1;return{subscribe(u){let c=e0(o,i,t0);Ct.set(o,c);let f=c.observe(u);return a0(),()=>{f(),Ct.delete(o)}},setProps(u){var c;(c=Ct.get(o))==null||c.setProps(u)},getSnapshot(){var u;return(u=Ct.get(o))==null?void 0:u.getSnapshot()}}}function o0(i){return Dc.add(i),()=>{Dc.delete(i)}}function c0(i){return i&&(Tn(i.toastId)||pl(i.toastId))?i.toastId:wh()}function gl(i,o){return _h(i,o),o.toastId}function Xi(i,o){return{...o,type:o&&o.type||i,toastId:c0(o)}}function Fi(i){return(o,u)=>gl(o,Xi(i,u))}function Ye(i,o){return gl(i,Xi("default",o))}Ye.loading=(i,o)=>gl(i,Xi("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...o}));function u0(i,{pending:o,error:u,success:c},f){let p;o&&(p=Tn(o)?Ye.loading(o,f):Ye.loading(o.render,{...f,...o}));let m={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},x=(S,y,z)=>{if(y==null){Ye.dismiss(p);return}let M={type:S,...m,...f,data:z},P=Tn(y)?{render:y}:y;return p?Ye.update(p,{...M,...P}):Ye(P.render,{...M,...P}),z},b=Ca(i)?i():i;return b.then(S=>x("success",c,S)).catch(S=>x("error",u,S)),b}Ye.promise=u0;Ye.success=Fi("success");Ye.info=Fi("info");Ye.error=Fi("error");Ye.warning=Fi("warning");Ye.warn=Ye.warning;Ye.dark=(i,o)=>gl(i,Xi("default",{theme:"dark",...o}));function d0(i){s0(i)}Ye.dismiss=d0;Ye.clearWaitingQueue=l0;Ye.isActive=Ah;Ye.update=(i,o={})=>{let u=n0(i,o);if(u){let{props:c,content:f}=u,p={delay:100,...c,...o,toastId:o.toastId||i,updateId:wh()};p.toastId!==i&&(p.staleId=i);let m=p.render||f;delete p.render,gl(m,p)}};Ye.done=i=>{Ye.update(i,{progress:1})};Ye.onChange=o0;Ye.play=i=>Ch(!0,i);Ye.pause=i=>Ch(!1,i);function f0(i){var o;let{subscribe:u,getSnapshot:c,setProps:f}=j.useRef(r0(i)).current;f(i);let p=(o=j.useSyncExternalStore(u,c,c))==null?void 0:o.slice();function m(x){if(!p)return[];let b=new Map;return i.newestOnTop&&p.reverse(),p.forEach(S=>{let{position:y}=S.props;b.has(y)||b.set(y,[]),b.get(y).push(S)}),Array.from(b,S=>x(S[0],S[1]))}return{getToastToRender:m,isToastActive:Ah,count:p==null?void 0:p.length}}function m0(i){let[o,u]=j.useState(!1),[c,f]=j.useState(!1),p=j.useRef(null),m=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:x,pauseOnHover:b,closeToast:S,onClick:y,closeOnClick:z}=i;i0({id:i.toastId,containerId:i.containerId,fn:u}),j.useEffect(()=>{if(i.pauseOnFocusLoss)return M(),()=>{P()}},[i.pauseOnFocusLoss]);function M(){document.hasFocus()||J(),window.addEventListener("focus",D),window.addEventListener("blur",J)}function P(){window.removeEventListener("focus",D),window.removeEventListener("blur",J)}function B(Y){if(i.draggable===!0||i.draggable===Y.pointerType){F();let A=p.current;m.canCloseOnClick=!0,m.canDrag=!0,A.style.transition="none",i.draggableDirection==="x"?(m.start=Y.clientX,m.removalDistance=A.offsetWidth*(i.draggablePercent/100)):(m.start=Y.clientY,m.removalDistance=A.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function U(Y){let{top:A,bottom:ae,left:V,right:I}=p.current.getBoundingClientRect();Y.nativeEvent.type!=="touchend"&&i.pauseOnHover&&Y.clientX>=V&&Y.clientX<=I&&Y.clientY>=A&&Y.clientY<=ae?J():D()}function D(){u(!0)}function J(){u(!1)}function F(){m.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",te)}function O(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",te)}function w(Y){let A=p.current;if(m.canDrag&&A){m.didMove=!0,o&&J(),i.draggableDirection==="x"?m.delta=Y.clientX-m.start:m.delta=Y.clientY-m.start,m.start!==Y.clientX&&(m.canCloseOnClick=!1);let ae=i.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`;A.style.transform=`translate3d(${ae},0)`,A.style.opacity=`${1-Math.abs(m.delta/m.removalDistance)}`}}function te(){O();let Y=p.current;if(m.canDrag&&m.didMove&&Y){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance){f(!0),i.closeToast(!0),i.collapseAll();return}Y.style.transition="transform 0.2s, opacity 0.2s",Y.style.removeProperty("transform"),Y.style.removeProperty("opacity")}}let q={onPointerDown:B,onPointerUp:U};return x&&b&&(q.onMouseEnter=J,i.stacked||(q.onMouseLeave=D)),z&&(q.onClick=Y=>{y&&y(Y),m.canCloseOnClick&&S(!0)}),{playToast:D,pauseToast:J,isRunning:o,preventExitTransition:c,toastRef:p,eventHandlers:q}}var h0=typeof window<"u"?j.useLayoutEffect:j.useEffect,Zi=({theme:i,type:o,isLoading:u,...c})=>Le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${o})`,...c});function p0(i){return Le.createElement(Zi,{...i},Le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function g0(i){return Le.createElement(Zi,{...i},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function x0(i){return Le.createElement(Zi,{...i},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function v0(i){return Le.createElement(Zi,{...i},Le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function y0(){return Le.createElement("div",{className:"Toastify__spinner"})}var kc={info:g0,warning:p0,success:x0,error:v0,spinner:y0},b0=i=>i in kc;function j0({theme:i,type:o,isLoading:u,icon:c}){let f=null,p={theme:i,type:o};return c===!1||(Ca(c)?f=c({...p,isLoading:u}):j.isValidElement(c)?f=j.cloneElement(c,p):u?f=kc.spinner():b0(o)&&(f=kc[o](p))),f}var N0=i=>{let{isRunning:o,preventExitTransition:u,toastRef:c,eventHandlers:f,playToast:p}=m0(i),{closeButton:m,children:x,autoClose:b,onClick:S,type:y,hideProgressBar:z,closeToast:M,transition:P,position:B,className:U,style:D,progressClassName:J,updateId:F,role:O,progress:w,rtl:te,toastId:q,deleteToast:Y,isIn:A,isLoading:ae,closeOnClick:V,theme:I,ariaLabel:X}=i,se=jn("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":te},{"Toastify__toast--close-on-click":V}),W=Ca(U)?U({rtl:te,position:B,type:y,defaultClassName:se}):jn(se,U),re=j0(i),N=!!w||!b,H={closeToast:M,type:y,theme:I},E=null;return m===!1||(Ca(m)?E=m(H):j.isValidElement(m)?E=j.cloneElement(m,H):E=Ix(H)),Le.createElement(P,{isIn:A,done:Y,position:B,preventExitTransition:u,nodeRef:c,playToast:p},Le.createElement("div",{id:q,tabIndex:0,onClick:S,"data-in":A,className:W,...f,style:D,ref:c,...A&&{role:O,"aria-label":X}},re!=null&&Le.createElement("div",{className:jn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ae})},re),Th(x,i,!o),E,!i.customProgressBar&&Le.createElement(Wx,{...F&&!N?{key:`p-${F}`}:{},rtl:te,theme:I,delay:b,isRunning:o,isIn:A,closeToast:M,hide:z,type:y,className:J,controlledProgress:N,progress:w||0})))},S0=(i,o=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:o}),T0=$x(S0("bounce",!0)),w0={position:"top-right",transition:T0,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function E0(i){let o={...w0,...i},u=i.stacked,[c,f]=j.useState(!0),p=j.useRef(null),{getToastToRender:m,isToastActive:x,count:b}=f0(o),{className:S,style:y,rtl:z,containerId:M,hotKeys:P}=o;function B(D){let J=jn("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":z});return Ca(S)?S({position:D,rtl:z,defaultClassName:J}):jn(J,_c(S))}function U(){u&&(f(!0),Ye.play())}return h0(()=>{var D;if(u){let J=p.current.querySelectorAll('[data-in="true"]'),F=12,O=(D=o.position)==null?void 0:D.includes("top"),w=0,te=0;Array.from(J).reverse().forEach((q,Y)=>{let A=q;A.classList.add("Toastify__toast--stacked"),Y>0&&(A.dataset.collapsed=`${c}`),A.dataset.pos||(A.dataset.pos=O?"top":"bot");let ae=w*(c?.2:1)+(c?0:F*Y);A.style.setProperty("--y",`${O?ae:ae*-1}px`),A.style.setProperty("--g",`${F}`),A.style.setProperty("--s",`${1-(c?te:0)}`),w+=A.offsetHeight,te+=.025})}},[c,b,u]),j.useEffect(()=>{function D(J){var F;let O=p.current;P(J)&&((F=O.querySelector('[tabIndex="0"]'))==null||F.focus(),f(!1),Ye.pause()),J.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(f(!0),Ye.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[P]),Le.createElement("section",{ref:p,className:"Toastify",id:M,onMouseEnter:()=>{u&&(f(!1),Ye.pause())},onMouseLeave:U,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":o["aria-label"]},m((D,J)=>{let F=J.length?{...y}:{...y,pointerEvents:"none"};return Le.createElement("div",{tabIndex:-1,className:B(D),"data-stacked":u,style:F,key:`c-${D}`},J.map(({content:O,props:w})=>Le.createElement(N0,{...w,stacked:u,collapseAll:U,isIn:x(w.toastId,w.containerId),key:`t-${w.key}`},O)))}))}const A0=()=>{const[i,o]=j.useState([]),[u,c]=j.useState(!0),[f,p]=j.useState(null),[m,x]=j.useState(!1),[b,S]=j.useState(null),[y,z]=j.useState(""),[M,P]=j.useState({nom:"",email:"",adresse:"",telephone:"",numeroIdentificationFiscale:"",motDePasse:"NIF******"}),[B,U]=j.useState({}),[D,J]=j.useState(!1),[F,O]=j.useState(!1),[w,te]=j.useState(null),[q,Y]=j.useState(!1),A=ma();j.useEffect(()=>{const E=document.documentElement.getAttribute("data-theme")==="dark";Y(E)},[]),j.useEffect(()=>{(async()=>{try{const Q=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!Q){A("/");return}const oe=await fetch("https://stage-slk6.onrender.com/api/entreprises/comptable",{method:"GET",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},credentials:"include"});if(!oe.ok){const de=await oe.json();throw new Error(de.message||"Error fetching businesses")}const le=await oe.json();o(le)}catch(Q){console.error("Error:",Q),p(Q.message),(Q.message.includes("authentication")||Q.message.includes("token"))&&(localStorage.clear(),sessionStorage.clear(),A("/",{state:{error:"Session expired. Please log in again."}}))}finally{c(!1)}})()},[A]);const ae=i.filter(E=>Object.values(E).some(Q=>typeof Q=="string"&&Q.toLowerCase().includes(y.toLowerCase()))),V=E=>{const{name:Q,value:oe}=E.target;P(le=>({...le,[Q]:oe})),B[Q]&&U(le=>({...le,[Q]:null}))},I=()=>{const E={},Q=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,oe=/^[A-Za-z0-9]{8,15}$/,le=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;return M.nom.trim()||(E.nom="Name is required"),M.email?Q.test(M.email)||(E.email="Invalid email"):E.email="Email required",M.adresse.trim()||(E.adresse="Address required"),M.numeroIdentificationFiscale?oe.test(M.numeroIdentificationFiscale)||(E.numeroIdentificationFiscale="Invalid NIF format"):E.numeroIdentificationFiscale="NIF required",!b&&!M.motDePasse?E.motDePasse="Password required":M.motDePasse&&!le.test(M.motDePasse)&&(E.motDePasse="Minimum 8 characters with numbers and letters"),U(E),Object.keys(E).length===0},X=async E=>{if(E.preventDefault(),!!I()){J(!0);try{const Q=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!Q){Ye.error("Session expired, please log in again"),A("/");return}const oe=b?`https://stage-slk6.onrender.com/api/entreprises/${b.id}`:"https://stage-slk6.onrender.com/api/entreprises",de=await fetch(oe,{method:b?"PUT":"POST",headers:{Authorization:`Bearer ${Q.trim()}`,"Content-Type":"application/json"},body:JSON.stringify({nom:M.nom,email:M.email,adresse:M.adresse,telephone:M.telephone||null,numeroIdentificationFiscale:M.numeroIdentificationFiscale,...M.motDePasse&&{motDePasse:M.motDePasse}})});if(de.status===404)throw new Error("Business not found (404) - Refresh the list");const he=await de.json();if(!de.ok)throw new Error(he.message||`Error ${de.status}`);o(Ce=>b?Ce.map(ke=>ke.id===b.id?he.entreprise:ke):[...Ce,he.entreprise]),Ye.success(b?"Business updated successfully!":"Business created successfully!",{position:"top-center",autoClose:3e3}),x(!1),se()}catch(Q){console.error("Error:",Q),Ye.error(Q.message.includes("404")?"Business not found - Refresh the list and try again":Q.message||"Request error",{position:"top-center"})}finally{J(!1),S(null)}}},se=()=>{P({nom:"",email:"",adresse:"",telephone:"",numeroIdentificationFiscale:"",motDePasse:"NIF******"}),U({}),S(null)},W=E=>{S(E),P({nom:E.nom,email:E.email,adresse:E.adresse,telephone:E.telephone||"",numeroIdentificationFiscale:E.numeroIdentificationFiscale,motDePasse:""}),x(!0)},re=async E=>{if(window.confirm("Are you sure you want to delete this business?"))try{const Q=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!(await fetch(`https://stage-slk6.onrender.com/api/entreprises/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`}})).ok)throw new Error("Error during deletion");o(le=>le.filter(de=>de.id!==E)),Ye.success("Business deleted successfully",{position:"top-center",autoClose:3e3})}catch(Q){console.error("Error:",Q),Ye.error(Q.message||"Error during deletion",{position:"top-center"})}},N=E=>{te(E),O(!0)},H=E=>{if(!E)return"#72ac8d";const Q=["#72ac8d","#4c9f70","#3d8b63","#2e7656","#1f6249"],oe=E.charCodeAt(0)%Q.length;return Q[oe]};return u?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:q?"#484848":"#f8fafc"},children:[n.jsx(Yi,{className:"spinner",size:32,style:{animation:"spin 1s linear infinite",color:"#72ac8d"}}),n.jsx("p",{style:{marginTop:"1rem",color:q?"#f8f9fa":"#4a5568"},children:"Loading..."})]}):f?n.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:q?"#484848":"#f8fafc",padding:"2rem",textAlign:"center"},children:n.jsxs("div",{style:{background:q?"#1e1e1e":"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",maxWidth:"500px",width:"100%"},children:[n.jsx("h3",{style:{color:"#f72585",marginBottom:"1rem"},children:"Error"}),n.jsx("p",{style:{color:q?"#adb5bd":"#4a5568",marginBottom:"2rem"},children:f}),n.jsx("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),A("/")},style:{background:"#f72585",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s"},children:"Log in again"})]})}):n.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"2rem 1rem",background:q?"#484848":"#f8fafc",minHeight:"100vh",color:q?"#f8f9fa":"#212529"},children:[n.jsx(E0,{position:"top-right",autoClose:5e3}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsxs("h1",{style:{margin:0,fontSize:"1.8rem",fontWeight:"600",color:q?"#f8f9fa":"#2d3748",display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(Nn,{size:24})," Business Management"]}),n.jsxs("p",{style:{margin:"0.25rem 0 0",color:q?"#adb5bd":"#718096",fontSize:"0.95rem"},children:[i.length," business",i.length!==1?"es":""," registered"]})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[n.jsx(Gc,{style:{position:"absolute",left:"1rem",color:"#a0aec0"}}),n.jsx("input",{type:"text",placeholder:"Search...",value:y,onChange:E=>z(E.target.value),style:{padding:"0.75rem 1rem 0.75rem 2.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",width:"280px",fontSize:"0.95rem",transition:"all 0.3s",outline:"none",backgroundColor:q?"#2d2d2d":"white",color:q?"#f8f9fa":"#212529"}})]}),n.jsxs("button",{onClick:()=>x(!0),style:{background:"#72ac8d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s"},children:[n.jsx(Vi,{})," Add"]})]})]}),ae.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:q?"#1e1e1e":"white",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)",color:q?"#f8f9fa":"#212529"},children:[n.jsx("p",{style:{color:q?"#adb5bd":"#718096",marginBottom:"1.5rem",fontSize:"1.1rem"},children:y?`No business found for "${y}"`:"No business registered"}),y?n.jsx("button",{onClick:()=>z(""),style:{background:q?"#2d2d2d":"white",border:"1px solid #e2e8f0",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s",color:q?"#f8f9fa":"#212529"},children:"Clear search"}):n.jsxs("button",{onClick:()=>x(!0),style:{background:"#72ac8d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s"},children:[n.jsx(Vi,{})," Add a business"]})]}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1.5rem"},children:ae.map(E=>n.jsxs("div",{style:{background:q?"#1e1e1e":"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",transition:"all 0.3s ease",overflow:"hidden",position:"relative",color:q?"#f8f9fa":"#212529"},children:[n.jsx("div",{style:{height:"6px",background:H(E.nom)}}),n.jsxs("div",{style:{padding:"1.5rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:H(E.nom),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:"700",flexShrink:0},children:E.nom.charAt(0).toUpperCase()}),n.jsxs("div",{style:{flex:1},children:[n.jsx("h3",{style:{margin:"0 0 0.25rem",color:q?"#f8f9fa":"#2d3748",fontSize:"1.2rem",fontWeight:"600"},children:E.nom}),n.jsxs("span",{style:{fontSize:"0.8rem",color:q?"#adb5bd":"#718096",background:q?"#2d2d2d":"#f7fafc",padding:"0.25rem 0.5rem",borderRadius:"4px",display:"inline-block"},children:["ID: ",E.numeroIdentificationFiscale]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{onClick:()=>W(E),style:{background:"none",border:"none",cursor:"pointer",color:"#a0aec0",fontSize:"1rem",width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s"},children:n.jsx(gh,{})}),n.jsx("button",{onClick:()=>re(E.id),style:{background:"none",border:"none",cursor:"pointer",color:"#a0aec0",fontSize:"1rem",width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s"},children:n.jsx(ms,{})})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.25rem",display:"block"},children:"Email"}),n.jsx("span",{style:{fontSize:"0.95rem",color:q?"#f8f9fa":"#4a5568",fontWeight:"500",wordBreak:"break-word"},children:E.email})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.25rem",display:"block"},children:"Address"}),n.jsx("span",{style:{fontSize:"0.95rem",color:q?"#f8f9fa":"#4a5568",fontWeight:"500",wordBreak:"break-word"},children:E.adresse||"-"})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.25rem",display:"block"},children:"Phone"}),n.jsx("span",{style:{fontSize:"0.95rem",color:q?"#f8f9fa":"#4a5568",fontWeight:"500"},children:E.telephone||"-"})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.25rem",display:"block"},children:"Status"}),n.jsx("span",{style:{fontSize:"0.95rem",color:"#38a169",background:"rgba(56, 161, 105, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"4px",fontWeight:"500",display:"inline-block"},children:"Active"})]})]})]}),n.jsxs("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #edf2f7",display:"flex",justifyContent:"space-between",alignItems:"center",background:q?"#2d2d2d":"#f8fafc"},children:[n.jsxs("span",{style:{fontSize:"0.8rem",color:q?"#adb5bd":"#718096"},children:["Created: ",new Date(E.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})]}),n.jsxs("button",{onClick:()=>N(E),style:{background:"none",border:"none",color:"#72ac8d",fontSize:"0.85rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:"4px",transition:"all 0.3s"},children:[n.jsx(Vx,{})," Details"]})]})]},E.id))}),m&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:()=>!D&&x(!1),children:n.jsxs("div",{style:{background:q?"#1e1e1e":"white",borderRadius:"12px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",color:q?"#f8f9fa":"#212529"},onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #edf2f7",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:q?"#f8f9fa":"#2d3748"},children:b?"Edit Business":"New Business"}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#a0aec0",fontSize:"1.25rem",display:"flex",alignItems:"center",transition:"all 0.3s"},onClick:()=>!D&&x(!1),disabled:D,children:n.jsx(fa,{})})]}),n.jsx("div",{style:{padding:"1.5rem"},children:n.jsx("form",{onSubmit:X,children:["nom","email","adresse","telephone","numeroIdentificationFiscale","motDePasse"].map(E=>n.jsxs("div",{style:{marginBottom:"1.25rem"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:q?"#f8f9fa":"#4a5568"},children:[E==="motDePasse"?"Password":E==="numeroIdentificationFiscale"?"NIF":E.charAt(0).toUpperCase()+E.slice(1),["nom","email","adresse","numeroIdentificationFiscale"].includes(E)&&n.jsx("span",{style:{color:"#f56565",marginLeft:"0.25rem"},children:"*"})]}),n.jsx("input",{type:E==="motDePasse"?"password":E==="email"?"email":E==="telephone"?"tel":"text",name:E,value:M[E],onChange:V,style:{width:"100%",padding:"0.75rem 1rem",border:B[E]?"1px solid #f56565":"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem",transition:"all 0.3s",outline:"none",backgroundColor:q?"#2d2d2d":"white",color:q?"#f8f9fa":"#212529"},disabled:D,placeholder:E==="motDePasse"?"Leave empty to not modify":E==="telephone"?"Optional":""}),B[E]&&n.jsx("span",{style:{display:"block",marginTop:"0.25rem",fontSize:"0.75rem",color:"#f56565"},children:B[E]})]},E))})}),n.jsxs("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #edf2f7",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[n.jsx("button",{type:"button",style:{background:q?"#2d2d2d":"white",border:"1px solid #e2e8f0",color:q?"#f8f9fa":"#4a5568",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s"},onClick:()=>x(!1),disabled:D,children:"Cancel"}),n.jsx("button",{type:"submit",style:{background:"#72ac8d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s",display:"flex",alignItems:"center",gap:"0.5rem"},onClick:X,disabled:D,children:D?n.jsxs(n.Fragment,{children:[n.jsx(Yi,{className:"spinner",size:16,style:{animation:"spin 1s linear infinite"}}),b?"Saving...":"Creating..."]}):b?"Save":"Create"})]})]})}),F&&w&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:()=>O(!1),children:n.jsxs("div",{style:{background:q?"#1e1e1e":"white",borderRadius:"12px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",color:q?"#f8f9fa":"#212529"},onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #edf2f7",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:q?"#f8f9fa":"#2d3748"},children:"Business Details"}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#a0aec0",fontSize:"1.25rem",display:"flex",alignItems:"center",transition:"all 0.3s"},onClick:()=>O(!1),children:n.jsx(fa,{})})]}),n.jsxs("div",{style:{padding:"1.5rem"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem"},children:[n.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"16px",background:H(w.nom),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"700",marginBottom:"1rem"},children:w.nom.charAt(0).toUpperCase()}),n.jsx("h4",{style:{margin:"0 0 0.25rem",fontSize:"1.5rem",fontWeight:"600",color:q?"#f8f9fa":"#2d3748",textAlign:"center"},children:w.nom}),n.jsxs("span",{style:{fontSize:"0.9rem",color:q?"#adb5bd":"#718096",background:q?"#2d2d2d":"#f7fafc",padding:"0.25rem 0.75rem",borderRadius:"20px",display:"inline-block"},children:["ID: ",w.numeroIdentificationFiscale]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1.25rem"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.5rem",display:"block"},children:"Email"}),n.jsx("span",{style:{fontSize:"1rem",color:q?"#f8f9fa":"#4a5568",fontWeight:"500",wordBreak:"break-word"},children:w.email})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.5rem",display:"block"},children:"Address"}),n.jsx("span",{style:{fontSize:"1rem",color:q?"#f8f9fa":"#4a5568",fontWeight:"500",wordBreak:"break-word"},children:w.adresse||"-"})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:q?"#adb5bd":"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.5rem",display:"block"},children:"Phone"}),n.jsx("span",{style:{fontSize:"1rem",color:"#4a5568",fontWeight:"500"},children:w.telephone||"-"})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.5rem",display:"block"},children:"Status"}),n.jsx("span",{style:{fontSize:"1rem",color:"#38a169",background:"rgba(56, 161, 105, 0.1)",padding:"0.5rem 0.75rem",borderRadius:"6px",fontWeight:"500",display:"inline-block"},children:"Active"})]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontSize:"0.75rem",color:"#718096",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.5rem",display:"block"},children:"Creation Date"}),n.jsx("span",{style:{fontSize:"1rem",color:"#4a5568",fontWeight:"500"},children:new Date(w.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),n.jsx("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #edf2f7",display:"flex",justifyContent:"flex-end"},children:n.jsx("button",{type:"button",style:{background:"#72ac8d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.3s",":hover":{background:"#5d9979"}},onClick:()=>O(!1),children:"Close"})})]})})]})},Jm=()=>{const[i,o]=j.useState([]),[u,c]=j.useState(!1),f=["Hello! How can I help you today?","Welcome back among us!","Greetings! I'm here to assist you.","Glad to see you again!","Hello! Ready to explore new ideas?","Welcome! How was your day?","Pleased to see you again!","Happy to see you back!","I'm at your service!","How can I help you today?"],p=()=>{const m=f[Math.floor(Math.random()*f.length)],x={id:Date.now(),text:m,position:{top:`${Math.random()*70+15}%`,left:`${Math.random()*70+15}%`}};o(b=>[...b,x]),c(!0),setTimeout(()=>c(!1),1500)};return j.useEffect(()=>{if(i.length>0){const m=setTimeout(()=>{o(x=>x.slice(1))},5e3);return()=>clearTimeout(m)}},[i]),j.useEffect(()=>{const m=setTimeout(()=>{p()},1e3),x=setInterval(()=>{p()},8e3+Math.random()*4e3);return()=>{clearTimeout(m),clearInterval(x)}},[]),n.jsxs("div",{className:"home-container",children:[n.jsxs("div",{className:"ai-icon",children:[n.jsx("div",{className:`ai-face ${u?"speaking":""}`,children:n.jsxs("div",{className:"ai-head",children:[n.jsx("div",{className:"ai-eye left-eye"}),n.jsx("div",{className:"ai-eye right-eye"}),n.jsx("div",{className:"ai-antenna left-antenna"}),n.jsx("div",{className:"ai-antenna right-antenna"}),n.jsx("div",{className:"ai-mouth"})]})}),n.jsx("div",{className:"pulse-ring"}),n.jsx("div",{className:"pulse-ring ring-2"}),n.jsx("div",{className:"glow-effect"})]}),i.map(m=>n.jsxs("div",{className:"message-bubble",style:m.position,children:[m.text,n.jsx("div",{className:"bubble-tail"})]},m.id)),n.jsx("div",{className:"floating-particles",children:[...Array(15)].map((m,x)=>n.jsx("div",{className:"particle",style:{"--delay":`${x*.7}s`,"--size":`${Math.random()*6+4}px`,"--duration":`${Math.random()*15+15}s`,"--left":`${Math.random()*100}%`}},x))})]})};function Dh(i,o){return function(){return i.apply(o,arguments)}}const{toString:_0}=Object.prototype,{getPrototypeOf:Xc}=Object,{iterator:Ki,toStringTag:kh}=Symbol,Ji=(i=>o=>{const u=_0.call(o);return i[u]||(i[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),na=i=>(i=i.toLowerCase(),o=>Ji(o)===i),$i=i=>o=>typeof o===i,{isArray:hs}=Array,hl=$i("undefined");function xl(i){return i!==null&&!hl(i)&&i.constructor!==null&&!hl(i.constructor)&&Bt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Rh=na("ArrayBuffer");function C0(i){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(i):o=i&&i.buffer&&Rh(i.buffer),o}const D0=$i("string"),Bt=$i("function"),zh=$i("number"),vl=i=>i!==null&&typeof i=="object",k0=i=>i===!0||i===!1,Bi=i=>{if(Ji(i)!=="object")return!1;const o=Xc(i);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(kh in i)&&!(Ki in i)},R0=i=>{if(!vl(i)||xl(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},z0=na("Date"),O0=na("File"),M0=na("Blob"),B0=na("FileList"),U0=i=>vl(i)&&Bt(i.pipe),L0=i=>{let o;return i&&(typeof FormData=="function"&&i instanceof FormData||Bt(i.append)&&((o=Ji(i))==="formdata"||o==="object"&&Bt(i.toString)&&i.toString()==="[object FormData]"))},q0=na("URLSearchParams"),[H0,Y0,V0,Q0]=["ReadableStream","Request","Response","Headers"].map(na),G0=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yl(i,o,{allOwnKeys:u=!1}={}){if(i===null||typeof i>"u")return;let c,f;if(typeof i!="object"&&(i=[i]),hs(i))for(c=0,f=i.length;c<f;c++)o.call(null,i[c],c,i);else{if(xl(i))return;const p=u?Object.getOwnPropertyNames(i):Object.keys(i),m=p.length;let x;for(c=0;c<m;c++)x=p[c],o.call(null,i[x],x,i)}}function Oh(i,o){if(xl(i))return null;o=o.toLowerCase();const u=Object.keys(i);let c=u.length,f;for(;c-- >0;)if(f=u[c],o===f.toLowerCase())return f;return null}const bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mh=i=>!hl(i)&&i!==bn;function Rc(){const{caseless:i}=Mh(this)&&this||{},o={},u=(c,f)=>{const p=i&&Oh(o,f)||f;Bi(o[p])&&Bi(c)?o[p]=Rc(o[p],c):Bi(c)?o[p]=Rc({},c):hs(c)?o[p]=c.slice():o[p]=c};for(let c=0,f=arguments.length;c<f;c++)arguments[c]&&yl(arguments[c],u);return o}const X0=(i,o,u,{allOwnKeys:c}={})=>(yl(o,(f,p)=>{u&&Bt(f)?i[p]=Dh(f,u):i[p]=f},{allOwnKeys:c}),i),F0=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Z0=(i,o,u,c)=>{i.prototype=Object.create(o.prototype,c),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:o.prototype}),u&&Object.assign(i.prototype,u)},K0=(i,o,u,c)=>{let f,p,m;const x={};if(o=o||{},i==null)return o;do{for(f=Object.getOwnPropertyNames(i),p=f.length;p-- >0;)m=f[p],(!c||c(m,i,o))&&!x[m]&&(o[m]=i[m],x[m]=!0);i=u!==!1&&Xc(i)}while(i&&(!u||u(i,o))&&i!==Object.prototype);return o},J0=(i,o,u)=>{i=String(i),(u===void 0||u>i.length)&&(u=i.length),u-=o.length;const c=i.indexOf(o,u);return c!==-1&&c===u},$0=i=>{if(!i)return null;if(hs(i))return i;let o=i.length;if(!zh(o))return null;const u=new Array(o);for(;o-- >0;)u[o]=i[o];return u},I0=(i=>o=>i&&o instanceof i)(typeof Uint8Array<"u"&&Xc(Uint8Array)),W0=(i,o)=>{const c=(i&&i[Ki]).call(i);let f;for(;(f=c.next())&&!f.done;){const p=f.value;o.call(i,p[0],p[1])}},P0=(i,o)=>{let u;const c=[];for(;(u=i.exec(o))!==null;)c.push(u);return c},ev=na("HTMLFormElement"),tv=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,c,f){return c.toUpperCase()+f}),$m=(({hasOwnProperty:i})=>(o,u)=>i.call(o,u))(Object.prototype),av=na("RegExp"),Bh=(i,o)=>{const u=Object.getOwnPropertyDescriptors(i),c={};yl(u,(f,p)=>{let m;(m=o(f,p,i))!==!1&&(c[p]=m||f)}),Object.defineProperties(i,c)},nv=i=>{Bh(i,(o,u)=>{if(Bt(i)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const c=i[u];if(Bt(c)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},sv=(i,o)=>{const u={},c=f=>{f.forEach(p=>{u[p]=!0})};return hs(i)?c(i):c(String(i).split(o)),u},lv=()=>{},iv=(i,o)=>i!=null&&Number.isFinite(i=+i)?i:o;function rv(i){return!!(i&&Bt(i.append)&&i[kh]==="FormData"&&i[Ki])}const ov=i=>{const o=new Array(10),u=(c,f)=>{if(vl(c)){if(o.indexOf(c)>=0)return;if(xl(c))return c;if(!("toJSON"in c)){o[f]=c;const p=hs(c)?[]:{};return yl(c,(m,x)=>{const b=u(m,f+1);!hl(b)&&(p[x]=b)}),o[f]=void 0,p}}return c};return u(i,0)},cv=na("AsyncFunction"),uv=i=>i&&(vl(i)||Bt(i))&&Bt(i.then)&&Bt(i.catch),Uh=((i,o)=>i?setImmediate:o?((u,c)=>(bn.addEventListener("message",({source:f,data:p})=>{f===bn&&p===u&&c.length&&c.shift()()},!1),f=>{c.push(f),bn.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",Bt(bn.postMessage)),dv=typeof queueMicrotask<"u"?queueMicrotask.bind(bn):typeof process<"u"&&process.nextTick||Uh,fv=i=>i!=null&&Bt(i[Ki]),L={isArray:hs,isArrayBuffer:Rh,isBuffer:xl,isFormData:L0,isArrayBufferView:C0,isString:D0,isNumber:zh,isBoolean:k0,isObject:vl,isPlainObject:Bi,isEmptyObject:R0,isReadableStream:H0,isRequest:Y0,isResponse:V0,isHeaders:Q0,isUndefined:hl,isDate:z0,isFile:O0,isBlob:M0,isRegExp:av,isFunction:Bt,isStream:U0,isURLSearchParams:q0,isTypedArray:I0,isFileList:B0,forEach:yl,merge:Rc,extend:X0,trim:G0,stripBOM:F0,inherits:Z0,toFlatObject:K0,kindOf:Ji,kindOfTest:na,endsWith:J0,toArray:$0,forEachEntry:W0,matchAll:P0,isHTMLForm:ev,hasOwnProperty:$m,hasOwnProp:$m,reduceDescriptors:Bh,freezeMethods:nv,toObjectSet:sv,toCamelCase:tv,noop:lv,toFiniteNumber:iv,findKey:Oh,global:bn,isContextDefined:Mh,isSpecCompliantForm:rv,toJSONObject:ov,isAsyncFn:cv,isThenable:uv,setImmediate:Uh,asap:dv,isIterable:fv};function Ee(i,o,u,c,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",o&&(this.code=o),u&&(this.config=u),c&&(this.request=c),f&&(this.response=f,this.status=f.status?f.status:null)}L.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const Lh=Ee.prototype,qh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{qh[i]={value:i}});Object.defineProperties(Ee,qh);Object.defineProperty(Lh,"isAxiosError",{value:!0});Ee.from=(i,o,u,c,f,p)=>{const m=Object.create(Lh);return L.toFlatObject(i,m,function(b){return b!==Error.prototype},x=>x!=="isAxiosError"),Ee.call(m,i.message,o,u,c,f),m.cause=i,m.name=i.name,p&&Object.assign(m,p),m};const mv=null;function zc(i){return L.isPlainObject(i)||L.isArray(i)}function Hh(i){return L.endsWith(i,"[]")?i.slice(0,-2):i}function Im(i,o,u){return i?i.concat(o).map(function(f,p){return f=Hh(f),!u&&p?"["+f+"]":f}).join(u?".":""):o}function hv(i){return L.isArray(i)&&!i.some(zc)}const pv=L.toFlatObject(L,{},null,function(o){return/^is[A-Z]/.test(o)});function Ii(i,o,u){if(!L.isObject(i))throw new TypeError("target must be an object");o=o||new FormData,u=L.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,D){return!L.isUndefined(D[U])});const c=u.metaTokens,f=u.visitor||y,p=u.dots,m=u.indexes,b=(u.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(o);if(!L.isFunction(f))throw new TypeError("visitor must be a function");function S(B){if(B===null)return"";if(L.isDate(B))return B.toISOString();if(L.isBoolean(B))return B.toString();if(!b&&L.isBlob(B))throw new Ee("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(B)||L.isTypedArray(B)?b&&typeof Blob=="function"?new Blob([B]):Buffer.from(B):B}function y(B,U,D){let J=B;if(B&&!D&&typeof B=="object"){if(L.endsWith(U,"{}"))U=c?U:U.slice(0,-2),B=JSON.stringify(B);else if(L.isArray(B)&&hv(B)||(L.isFileList(B)||L.endsWith(U,"[]"))&&(J=L.toArray(B)))return U=Hh(U),J.forEach(function(O,w){!(L.isUndefined(O)||O===null)&&o.append(m===!0?Im([U],w,p):m===null?U:U+"[]",S(O))}),!1}return zc(B)?!0:(o.append(Im(D,U,p),S(B)),!1)}const z=[],M=Object.assign(pv,{defaultVisitor:y,convertValue:S,isVisitable:zc});function P(B,U){if(!L.isUndefined(B)){if(z.indexOf(B)!==-1)throw Error("Circular reference detected in "+U.join("."));z.push(B),L.forEach(B,function(J,F){(!(L.isUndefined(J)||J===null)&&f.call(o,J,L.isString(F)?F.trim():F,U,M))===!0&&P(J,U?U.concat(F):[F])}),z.pop()}}if(!L.isObject(i))throw new TypeError("data must be an object");return P(i),o}function Wm(i){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(c){return o[c]})}function Fc(i,o){this._pairs=[],i&&Ii(i,this,o)}const Yh=Fc.prototype;Yh.append=function(o,u){this._pairs.push([o,u])};Yh.toString=function(o){const u=o?function(c){return o.call(this,c,Wm)}:Wm;return this._pairs.map(function(f){return u(f[0])+"="+u(f[1])},"").join("&")};function gv(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vh(i,o,u){if(!o)return i;const c=u&&u.encode||gv;L.isFunction(u)&&(u={serialize:u});const f=u&&u.serialize;let p;if(f?p=f(o,u):p=L.isURLSearchParams(o)?o.toString():new Fc(o,u).toString(c),p){const m=i.indexOf("#");m!==-1&&(i=i.slice(0,m)),i+=(i.indexOf("?")===-1?"?":"&")+p}return i}class Pm{constructor(){this.handlers=[]}use(o,u,c){return this.handlers.push({fulfilled:o,rejected:u,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){L.forEach(this.handlers,function(c){c!==null&&o(c)})}}const Qh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xv=typeof URLSearchParams<"u"?URLSearchParams:Fc,vv=typeof FormData<"u"?FormData:null,yv=typeof Blob<"u"?Blob:null,bv={isBrowser:!0,classes:{URLSearchParams:xv,FormData:vv,Blob:yv},protocols:["http","https","file","blob","url","data"]},Zc=typeof window<"u"&&typeof document<"u",Oc=typeof navigator=="object"&&navigator||void 0,jv=Zc&&(!Oc||["ReactNative","NativeScript","NS"].indexOf(Oc.product)<0),Nv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sv=Zc&&window.location.href||"http://localhost",Tv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zc,hasStandardBrowserEnv:jv,hasStandardBrowserWebWorkerEnv:Nv,navigator:Oc,origin:Sv},Symbol.toStringTag,{value:"Module"})),Et={...Tv,...bv};function wv(i,o){return Ii(i,new Et.classes.URLSearchParams,{visitor:function(u,c,f,p){return Et.isNode&&L.isBuffer(u)?(this.append(c,u.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)},...o})}function Ev(i){return L.matchAll(/\w+|\[(\w*)]/g,i).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Av(i){const o={},u=Object.keys(i);let c;const f=u.length;let p;for(c=0;c<f;c++)p=u[c],o[p]=i[p];return o}function Gh(i){function o(u,c,f,p){let m=u[p++];if(m==="__proto__")return!0;const x=Number.isFinite(+m),b=p>=u.length;return m=!m&&L.isArray(f)?f.length:m,b?(L.hasOwnProp(f,m)?f[m]=[f[m],c]:f[m]=c,!x):((!f[m]||!L.isObject(f[m]))&&(f[m]=[]),o(u,c,f[m],p)&&L.isArray(f[m])&&(f[m]=Av(f[m])),!x)}if(L.isFormData(i)&&L.isFunction(i.entries)){const u={};return L.forEachEntry(i,(c,f)=>{o(Ev(c),f,u,0)}),u}return null}function _v(i,o,u){if(L.isString(i))try{return(o||JSON.parse)(i),L.trim(i)}catch(c){if(c.name!=="SyntaxError")throw c}return(u||JSON.stringify)(i)}const bl={transitional:Qh,adapter:["xhr","http","fetch"],transformRequest:[function(o,u){const c=u.getContentType()||"",f=c.indexOf("application/json")>-1,p=L.isObject(o);if(p&&L.isHTMLForm(o)&&(o=new FormData(o)),L.isFormData(o))return f?JSON.stringify(Gh(o)):o;if(L.isArrayBuffer(o)||L.isBuffer(o)||L.isStream(o)||L.isFile(o)||L.isBlob(o)||L.isReadableStream(o))return o;if(L.isArrayBufferView(o))return o.buffer;if(L.isURLSearchParams(o))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let x;if(p){if(c.indexOf("application/x-www-form-urlencoded")>-1)return wv(o,this.formSerializer).toString();if((x=L.isFileList(o))||c.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Ii(x?{"files[]":o}:o,b&&new b,this.formSerializer)}}return p||f?(u.setContentType("application/json",!1),_v(o)):o}],transformResponse:[function(o){const u=this.transitional||bl.transitional,c=u&&u.forcedJSONParsing,f=this.responseType==="json";if(L.isResponse(o)||L.isReadableStream(o))return o;if(o&&L.isString(o)&&(c&&!this.responseType||f)){const m=!(u&&u.silentJSONParsing)&&f;try{return JSON.parse(o)}catch(x){if(m)throw x.name==="SyntaxError"?Ee.from(x,Ee.ERR_BAD_RESPONSE,this,null,this.response):x}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],i=>{bl.headers[i]={}});const Cv=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dv=i=>{const o={};let u,c,f;return i&&i.split(`
`).forEach(function(m){f=m.indexOf(":"),u=m.substring(0,f).trim().toLowerCase(),c=m.substring(f+1).trim(),!(!u||o[u]&&Cv[u])&&(u==="set-cookie"?o[u]?o[u].push(c):o[u]=[c]:o[u]=o[u]?o[u]+", "+c:c)}),o},eh=Symbol("internals");function dl(i){return i&&String(i).trim().toLowerCase()}function Ui(i){return i===!1||i==null?i:L.isArray(i)?i.map(Ui):String(i)}function kv(i){const o=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=u.exec(i);)o[c[1]]=c[2];return o}const Rv=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function xc(i,o,u,c,f){if(L.isFunction(c))return c.call(this,o,u);if(f&&(o=u),!!L.isString(o)){if(L.isString(c))return o.indexOf(c)!==-1;if(L.isRegExp(c))return c.test(o)}}function zv(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,u,c)=>u.toUpperCase()+c)}function Ov(i,o){const u=L.toCamelCase(" "+o);["get","set","has"].forEach(c=>{Object.defineProperty(i,c+u,{value:function(f,p,m){return this[c].call(this,o,f,p,m)},configurable:!0})})}let Ut=class{constructor(o){o&&this.set(o)}set(o,u,c){const f=this;function p(x,b,S){const y=dl(b);if(!y)throw new Error("header name must be a non-empty string");const z=L.findKey(f,y);(!z||f[z]===void 0||S===!0||S===void 0&&f[z]!==!1)&&(f[z||b]=Ui(x))}const m=(x,b)=>L.forEach(x,(S,y)=>p(S,y,b));if(L.isPlainObject(o)||o instanceof this.constructor)m(o,u);else if(L.isString(o)&&(o=o.trim())&&!Rv(o))m(Dv(o),u);else if(L.isObject(o)&&L.isIterable(o)){let x={},b,S;for(const y of o){if(!L.isArray(y))throw TypeError("Object iterator must return a key-value pair");x[S=y[0]]=(b=x[S])?L.isArray(b)?[...b,y[1]]:[b,y[1]]:y[1]}m(x,u)}else o!=null&&p(u,o,c);return this}get(o,u){if(o=dl(o),o){const c=L.findKey(this,o);if(c){const f=this[c];if(!u)return f;if(u===!0)return kv(f);if(L.isFunction(u))return u.call(this,f,c);if(L.isRegExp(u))return u.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,u){if(o=dl(o),o){const c=L.findKey(this,o);return!!(c&&this[c]!==void 0&&(!u||xc(this,this[c],c,u)))}return!1}delete(o,u){const c=this;let f=!1;function p(m){if(m=dl(m),m){const x=L.findKey(c,m);x&&(!u||xc(c,c[x],x,u))&&(delete c[x],f=!0)}}return L.isArray(o)?o.forEach(p):p(o),f}clear(o){const u=Object.keys(this);let c=u.length,f=!1;for(;c--;){const p=u[c];(!o||xc(this,this[p],p,o,!0))&&(delete this[p],f=!0)}return f}normalize(o){const u=this,c={};return L.forEach(this,(f,p)=>{const m=L.findKey(c,p);if(m){u[m]=Ui(f),delete u[p];return}const x=o?zv(p):String(p).trim();x!==p&&delete u[p],u[x]=Ui(f),c[x]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const u=Object.create(null);return L.forEach(this,(c,f)=>{c!=null&&c!==!1&&(u[f]=o&&L.isArray(c)?c.join(", "):c)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,u])=>o+": "+u).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...u){const c=new this(o);return u.forEach(f=>c.set(f)),c}static accessor(o){const c=(this[eh]=this[eh]={accessors:{}}).accessors,f=this.prototype;function p(m){const x=dl(m);c[x]||(Ov(f,m),c[x]=!0)}return L.isArray(o)?o.forEach(p):p(o),this}};Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Ut.prototype,({value:i},o)=>{let u=o[0].toUpperCase()+o.slice(1);return{get:()=>i,set(c){this[u]=c}}});L.freezeMethods(Ut);function vc(i,o){const u=this||bl,c=o||u,f=Ut.from(c.headers);let p=c.data;return L.forEach(i,function(x){p=x.call(u,p,f.normalize(),o?o.status:void 0)}),f.normalize(),p}function Xh(i){return!!(i&&i.__CANCEL__)}function ps(i,o,u){Ee.call(this,i??"canceled",Ee.ERR_CANCELED,o,u),this.name="CanceledError"}L.inherits(ps,Ee,{__CANCEL__:!0});function Fh(i,o,u){const c=u.config.validateStatus;!u.status||!c||c(u.status)?i(u):o(new Ee("Request failed with status code "+u.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function Mv(i){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return o&&o[1]||""}function Bv(i,o){i=i||10;const u=new Array(i),c=new Array(i);let f=0,p=0,m;return o=o!==void 0?o:1e3,function(b){const S=Date.now(),y=c[p];m||(m=S),u[f]=b,c[f]=S;let z=p,M=0;for(;z!==f;)M+=u[z++],z=z%i;if(f=(f+1)%i,f===p&&(p=(p+1)%i),S-m<o)return;const P=y&&S-y;return P?Math.round(M*1e3/P):void 0}}function Uv(i,o){let u=0,c=1e3/o,f,p;const m=(S,y=Date.now())=>{u=y,f=null,p&&(clearTimeout(p),p=null),i(...S)};return[(...S)=>{const y=Date.now(),z=y-u;z>=c?m(S,y):(f=S,p||(p=setTimeout(()=>{p=null,m(f)},c-z)))},()=>f&&m(f)]}const Qi=(i,o,u=3)=>{let c=0;const f=Bv(50,250);return Uv(p=>{const m=p.loaded,x=p.lengthComputable?p.total:void 0,b=m-c,S=f(b),y=m<=x;c=m;const z={loaded:m,total:x,progress:x?m/x:void 0,bytes:b,rate:S||void 0,estimated:S&&x&&y?(x-m)/S:void 0,event:p,lengthComputable:x!=null,[o?"download":"upload"]:!0};i(z)},u)},th=(i,o)=>{const u=i!=null;return[c=>o[0]({lengthComputable:u,total:i,loaded:c}),o[1]]},ah=i=>(...o)=>L.asap(()=>i(...o)),Lv=Et.hasStandardBrowserEnv?((i,o)=>u=>(u=new URL(u,Et.origin),i.protocol===u.protocol&&i.host===u.host&&(o||i.port===u.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,qv=Et.hasStandardBrowserEnv?{write(i,o,u,c,f,p){const m=[i+"="+encodeURIComponent(o)];L.isNumber(u)&&m.push("expires="+new Date(u).toGMTString()),L.isString(c)&&m.push("path="+c),L.isString(f)&&m.push("domain="+f),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read(i){const o=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hv(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Yv(i,o){return o?i.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):i}function Zh(i,o,u){let c=!Hv(o);return i&&(c||u==!1)?Yv(i,o):o}const nh=i=>i instanceof Ut?{...i}:i;function wn(i,o){o=o||{};const u={};function c(S,y,z,M){return L.isPlainObject(S)&&L.isPlainObject(y)?L.merge.call({caseless:M},S,y):L.isPlainObject(y)?L.merge({},y):L.isArray(y)?y.slice():y}function f(S,y,z,M){if(L.isUndefined(y)){if(!L.isUndefined(S))return c(void 0,S,z,M)}else return c(S,y,z,M)}function p(S,y){if(!L.isUndefined(y))return c(void 0,y)}function m(S,y){if(L.isUndefined(y)){if(!L.isUndefined(S))return c(void 0,S)}else return c(void 0,y)}function x(S,y,z){if(z in o)return c(S,y);if(z in i)return c(void 0,S)}const b={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:x,headers:(S,y,z)=>f(nh(S),nh(y),z,!0)};return L.forEach(Object.keys({...i,...o}),function(y){const z=b[y]||f,M=z(i[y],o[y],y);L.isUndefined(M)&&z!==x||(u[y]=M)}),u}const Kh=i=>{const o=wn({},i);let{data:u,withXSRFToken:c,xsrfHeaderName:f,xsrfCookieName:p,headers:m,auth:x}=o;o.headers=m=Ut.from(m),o.url=Vh(Zh(o.baseURL,o.url,o.allowAbsoluteUrls),i.params,i.paramsSerializer),x&&m.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let b;if(L.isFormData(u)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((b=m.getContentType())!==!1){const[S,...y]=b?b.split(";").map(z=>z.trim()).filter(Boolean):[];m.setContentType([S||"multipart/form-data",...y].join("; "))}}if(Et.hasStandardBrowserEnv&&(c&&L.isFunction(c)&&(c=c(o)),c||c!==!1&&Lv(o.url))){const S=f&&p&&qv.read(p);S&&m.set(f,S)}return o},Vv=typeof XMLHttpRequest<"u",Qv=Vv&&function(i){return new Promise(function(u,c){const f=Kh(i);let p=f.data;const m=Ut.from(f.headers).normalize();let{responseType:x,onUploadProgress:b,onDownloadProgress:S}=f,y,z,M,P,B;function U(){P&&P(),B&&B(),f.cancelToken&&f.cancelToken.unsubscribe(y),f.signal&&f.signal.removeEventListener("abort",y)}let D=new XMLHttpRequest;D.open(f.method.toUpperCase(),f.url,!0),D.timeout=f.timeout;function J(){if(!D)return;const O=Ut.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),te={data:!x||x==="text"||x==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:O,config:i,request:D};Fh(function(Y){u(Y),U()},function(Y){c(Y),U()},te),D=null}"onloadend"in D?D.onloadend=J:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(J)},D.onabort=function(){D&&(c(new Ee("Request aborted",Ee.ECONNABORTED,i,D)),D=null)},D.onerror=function(){c(new Ee("Network Error",Ee.ERR_NETWORK,i,D)),D=null},D.ontimeout=function(){let w=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const te=f.transitional||Qh;f.timeoutErrorMessage&&(w=f.timeoutErrorMessage),c(new Ee(w,te.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,i,D)),D=null},p===void 0&&m.setContentType(null),"setRequestHeader"in D&&L.forEach(m.toJSON(),function(w,te){D.setRequestHeader(te,w)}),L.isUndefined(f.withCredentials)||(D.withCredentials=!!f.withCredentials),x&&x!=="json"&&(D.responseType=f.responseType),S&&([M,B]=Qi(S,!0),D.addEventListener("progress",M)),b&&D.upload&&([z,P]=Qi(b),D.upload.addEventListener("progress",z),D.upload.addEventListener("loadend",P)),(f.cancelToken||f.signal)&&(y=O=>{D&&(c(!O||O.type?new ps(null,i,D):O),D.abort(),D=null)},f.cancelToken&&f.cancelToken.subscribe(y),f.signal&&(f.signal.aborted?y():f.signal.addEventListener("abort",y)));const F=Mv(f.url);if(F&&Et.protocols.indexOf(F)===-1){c(new Ee("Unsupported protocol "+F+":",Ee.ERR_BAD_REQUEST,i));return}D.send(p||null)})},Gv=(i,o)=>{const{length:u}=i=i?i.filter(Boolean):[];if(o||u){let c=new AbortController,f;const p=function(S){if(!f){f=!0,x();const y=S instanceof Error?S:this.reason;c.abort(y instanceof Ee?y:new ps(y instanceof Error?y.message:y))}};let m=o&&setTimeout(()=>{m=null,p(new Ee(`timeout ${o} of ms exceeded`,Ee.ETIMEDOUT))},o);const x=()=>{i&&(m&&clearTimeout(m),m=null,i.forEach(S=>{S.unsubscribe?S.unsubscribe(p):S.removeEventListener("abort",p)}),i=null)};i.forEach(S=>S.addEventListener("abort",p));const{signal:b}=c;return b.unsubscribe=()=>L.asap(x),b}},Xv=function*(i,o){let u=i.byteLength;if(u<o){yield i;return}let c=0,f;for(;c<u;)f=c+o,yield i.slice(c,f),c=f},Fv=async function*(i,o){for await(const u of Zv(i))yield*Xv(u,o)},Zv=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const o=i.getReader();try{for(;;){const{done:u,value:c}=await o.read();if(u)break;yield c}}finally{await o.cancel()}},sh=(i,o,u,c)=>{const f=Fv(i,o);let p=0,m,x=b=>{m||(m=!0,c&&c(b))};return new ReadableStream({async pull(b){try{const{done:S,value:y}=await f.next();if(S){x(),b.close();return}let z=y.byteLength;if(u){let M=p+=z;u(M)}b.enqueue(new Uint8Array(y))}catch(S){throw x(S),S}},cancel(b){return x(b),f.return()}},{highWaterMark:2})},Wi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Jh=Wi&&typeof ReadableStream=="function",Kv=Wi&&(typeof TextEncoder=="function"?(i=>o=>i.encode(o))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),$h=(i,...o)=>{try{return!!i(...o)}catch{return!1}},Jv=Jh&&$h(()=>{let i=!1;const o=new Request(Et.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!o}),lh=64*1024,Mc=Jh&&$h(()=>L.isReadableStream(new Response("").body)),Gi={stream:Mc&&(i=>i.body)};Wi&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!Gi[o]&&(Gi[o]=L.isFunction(i[o])?u=>u[o]():(u,c)=>{throw new Ee(`Response type '${o}' is not supported`,Ee.ERR_NOT_SUPPORT,c)})})})(new Response);const $v=async i=>{if(i==null)return 0;if(L.isBlob(i))return i.size;if(L.isSpecCompliantForm(i))return(await new Request(Et.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(L.isArrayBufferView(i)||L.isArrayBuffer(i))return i.byteLength;if(L.isURLSearchParams(i)&&(i=i+""),L.isString(i))return(await Kv(i)).byteLength},Iv=async(i,o)=>{const u=L.toFiniteNumber(i.getContentLength());return u??$v(o)},Wv=Wi&&(async i=>{let{url:o,method:u,data:c,signal:f,cancelToken:p,timeout:m,onDownloadProgress:x,onUploadProgress:b,responseType:S,headers:y,withCredentials:z="same-origin",fetchOptions:M}=Kh(i);S=S?(S+"").toLowerCase():"text";let P=Gv([f,p&&p.toAbortSignal()],m),B;const U=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let D;try{if(b&&Jv&&u!=="get"&&u!=="head"&&(D=await Iv(y,c))!==0){let te=new Request(o,{method:"POST",body:c,duplex:"half"}),q;if(L.isFormData(c)&&(q=te.headers.get("content-type"))&&y.setContentType(q),te.body){const[Y,A]=th(D,Qi(ah(b)));c=sh(te.body,lh,Y,A)}}L.isString(z)||(z=z?"include":"omit");const J="credentials"in Request.prototype;B=new Request(o,{...M,signal:P,method:u.toUpperCase(),headers:y.normalize().toJSON(),body:c,duplex:"half",credentials:J?z:void 0});let F=await fetch(B,M);const O=Mc&&(S==="stream"||S==="response");if(Mc&&(x||O&&U)){const te={};["status","statusText","headers"].forEach(ae=>{te[ae]=F[ae]});const q=L.toFiniteNumber(F.headers.get("content-length")),[Y,A]=x&&th(q,Qi(ah(x),!0))||[];F=new Response(sh(F.body,lh,Y,()=>{A&&A(),U&&U()}),te)}S=S||"text";let w=await Gi[L.findKey(Gi,S)||"text"](F,i);return!O&&U&&U(),await new Promise((te,q)=>{Fh(te,q,{data:w,headers:Ut.from(F.headers),status:F.status,statusText:F.statusText,config:i,request:B})})}catch(J){throw U&&U(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,i,B),{cause:J.cause||J}):Ee.from(J,J&&J.code,i,B)}}),Bc={http:mv,xhr:Qv,fetch:Wv};L.forEach(Bc,(i,o)=>{if(i){try{Object.defineProperty(i,"name",{value:o})}catch{}Object.defineProperty(i,"adapterName",{value:o})}});const ih=i=>`- ${i}`,Pv=i=>L.isFunction(i)||i===null||i===!1,Ih={getAdapter:i=>{i=L.isArray(i)?i:[i];const{length:o}=i;let u,c;const f={};for(let p=0;p<o;p++){u=i[p];let m;if(c=u,!Pv(u)&&(c=Bc[(m=String(u)).toLowerCase()],c===void 0))throw new Ee(`Unknown adapter '${m}'`);if(c)break;f[m||"#"+p]=c}if(!c){const p=Object.entries(f).map(([x,b])=>`adapter ${x} `+(b===!1?"is not supported by the environment":"is not available in the build"));let m=o?p.length>1?`since :
`+p.map(ih).join(`
`):" "+ih(p[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c},adapters:Bc};function yc(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new ps(null,i)}function rh(i){return yc(i),i.headers=Ut.from(i.headers),i.data=vc.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Ih.getAdapter(i.adapter||bl.adapter)(i).then(function(c){return yc(i),c.data=vc.call(i,i.transformResponse,c),c.headers=Ut.from(c.headers),c},function(c){return Xh(c)||(yc(i),c&&c.response&&(c.response.data=vc.call(i,i.transformResponse,c.response),c.response.headers=Ut.from(c.response.headers))),Promise.reject(c)})}const Wh="1.11.0",Pi={};["object","boolean","number","function","string","symbol"].forEach((i,o)=>{Pi[i]=function(c){return typeof c===i||"a"+(o<1?"n ":" ")+i}});const oh={};Pi.transitional=function(o,u,c){function f(p,m){return"[Axios v"+Wh+"] Transitional option '"+p+"'"+m+(c?". "+c:"")}return(p,m,x)=>{if(o===!1)throw new Ee(f(m," has been removed"+(u?" in "+u:"")),Ee.ERR_DEPRECATED);return u&&!oh[m]&&(oh[m]=!0,console.warn(f(m," has been deprecated since v"+u+" and will be removed in the near future"))),o?o(p,m,x):!0}};Pi.spelling=function(o){return(u,c)=>(console.warn(`${c} is likely a misspelling of ${o}`),!0)};function ey(i,o,u){if(typeof i!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const c=Object.keys(i);let f=c.length;for(;f-- >0;){const p=c[f],m=o[p];if(m){const x=i[p],b=x===void 0||m(x,p,i);if(b!==!0)throw new Ee("option "+p+" must be "+b,Ee.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new Ee("Unknown option "+p,Ee.ERR_BAD_OPTION)}}const Li={assertOptions:ey,validators:Pi},ua=Li.validators;let Sn=class{constructor(o){this.defaults=o||{},this.interceptors={request:new Pm,response:new Pm}}async request(o,u){try{return await this._request(o,u)}catch(c){if(c instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const p=f.stack?f.stack.replace(/^.+\n/,""):"";try{c.stack?p&&!String(c.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+p):c.stack=p}catch{}}throw c}}_request(o,u){typeof o=="string"?(u=u||{},u.url=o):u=o||{},u=wn(this.defaults,u);const{transitional:c,paramsSerializer:f,headers:p}=u;c!==void 0&&Li.assertOptions(c,{silentJSONParsing:ua.transitional(ua.boolean),forcedJSONParsing:ua.transitional(ua.boolean),clarifyTimeoutError:ua.transitional(ua.boolean)},!1),f!=null&&(L.isFunction(f)?u.paramsSerializer={serialize:f}:Li.assertOptions(f,{encode:ua.function,serialize:ua.function},!0)),u.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?u.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:u.allowAbsoluteUrls=!0),Li.assertOptions(u,{baseUrl:ua.spelling("baseURL"),withXsrfToken:ua.spelling("withXSRFToken")},!0),u.method=(u.method||this.defaults.method||"get").toLowerCase();let m=p&&L.merge(p.common,p[u.method]);p&&L.forEach(["delete","get","head","post","put","patch","common"],B=>{delete p[B]}),u.headers=Ut.concat(m,p);const x=[];let b=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(u)===!1||(b=b&&U.synchronous,x.unshift(U.fulfilled,U.rejected))});const S=[];this.interceptors.response.forEach(function(U){S.push(U.fulfilled,U.rejected)});let y,z=0,M;if(!b){const B=[rh.bind(this),void 0];for(B.unshift(...x),B.push(...S),M=B.length,y=Promise.resolve(u);z<M;)y=y.then(B[z++],B[z++]);return y}M=x.length;let P=u;for(z=0;z<M;){const B=x[z++],U=x[z++];try{P=B(P)}catch(D){U.call(this,D);break}}try{y=rh.call(this,P)}catch(B){return Promise.reject(B)}for(z=0,M=S.length;z<M;)y=y.then(S[z++],S[z++]);return y}getUri(o){o=wn(this.defaults,o);const u=Zh(o.baseURL,o.url,o.allowAbsoluteUrls);return Vh(u,o.params,o.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(o){Sn.prototype[o]=function(u,c){return this.request(wn(c||{},{method:o,url:u,data:(c||{}).data}))}});L.forEach(["post","put","patch"],function(o){function u(c){return function(p,m,x){return this.request(wn(x||{},{method:o,headers:c?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}Sn.prototype[o]=u(),Sn.prototype[o+"Form"]=u(!0)});let ty=class Ph{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(p){u=p});const c=this;this.promise.then(f=>{if(!c._listeners)return;let p=c._listeners.length;for(;p-- >0;)c._listeners[p](f);c._listeners=null}),this.promise.then=f=>{let p;const m=new Promise(x=>{c.subscribe(x),p=x}).then(f);return m.cancel=function(){c.unsubscribe(p)},m},o(function(p,m,x){c.reason||(c.reason=new ps(p,m,x),u(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const u=this._listeners.indexOf(o);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const o=new AbortController,u=c=>{o.abort(c)};return this.subscribe(u),o.signal.unsubscribe=()=>this.unsubscribe(u),o.signal}static source(){let o;return{token:new Ph(function(f){o=f}),cancel:o}}};function ay(i){return function(u){return i.apply(null,u)}}function ny(i){return L.isObject(i)&&i.isAxiosError===!0}const Uc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uc).forEach(([i,o])=>{Uc[o]=i});function ep(i){const o=new Sn(i),u=Dh(Sn.prototype.request,o);return L.extend(u,Sn.prototype,o,{allOwnKeys:!0}),L.extend(u,o,null,{allOwnKeys:!0}),u.create=function(f){return ep(wn(i,f))},u}const _e=ep(bl);_e.Axios=Sn;_e.CanceledError=ps;_e.CancelToken=ty;_e.isCancel=Xh;_e.VERSION=Wh;_e.toFormData=Ii;_e.AxiosError=Ee;_e.Cancel=_e.CanceledError;_e.all=function(o){return Promise.all(o)};_e.spread=ay;_e.isAxiosError=ny;_e.mergeConfig=wn;_e.AxiosHeaders=Ut;_e.formToJSON=i=>Gh(L.isHTMLForm(i)?new FormData(i):i);_e.getAdapter=Ih.getAdapter;_e.HttpStatusCode=Uc;_e.default=_e;const{Axios:Ny,AxiosError:Sy,CanceledError:Ty,isCancel:wy,CancelToken:Ey,VERSION:Ay,all:_y,Cancel:Cy,isAxiosError:Dy,spread:ky,toFormData:Ry,AxiosHeaders:zy,HttpStatusCode:Oy,formToJSON:My,getAdapter:By,mergeConfig:Uy}=_e,ch=({handleLogout:i})=>{var Y,A,ae,V,I,X,se,W,re,N,H;const[o,u]=j.useState(null),[c,f]=j.useState(!0),[p,m]=j.useState(null),[x,b]=j.useState(!1),[S,y]=j.useState({}),[z,M]=j.useState(null),[P,B]=j.useState(null),[U,D]=j.useState(!1),[J,F]=j.useState(!1),O=ma();j.useEffect(()=>{const E=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!E){O("/");return}(async()=>{var oe,le,de;try{const he=await _e.get("/api/profile",{headers:{Authorization:`Bearer ${E}`}}),Ce={ville:"",region:"",codePostal:"",...he.data};u(Ce),y(Ce),(he.data.image||he.data.logo)&&M(he.data.image||he.data.logo)}catch(he){console.error("Error:",he),m(((le=(oe=he.response)==null?void 0:oe.data)==null?void 0:le.message)||"Error loading profile"),((de=he.response)==null?void 0:de.status)===401&&i()}finally{f(!1)}})()},[O,i]);const w=E=>{const{name:Q,value:oe}=E.target;y({...S,[Q]:oe})},te=E=>{const Q=E.target.files[0];if(Q){B(Q);const oe=new FileReader;oe.onloadend=()=>{M(oe.result)},oe.readAsDataURL(Q)}},q=async E=>{var Q,oe,le;E.preventDefault(),F(!0);try{const de=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),he=new FormData;["nom","name","lastname","email","password","adresse","ville","region","codePostal","telephone","siteWeb","numeroIdentificationFiscale"].forEach(At=>{S[At]!==void 0&&he.append(At,S[At])}),P&&he.append("image",P);const ke=await _e.put("/api/profile",he,{headers:{Authorization:`Bearer ${de}`,"Content-Type":"multipart/form-data"}}),et={ville:"",region:"",codePostal:"",...ke.data};u(et),b(!1),m(null),(ke.data.image||ke.data.logo)&&M(ke.data.image||ke.data.logo),D(!0),setTimeout(()=>D(!1),3e3)}catch(de){console.error("Error:",de),m(((oe=(Q=de.response)==null?void 0:Q.data)==null?void 0:oe.message)||"Error updating profile"),((le=de.response)==null?void 0:le.status)===401&&i()}finally{F(!1)}};return!localStorage.getItem("authToken")&&!sessionStorage.getItem("authToken")?(O("/"),null):c?n.jsxs("div",{className:"profile-loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading your profile..."})]}):p?n.jsxs("div",{className:"profile-error",children:[n.jsx("div",{className:"error-icon",children:""}),n.jsx("p",{children:p}),n.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Try again"})]}):o?n.jsxs("div",{className:"profile-container",children:[U&&n.jsxs("div",{className:"success-alert",children:[n.jsx("span",{children:""})," Your changes have been saved successfully!"]}),n.jsxs("div",{className:"profile-header",children:[n.jsxs("div",{className:"profile-avatar-container",children:[z?n.jsx("img",{src:z,alt:"Profile",className:"profile-avatar"}):n.jsx("div",{className:"default-avatar",children:o.role==="comptable"?(((Y=o.name)==null?void 0:Y[0])||"")+(((A=o.lastname)==null?void 0:A[0])||""):((ae=o.nom)==null?void 0:ae[0])||""}),x&&n.jsx("div",{className:"avatar-edit-overlay",children:n.jsxs("label",{htmlFor:"profile-image",className:"edit-avatar-button",children:[n.jsx("input",{type:"file",id:"profile-image",accept:"image/*",onChange:te,style:{display:"none"}}),"Change photo"]})})]}),n.jsx("h1",{className:"profile-name",children:o.role==="comptable"?`${o.name} ${o.lastname}`:o.nom}),n.jsx("div",{className:`profile-role ${o.role}`,children:o.role==="comptable"?"Accountant":"Business"})]}),n.jsx("div",{className:"profile-content",children:x?n.jsxs("form",{onSubmit:q,className:"profile-form",children:[n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Personal Information"}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"First Name"}),n.jsx("input",{type:"text",name:o.role==="comptable"?"name":"nom",value:((V=S[o.role==="comptable"?"name":"nom"])==null?void 0:V.split(" ")[0])||"",onChange:w,className:"form-control"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Last Name"}),o.role==="comptable"?n.jsx("input",{type:"text",name:"lastname",value:S.lastname||"",onChange:w,className:"form-control"}):n.jsx("input",{type:"text",name:"nom",value:((I=S.nom)==null?void 0:I.split(" ")[1])||"",onChange:E=>{var oe;const Q=((oe=S.nom)==null?void 0:oe.split(" "))||["",""];Q[1]=E.target.value,w({target:{name:"nom",value:Q.join(" ")}})},className:"form-control"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Email"}),n.jsx("input",{type:"email",name:"email",value:S.email||"",onChange:w,className:"form-control"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Password"}),n.jsx("input",{type:"password",name:"password",placeholder:"New password",onChange:w,className:"form-control"})]})]})]}),n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Contact Information"}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group full-width",children:[n.jsx("label",{children:"Address"}),n.jsx("input",{type:"text",name:"adresse",value:S.adresse||"",onChange:w,className:"form-control"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"City"}),n.jsx("input",{type:"text",name:"ville",value:S.ville||"",onChange:w,className:"form-control"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Region"}),n.jsx("input",{type:"text",name:"region",value:S.region||"",onChange:w,className:"form-control"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Postal Code"}),n.jsx("input",{type:"text",name:"codePostal",value:S.codePostal||"",onChange:w,className:"form-control"})]})]})]}),o.role==="entreprise"&&o.comptable&&n.jsxs("div",{className:"comptable-section",children:[n.jsx("h3",{children:"Associated Accountant"}),n.jsxs("div",{className:"comptable-card",children:[n.jsxs("div",{className:"comptable-avatar",children:[(X=o.comptable.name)==null?void 0:X[0],(se=o.comptable.lastname)==null?void 0:se[0]]}),n.jsxs("div",{className:"comptable-info",children:[n.jsxs("h4",{children:[o.comptable.name," ",o.comptable.lastname]}),n.jsx("p",{children:o.comptable.email})]})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{b(!1),M(o.image||o.logo||null)},disabled:J,children:"Cancel"}),n.jsx("button",{type:"submit",className:`save-button ${J?"loading":""}`,disabled:J,children:J?"":"Save Changes"})]})]}):n.jsxs("div",{className:"profile-details",children:[n.jsxs("div",{className:"details-section",children:[n.jsx("h3",{children:"Personal Information"}),n.jsxs("div",{className:"details-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"First Name"}),n.jsx("p",{children:o.role==="comptable"?o.name:(W=o.nom)==null?void 0:W.split(" ")[0]})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Last Name"}),n.jsx("p",{children:o.role==="comptable"?o.lastname:((re=o.nom)==null?void 0:re.split(" ")[1])||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Email"}),n.jsx("p",{children:o.email})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Password"}),n.jsx("p",{children:""})]})]})]}),n.jsxs("div",{className:"details-section",children:[n.jsx("h3",{children:"Contact Information"}),n.jsxs("div",{className:"details-grid",children:[n.jsxs("div",{className:"detail-item full-width",children:[n.jsx("label",{children:"Address"}),n.jsx("p",{children:o.adresse||"Not specified"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"City"}),n.jsx("p",{children:o.ville||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Region"}),n.jsx("p",{children:o.region||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Postal Code"}),n.jsx("p",{children:o.codePostal||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Phone"}),n.jsx("p",{children:o.telephone||"-"})]})]})]}),o.role==="entreprise"&&o.comptable&&n.jsxs("div",{className:"comptable-section",children:[n.jsx("h3",{children:"Associated Accountant"}),n.jsxs("div",{className:"comptable-card",children:[n.jsxs("div",{className:"comptable-avatar",children:[(N=o.comptable.name)==null?void 0:N[0],(H=o.comptable.lastname)==null?void 0:H[0]]}),n.jsxs("div",{className:"comptable-info",children:[n.jsxs("h4",{children:[o.comptable.name," ",o.comptable.lastname]}),n.jsx("p",{children:o.comptable.email})]})]})]}),n.jsx("div",{className:"profile-actions",children:n.jsx("button",{onClick:()=>b(!0),className:"edit-button",children:"Edit Profile"})})]})})]}):n.jsx("div",{className:"profile-empty",children:n.jsx("p",{children:"No profile data available"})})},sy=()=>{const{userData:i}=Hc(),[o,u]=j.useState([]),[c,f]=j.useState(!0),[p,m]=j.useState(!1),[x,b]=j.useState(!1),[S,y]=j.useState([]),[z,M]=j.useState(null),[P,B]=j.useState(!1),[U,D]=j.useState(null),[J,F]=j.useState(()=>localStorage.getItem("darkMode")==="true"||window.matchMedia("(prefers-color-scheme: dark)").matches),[O,w]=j.useState({numero:"",date_creation:new Date().toISOString().split("T")[0],date_validite:"",remise:0,tva:20,statut:"brouillon",client_name:"",montant_ht:0,montant_ttc:0,lignes:[{description:"",prix_unitaire_ht:0,quantite:1,unite:"unit"}]}),[te,q]=j.useState(null),[Y,A]=j.useState(null),ae=ma(),V={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},content:{backgroundColor:"white",borderRadius:"0.5rem",width:"90%",maxWidth:"900px",height:"90%",maxHeight:"800px",display:"flex",flexDirection:"column",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",overflow:"hidden"},header:{padding:"1rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8fafc"},body:{flex:1,overflow:"hidden",position:"relative"},footer:{padding:"0.75rem 1rem",borderTop:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end",gap:"0.75rem"},button:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"0.375rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},primaryButton:{backgroundColor:"#3b82f6",color:"white",border:"none"},secondaryButton:{backgroundColor:"#e2e8f0",color:"#1e293b",border:"none"},loading:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.8)"}};j.useEffect(()=>{localStorage.setItem("darkMode",J),J?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")},[J]);const I=()=>localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),X=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),ae("/",{state:{sessionExpired:!0}})},se=async()=>{var ee,fe,ge;try{f(!0);const xe=I();if(!xe){console.warn("No token in localStorage or sessionStorage"),X();return}const Ge=(await _e.get("https://stage-slk6.onrender.com/api/devis",{headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"}})).data.data.map(Z=>({...Z,montant_ht:parseFloat(Z.montant_ht)||0,montant_ttc:parseFloat(Z.montant_ttc)||0}));u(Ge||[])}catch(xe){console.error("Error during fetchDevis:",xe.response||xe),((ee=xe.response)==null?void 0:ee.status)===401?X():A(((ge=(fe=xe.response)==null?void 0:fe.data)==null?void 0:ge.message)||"Error loading quotes")}finally{f(!1)}},W=()=>{I()||X()};j.useEffect(()=>{W(),se()},[]);const re=()=>{W(),M(null),w({numero:"",date_creation:new Date().toISOString().split("T")[0],date_validite:"",remise:0,tva:20,statut:"brouillon",client_name:"",lignes:[{description:"",prix_unitaire_ht:0,quantite:1,unite:"unit"}]}),m(!0)},N=ee=>{var fe,ge,xe;W(),console.log("Quote to edit:",ee),M(ee),w({numero:ee.numero,date_creation:ee.date_creation.split("T")[0],date_validite:((fe=ee.date_validite)==null?void 0:fe.split("T")[0])||"",remise:ee.remise,tva:ee.tva,statut:ee.statut,client_name:ee.client_name,montant_ht:parseFloat(ee.montant_ht)||0,montant_ttc:parseFloat(ee.montant_ttc)||0,lignes:((ge=ee.lignesDevis)==null?void 0:ge.length)>0?ee.lignesDevis.map(Ne=>({id:Ne.id,description:Ne.description,prix_unitaire_ht:Ne.prix_unitaire_ht,quantite:Ne.quantite,unite:Ne.unite||"unit"})):((xe=ee.lignes)==null?void 0:xe.length)>0?ee.lignes.map(Ne=>({id:Ne.id,description:Ne.description,prix_unitaire_ht:Ne.prix_unitaire_ht,quantite:Ne.quantite,unite:Ne.unite||"unit"})):[{description:"",prix_unitaire_ht:0,quantite:1,unite:"unit"}]}),m(!0)},H=ee=>{const{name:fe,value:ge}=ee.target;w(xe=>({...xe,[fe]:ge}))},E=(ee,fe)=>{const{name:ge,value:xe}=fe.target,Ne=[...O.lignes];Ne[ee]={...Ne[ee],[ge]:ge==="prix_unitaire_ht"||ge==="quantite"?parseFloat(xe)||0:xe},w(Ge=>({...Ge,lignes:Ne}))},Q=()=>{w(ee=>({...ee,lignes:[...ee.lignes,{description:"",prix_unitaire_ht:0,quantite:1,unite:"unit"}]}))},oe=ee=>{const fe=O.lignes.filter((ge,xe)=>xe!==ee);w(ge=>({...ge,lignes:fe}))},le=()=>{const ee=O.lignes.reduce((Ge,Z)=>Ge+parseFloat(Z.prix_unitaire_ht||0)*parseInt(Z.quantite||1),0),fe=ee*(parseFloat(O.remise||0)/100),ge=ee-fe,xe=ge*(parseFloat(O.tva||20)/100),Ne=ge+xe;return{totalHT:ee.toFixed(2),tvaAmount:xe.toFixed(2),totalTTC:Ne.toFixed(2),montant_ht:ee,montant_ttc:Ne}},de=()=>{const{statut:ee,date_validite:fe,lignes:ge}=O,xe=new Date,Ne=fe?new Date(fe):null;let Ge=[];if(ee==="brouillon"?Ge.push("This quote is still in draft. Remember to finalize and send it to the client."):ee==="envoy"&&Ge.push("The quote has been sent to the client. Consider following up in a few days."),Ne&&Ne<xe)Ge.push("Warning! The validity date of this quote has expired. Remember to update it.");else if(Ne){const Z=Math.floor((Ne-xe)/864e5);Z<=7&&Ge.push(`The quote expires in ${Z} day(s). Consider reminding the client.`)}return ge.length===0?Ge.push("You haven't added any lines to this quote. Add products or services."):ge.some(Z=>Z.prix_unitaire_ht===0)&&Ge.push("Some items have a unit price of 0DT. Check the prices."),Ge.length===0&&Ge.push("Everything seems in order with this quote. Remember to send it to the client if not already done."),Ge},he=async()=>{const ee=le(),fe=I(),ge={...O,remise:parseFloat(O.remise)||0,tva:parseFloat(O.tva)||20,montant_ht:ee.montant_ht,montant_ttc:ee.montant_ttc,lignes:O.lignes.map(Z=>({id:Z.id,description:Z.description,prix_unitaire_ht:parseFloat(Z.prix_unitaire_ht)||0,quantite:parseInt(Z.quantite)||1,unite:Z.unite||"unit"}))},xe=z?`https://stage-slk6.onrender.com/api/devis/${z.id}`:"https://stage-slk6.onrender.com/api/devis";return await _e[z?"put":"post"](xe,ge,{headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}})},Ce=async ee=>{var fe,ge,xe,Ne,Ge;ee.preventDefault();try{if(A(null),W(),!O.numero)throw new Error("Quote number is required");if(!O.client_name)throw new Error("Client is required");if(O.lignes.some(ye=>!ye.description))throw new Error("All lines must have a description");const Z=de();y(Z),Z.length>0?b(!0):(fe=(await he()).data)!=null&&fe.success&&(await se(),m(!1),ce({show:!0,message:z?"Quote updated successfully":"Quote created successfully",type:"success"}))}catch(Z){ce({show:!0,message:((xe=(ge=Z.response)==null?void 0:ge.data)==null?void 0:xe.message)||Z.message,type:"error"}),console.error("Quote submission error:",Z),A(((Ge=(Ne=Z.response)==null?void 0:Ne.data)==null?void 0:Ge.message)||Z.message)}},ke=async()=>{var ee,fe,ge,xe;b(!1);try{const Ne=await he();if((ee=Ne.data)!=null&&ee.success)await se(),m(!1);else throw new Error(((fe=Ne.data)==null?void 0:fe.message)||"Error during submission")}catch(Ne){console.error("Quote submission error:",Ne),A(((xe=(ge=Ne.response)==null?void 0:ge.data)==null?void 0:xe.message)||Ne.message)}},et=async ee=>{var fe,ge;if(window.confirm("Confirm deletion?"))try{const xe=I();await _e.delete(`https://stage-slk6.onrender.com/api/devis/${ee}`,{headers:{Authorization:`Bearer ${xe}`}}),await se(),ce({show:!0,message:"Quote deleted successfully",type:"success"})}catch(xe){ce({show:!0,message:((ge=(fe=xe.response)==null?void 0:fe.data)==null?void 0:ge.message)||xe.message,type:"error"})}},At=ee=>{switch(ee.toLowerCase()){case"brouillon":return"draft";case"envoy":return"sent";case"accept":return"accepted";case"refus":return"rejected";case"pay":return"paid";default:return"draft"}},sa=async ee=>{try{const fe=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),ge=await _e.get(`https://stage-slk6.onrender.com/api/devis/${ee.id}/pdf`,{responseType:"blob",headers:{Authorization:`Bearer ${fe}`}}),xe=new Blob([ge.data],{type:"application/pdf"}),Ne=URL.createObjectURL(xe);q(Ne),D(ee),B(!0)}catch(fe){console.error("Error:",fe),St("Error loading PDF")}},qe=async ee=>{var fe,ge;try{if(ee.statut!=="accept"){ce({show:!0,message:'Seuls les devis avec le statut "accept" peuvent tre convertis en facture',type:"error"});return}if(!ee.client_name){ce({show:!0,message:"Le devis doit avoir un client associ avant de gnrer une facture",type:"error"});return}if(!window.confirm(`Convertir le devis ${ee.numero} en facture ?`))return;const Ne=I(),Ge=await _e.post("https://stage-slk6.onrender.com/api/factures",{devis_id:ee.id},{headers:{Authorization:`Bearer ${Ne}`}});Ge.data.success&&(ce({show:!0,message:`Facture ${Ge.data.data.numero} gnre avec succs  partir du devis ${ee.numero}`,type:"success"}),await se())}catch(xe){ce({show:!0,message:((ge=(fe=xe.response)==null?void 0:fe.data)==null?void 0:ge.message)||xe.message,type:"error"})}},vt=({message:ee,type:fe,onClose:ge})=>{j.useEffect(()=>{const Ne=setTimeout(()=>{ge()},5e3);return()=>clearTimeout(Ne)},[ge]);const xe=()=>Le.isValidElement(ee)?ee:n.jsx("span",{children:ee});return n.jsx("div",{className:`alert-popup alert-${fe}`,children:n.jsxs("div",{className:"alert-content",children:[n.jsx("div",{className:"alert-icon",children:fe==="success"?n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"currentColor"})}):n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",fill:"currentColor"})})}),n.jsx("div",{className:"alert-message",children:xe()}),n.jsx("button",{className:"alert-close",onClick:ge,children:n.jsx(fa,{})})]})})},[St,ce]=j.useState({show:!1,message:"",type:""}),{totalHT:ne,tvaAmount:Se,totalTTC:Be}=le();return c?n.jsx("div",{className:"loading-spinner",children:"Loading..."}):n.jsxs("div",{className:`devis-dashboard ${J?"dark-mode":""}`,children:[n.jsx("div",{className:"dashboard-header",children:n.jsxs("div",{className:"header-top",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[n.jsx("h1",{style:{margin:0},children:"My Quotes"}),n.jsx("div",{className:"action-bar",children:n.jsxs("button",{onClick:re,className:"primary-button",children:[n.jsx(Vi,{})," New quote"]})})]})}),n.jsx("div",{className:"devis-grid",children:o.map(ee=>n.jsxs("div",{className:`devis-card ${At(ee.statut)}`,children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(da,{className:"devis-icon"}),n.jsx("h3",{children:"Quote"})]}),n.jsx("span",{className:"status-badge",children:ee.statut})]}),n.jsx("div",{className:"card-client",children:ee.client_name||"----"}),n.jsxs("div",{className:"card-dates",children:[n.jsxs("div",{children:[n.jsx("small",{children:"Created on"}),n.jsx("p",{children:new Date(ee.date_creation).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("small",{children:"Validity"}),n.jsx("p",{children:ee.date_validite?new Date(ee.date_validite).toLocaleDateString():"N/A"})]})]}),n.jsx("div",{className:"card-amount",children:n.jsxs("div",{children:[n.jsx("small",{children:"Total TTC"}),n.jsxs("p",{children:[typeof ee.montant_ttc=="number"?ee.montant_ttc.toFixed(2):"0.00"," TND"]})]})}),n.jsxs("div",{className:"card-actions",children:[n.jsx("button",{onClick:()=>sa(ee),title:"View",children:n.jsx(Qc,{})}),ee.statut==="accept"&&n.jsx("button",{onClick:()=>qe(ee),title:"Generate invoice",children:n.jsx(da,{})}),n.jsx("button",{onClick:()=>N(ee),title:"Edit",children:n.jsx(gh,{})}),n.jsx("button",{onClick:()=>et(ee.id),title:"Delete",children:n.jsx(ms,{})})]})]},ee.id))}),p&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:z?"Edit Quote":"New Quote"}),n.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:n.jsx(fa,{})})]}),n.jsxs("form",{onSubmit:Ce,className:"devis-form",children:[Y&&n.jsx("div",{className:"form-error",children:Y}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-section",children:[n.jsx("h4",{children:"General information"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Number*"}),n.jsx("input",{type:"text",name:"numero",value:O.numero,onChange:H,required:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Creation date*"}),n.jsx("input",{type:"date",name:"date_creation",value:O.date_creation,onChange:H,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Validity date"}),n.jsx("input",{type:"date",name:"date_validite",value:O.date_validite,onChange:H})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Client*"}),n.jsx("input",{type:"text",name:"client_name",value:O.client_name,onChange:H,required:!0})]})]}),n.jsxs("div",{className:"form-section",children:[n.jsx("h4",{children:"Settings"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Discount (%)"}),n.jsx("input",{type:"number",name:"remise",min:"0",max:"100",step:"0.1",value:O.remise,onChange:H})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"VAT (%)"}),n.jsx("input",{type:"number",name:"tva",min:"0",max:"100",step:"0.1",value:O.tva,onChange:H})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{name:"statut",value:O.statut,onChange:H,children:[n.jsx("option",{value:"brouillon",children:"Draft"}),n.jsx("option",{value:"envoy",children:"Sent"}),n.jsx("option",{value:"accept",children:"Accepted"}),n.jsx("option",{value:"refus",children:"Rejected"}),n.jsx("option",{value:"pay",children:"Paid"})]})]})]})]})]}),n.jsxs("div",{className:"form-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Quote lines"}),n.jsxs("button",{type:"button",className:"add-line",onClick:Q,children:[n.jsx(Vi,{})," Add a line"]})]}),n.jsx("div",{className:"lignes-container",children:O.lignes.map((ee,fe)=>n.jsxs("div",{className:"ligne-devis",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description*"}),n.jsx("input",{type:"text",name:"description",value:ee.description,onChange:ge=>E(fe,ge),required:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Unit price HT*"}),n.jsx("input",{type:"number",name:"prix_unitaire_ht",min:"0",step:"0.01",value:ee.prix_unitaire_ht,onChange:ge=>E(fe,ge),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Quantity*"}),n.jsx("input",{type:"number",name:"quantite",min:"1",step:"1",value:ee.quantite,onChange:ge=>E(fe,ge),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Unit"}),n.jsxs("select",{name:"unite",value:ee.unite,onChange:ge=>E(fe,ge),children:[n.jsx("option",{value:"unit",children:"Unit"}),n.jsx("option",{value:"heure",children:"Hour"}),n.jsx("option",{value:"jour",children:"Day"}),n.jsx("option",{value:"mois",children:"Month"}),n.jsx("option",{value:"kg",children:"Kilogram"}),n.jsx("option",{value:"m",children:"Meter"})]})]}),O.lignes.length>1&&n.jsx("button",{type:"button",className:"remove-line",onClick:()=>oe(fe),children:n.jsx(ms,{})})]})]},fe))})]}),n.jsxs("div",{className:"totals-section",children:[n.jsxs("div",{className:"total-item",children:[n.jsx("span",{children:"Total HT:"}),n.jsxs("span",{children:[ne," TND"]})]}),n.jsxs("div",{className:"total-item",children:[n.jsxs("span",{children:["Discount (",O.remise,"%):"]}),n.jsxs("span",{children:["-",(ne*O.remise/100).toFixed(2)," TND"]})]}),n.jsxs("div",{className:"total-item",children:[n.jsxs("span",{children:["VAT (",O.tva,"%):"]}),n.jsxs("span",{children:[Se," TND"]})]}),n.jsxs("div",{className:"total-item total-ttc",children:[n.jsx("span",{children:"Total TTC:"}),n.jsxs("span",{children:[Be," TND"]})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>m(!1),children:"Cancel"}),n.jsx("button",{type:"submit",className:"submit-btn",children:z?"Update":"Create quote"})]})]})]})}),x&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content ai-suggestions",children:[n.jsx("h3",{children:"AI Suggestions"}),n.jsx("ul",{children:S.map((ee,fe)=>n.jsx("li",{children:ee},fe))}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{onClick:()=>b(!1),className:"cancel-btn",children:"Cancel"}),n.jsx("button",{onClick:ke,className:"submit-btn",children:"Confirm"})]})]})}),P&&n.jsx("div",{style:V.overlay,children:n.jsxs("div",{style:V.content,children:[n.jsxs("div",{style:V.header,children:[n.jsxs("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600"},children:["Quote ",U==null?void 0:U.numero]}),n.jsx("button",{onClick:()=>{B(!1),q(null)},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.25rem",color:"#64748b"},children:n.jsx(fa,{})})]}),n.jsx("div",{style:V.body,children:te?n.jsx("iframe",{src:te,title:`Quote ${U==null?void 0:U.numero}`,style:{width:"100%",height:"100%",border:"none"},frameBorder:"0"}):n.jsx("div",{style:V.loading,children:n.jsx("p",{children:"Loading PDF..."})})}),n.jsxs("div",{style:V.footer,children:[n.jsxs("button",{style:{...V.button,...V.secondaryButton},onClick:()=>window.print(),children:[n.jsx(jh,{})," Print"]}),n.jsxs("a",{href:te||"#",download:`quote-${U==null?void 0:U.numero}.pdf`,style:{...V.button,...V.primaryButton,textDecoration:"none"},onClick:ee=>!te&&ee.preventDefault(),children:[n.jsx(Vc,{})," Download"]})]})]})}),St.show&&n.jsx(vt,{message:St.message,type:St.type,onClose:()=>ce({...St,show:!1})})]})},ly=()=>{var ee,fe,ge,xe,Ne,Ge;const i=ma(),o=Lc(),[u,c]=j.useState([]),[f,p]=j.useState([]),[m,x]=j.useState(null),[b,S]=j.useState(!1),[y,z]=j.useState(!0),[M,P]=j.useState(null),[B,U]=j.useState(""),[D,J]=j.useState({currentPage:1,totalPages:1,itemsPerPage:6,totalItems:0}),[F,O]=j.useState([]),[w,te]=j.useState([]),[q,Y]=j.useState(!1),[A,ae]=j.useState(!1),[V,I]=j.useState(null),X=j.useRef(null),se=Hc(),{darkMode:W}=se||{};if(!se||!se.userData)return n.jsxs("div",{className:`loading-container ${W?"dark":""}`,children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading user data..."})]});const{userData:re}=se,N=async(Z=1,ye=6,ie="")=>{var We,Oe,Te,$e,Ve;try{const it=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!it){i("/");return}z(!0),P(null);let yt=`/api/factures?page=${Z}&limit=${ye}`;ie&&(yt+=`&client=${encodeURIComponent(ie)}`);const ue=await _e.get(yt,{headers:{Authorization:`Bearer ${it}`}});if((We=ue.data)!=null&&We.success){const we=ue.data.data.factures,Dt=ue.data.data.pagination;c(we),p(we),J(nt=>({...nt,currentPage:Dt.currentPage,totalPages:Dt.totalPages,totalItems:Dt.totalItems}))}else throw new Error(((Oe=ue.data)==null?void 0:Oe.message)||"Invalid data received from server")}catch(it){console.error("Error:",it),P((($e=(Te=it.response)==null?void 0:Te.data)==null?void 0:$e.message)||it.message||"Error loading invoices"),((Ve=it.response)==null?void 0:Ve.status)===401&&(localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),i("/"))}finally{z(!1)}},H=async Z=>{Z.preventDefault(),await N(1,D.itemsPerPage,B)},E=Z=>{U(Z.target.value),Z.target.value.trim()||N(1,D.itemsPerPage)},Q=Z=>{N(Z,D.itemsPerPage,B)},oe=async Z=>{var ye,ie,We,Oe;try{const Te=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!Te){i("/");return}const $e=await _e.get(`/api/factures/${Z}`,{headers:{Authorization:`Bearer ${Te}`}});if((ye=$e.data)!=null&&ye.success){const Ve=$e.data.data;x(Ve),S(!0),sa(Ve)}else throw new Error(((ie=$e.data)==null?void 0:ie.message)||"Invalid data received from server")}catch(Te){console.error("Error:",Te),P(((Oe=(We=Te.response)==null?void 0:We.data)==null?void 0:Oe.message)||Te.message||"Error loading invoice details")}},le=async Z=>{var ye,ie,We,Oe;try{const Te=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!Te){i("/");return}z(!0);const $e=await _e.delete(`/api/factures/${Z}`,{headers:{Authorization:`Bearer ${Te}`}});if((ye=$e.data)!=null&&ye.success)await N(D.currentPage,D.itemsPerPage,B),ae(!1),I(null),b&&(m==null?void 0:m.id)===Z&&ne(),P(null),alert("Facture supprime avec succs");else throw new Error(((ie=$e.data)==null?void 0:ie.message)||"Erreur lors de la suppression")}catch(Te){console.error("Error deleting invoice:",Te),P(((Oe=(We=Te.response)==null?void 0:We.data)==null?void 0:Oe.message)||Te.message||"Error deleting invoice")}finally{z(!1)}},de=Z=>{I(Z),ae(!0)},he=()=>{ae(!1),I(null)},Ce=async Z=>{var ye,ie,We;try{const Oe=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(!Oe){i("/");return}z(!0);try{const Te=await _e.get(`/api/factures/${Z}/pdf`,{headers:{Authorization:`Bearer ${Oe}`},responseType:"blob"});if(Te.headers["content-type"]==="application/pdf"){const $e=new Blob([Te.data],{type:"application/pdf"}),Ve=window.URL.createObjectURL($e),it=document.createElement("a");it.href=Ve;const yt=u.find(we=>we.id===Z),ue=`facture-${(yt==null?void 0:yt.numero)||Z}.pdf`;it.setAttribute("download",ue),document.body.appendChild(it),it.click(),it.remove(),window.URL.revokeObjectURL(Ve);return}}catch{console.log("Specific PDF endpoint not available, client-side generation...")}try{const Te=await _e.get(`/api/factures/${Z}`,{headers:{Authorization:`Bearer ${Oe}`}});if((ye=Te.data)!=null&&ye.success){const $e=Te.data.data;await ke($e,Z)}else throw new Error("Unable to retrieve invoice data")}catch(Te){console.error("Error retrieving invoice data:",Te),P("Error retrieving invoice data")}}catch(Oe){console.error("Download error:",Oe),P(((We=(ie=Oe.response)==null?void 0:ie.data)==null?void 0:We.message)||Oe.message||"Error downloading PDF")}finally{z(!1)}},ke=async(Z,ye)=>{var $e,Ve,it;const ie=Z,We=ie.montant_ht||(($e=ie.totals)==null?void 0:$e.montantHT)||(ie.lignesFacture?ie.lignesFacture.reduce((yt,ue)=>yt+(ue.prix_unitaire_ht||0)*(ue.quantite||0),0):0),Oe=ie.montant_tva||((Ve=ie.totals)==null?void 0:Ve.tva)||0,Te=ie.montant_ttc||((it=ie.totals)==null?void 0:it.montantTTC)||We+Oe;try{const{jsPDF:yt}=await yx(async()=>{const{jsPDF:nt}=await import("./pdf-BS5EpNLD.js").then(Pa=>Pa.j);return{jsPDF:nt}},__vite__mapDeps([0,1,2])),ue=new yt;ue.setFontSize(20),ue.setTextColor(40,40,40),ue.text("INVOICE",105,20,{align:"center"}),ue.setFontSize(14),ue.text(`No. ${ie.numero||ye}`,105,30,{align:"center"}),ue.setFontSize(10),ue.text(`Issue date: ${vt(ie.date_emission)}`,105,40,{align:"center"}),ue.setFontSize(12),ue.setTextColor(60,60,60),ue.text("ISSUER",20,60),ue.setFontSize(10),ie.entreprise&&(ue.text(ie.entreprise.nom||"Not specified",20,70),ue.text(ie.entreprise.adresse||"",20,80),ue.text(`Tel: ${ie.entreprise.telephone||""}`,20,90),ue.text(`Email: ${ie.entreprise.email||""}`,20,100)),ue.setFontSize(12),ue.text("CLIENT",140,60),ue.setFontSize(10),ue.text(ie.client_name||"Not specified",140,70),ue.setDrawColor(200,200,200),ue.line(20,110,190,110),ue.setFontSize(12),ue.text("INVOICE DETAILS",20,125);let we=140;if(ue.setFillColor(44,62,80),ue.setTextColor(255,255,255),ue.setFont(void 0,"bold"),ue.rect(20,we,170,10,"F"),ue.text("Description",25,we+7),ue.text("Quantity",100,we+7),ue.text("Price HT",130,we+7),ue.text("Total HT",160,we+7),we+=12,ue.setTextColor(0,0,0),ue.setFont(void 0,"normal"),ie.lignesFacture&&ie.lignesFacture.length>0?ie.lignesFacture.forEach((nt,Pa)=>{we>260&&(ue.addPage(),we=20);const en=nt.description||"Item without description",er=`${nt.quantite||0} ${nt.unite||"unit"}`,jl=qe(nt.prix_unitaire_ht||0),Nl=qe((nt.prix_unitaire_ht||0)*(nt.quantite||0));let tn=ue.splitTextToSize(en,70);ue.text(tn,25,we+4),ue.text(er,100,we+4),ue.text(jl,130,we+4),ue.text(Nl,160,we+4),ue.setDrawColor(200,200,200),ue.line(20,we+8,190,we+8),we+=12}):(ue.text("No items",25,we+4),we+=12),ue.setFontSize(10),ue.setTextColor(60,60,60),ue.text("Total HT:",130,we+10),ue.text(qe(We),160,we+10,{align:"right"}),ue.text("VAT:",130,we+20),ue.text(qe(Oe),160,we+20,{align:"right"}),ue.setFontSize(11),ue.setFont(void 0,"bold"),ue.text("Total TTC:",130,we+30),ue.text(qe(Te),160,we+30,{align:"right"}),ue.setFont(void 0,"normal"),ue.setFontSize(9),ue.text(`Status: ${ie.statut_paiement||"Unknown"}`,20,we+50),ie.date_echeance&&ue.text(`Due date: ${vt(ie.date_echeance)}`,20,we+60),ie.notes){const nt=ue.splitTextToSize(`Notes: ${ie.notes}`,170);ue.text(nt,20,we+70)}ue.setFontSize(8),ue.setTextColor(100,100,100),ue.text(`Invoice generated on ${new Date().toLocaleDateString("fr-FR")} | Invoice App`,105,280,{align:"center"});const Dt=`facture-${ie.numero||ye}.pdf`;ue.save(Dt)}catch(yt){console.error("Error generating PDF:",yt),et(Z,ye)}},et=(Z,ye)=>{var it,yt,ue;const ie=Z,We=ie.montant_ht||((it=ie.totals)==null?void 0:it.montantHT)||(ie.lignesFacture?ie.lignesFacture.reduce((we,Dt)=>we+(Dt.prix_unitaire_ht||0)*(Dt.quantite||0),0):0),Oe=ie.montant_tva||((yt=ie.totals)==null?void 0:yt.tva)||0,Te=ie.montant_ttc||((ue=ie.totals)==null?void 0:ue.montantTTC)||We+Oe,$e=`
      <!DOCTYPE html>
      <html lang="fr">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Invoice ${ie.numero||ye}</title>
        <style>
          body { 
            font-family: 'Arial', sans-serif; 
            margin: 0;
            padding: 20px;
            color: #333;
            line-height: 1.6;
          }
          .invoice-container {
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid #ddd;
            padding: 30px;
            background: white;
          }
          .header { 
            text-align: center; 
            margin-bottom: 30px;
            border-bottom: 2px solid #2c3e50;
            padding-bottom: 20px;
          }
          .header h1 { 
            color: #2c3e50; 
            margin: 0;
            font-size: 28px;
          }
          .company-info {
            margin-bottom: 30px;
          }
          .section { 
            margin-bottom: 25px; 
          }
          .section-title { 
            font-weight: bold; 
            border-bottom: 1px solid #ddd; 
            padding-bottom: 8px; 
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 18px;
          }
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
          }
          .info-item {
            margin-bottom: 10px;
          }
          .info-label {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
            font-size: 12px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 25px;
            font-size: 14px;
          }
          th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
          }
          th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
          }
          .total-row {
            font-weight: bold;
            background-color: #f8f9fa;
            font-size: 16px;
          }
          .text-right {
            text-align: right;
          }
          .amounts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
          }
          .amount-item {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
          }
          .amount-label {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
          }
          .total {
            background-color: #e8f5e8;
            border-color: #4caf50;
          }
          .paid {
            color: #4caf50;
          }
          .remaining {
            color: #f44336;
          }
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #777;
            font-size: 12px;
          }
          @media print {
            body {
              padding: 0;
              margin: 0;
            }
            .invoice-container {
              border: none;
              padding: 0;
            }
            .no-print {
              display: none !important;
            }
          }
        </style>
      </head>
      <body>
        <div class="invoice-container">
          <div class="header">
            <h1>INVOICE</h1>
            <h2>${ie.numero||ye}</h2>
            <p>Issue date: ${vt(ie.date_emission)}</p>
          </div>
          
          <div class="info-grid">
            <div class="section">
              <div class="section-title">Issuer</div>
              ${ie.entreprise?`
                <div class="info-item">
                  <div class="info-label">Company:</div>
                  <div>${ie.entreprise.nom||"Not specified"}</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Address:</div>
                  <div>${ie.entreprise.adresse||"Not specified"}</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Phone:</div>
                  <div>${ie.entreprise.telephone||"Not specified"}</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Email:</div>
                  <div>${ie.entreprise.email||"Not specified"}</div>
                </div>
              `:""}
            </div>
            
            <div class="section">
              <div class="section-title">Client</div>
              <div class="info-item">
                <div class="info-label">Name:</div>
                <div>${ie.client_name||"Not specified"}</div>
              </div>
            </div>
          </div>
          
          <div class="section">
            <div class="section-title">Invoice Details</div>
            <table>
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Quantity</th>
                  <th>Unit price HT  </th>
                  <th>Total HT  </th>
                </tr>
              </thead>
              <tbody>
                ${ie.lignesFacture?ie.lignesFacture.map((we,Dt)=>{const nt=(we.prix_unitaire_ht||0)*(we.quantite||0);return`
                    <tr>
                      <td>${we.description||"Item without description"}</td>
                      <td>${we.quantite||0} ${we.unite||"unit"}</td>
                      <td>${qe(we.prix_unitaire_ht||0)}</td>
                      <td>${qe(nt)}</td>
                    </tr>
                  `}).join(""):'<tr><td colspan="4">No items</td></tr>'}
              </tbody>
              <tfoot>
                <tr class="total-row">
                  <td colspan="3" style="text-align: right; font-weight: bold;">Total HT:  </td>
                  <td>${qe(We)}</td>
                </tr>
                <tr class="total-row">
                  <td colspan="3" style="text-align: right; font-weight: bold;">VAT:   </td>
                  <td>${qe(Oe)}</td>
                </tr>
                <tr class="total-row">
                  <td colspan="3" style="text-align: right; font-weight: bold;">Total TTC:  </td>
                  <td>${qe(Te)}</td>
                </tr>
              </tfoot>
            </table>
          </div>
          
          <div class="section">
            <div class="section-title">Payment Status</div>
            <p><strong>Status:</strong> ${ie.statut_paiement||"Unknown"}</p>
            ${ie.date_paiement?`<p><strong>Payment date:</strong> ${vt(ie.date_paiement)}</p>`:""}
          </div>
          
          ${ie.date_echeance?`
            <div class="section">
              <div class="section-title">Due Date</div>
              <p>Due date: ${vt(ie.date_echeance)}</p>
            </div>
          `:""}
          
          ${ie.notes?`
            <div class="section">
              <div class="section-title">Notes</div>
              <p>${ie.notes}</p>
            </div>
          `:""}
          
          <div class="footer">
            <p>Invoice generated on ${new Date().toLocaleDateString("fr-FR")} | Invoice App</p>
          </div>
        </div>
      </body>
      </html>
    `,Ve=window.open("","_blank");Ve.document.write($e),Ve.document.close(),Ve.onload=()=>{setTimeout(()=>{Ve.print(),setTimeout(()=>{Ve.close()},500)},500)}},At=Z=>{var Oe;const ye=Z.montant_ttc||((Oe=Z.totals)==null?void 0:Oe.montantTTC)||0,ie=Z.remise||0,We=ye*(ie/100);return Math.max(0,ye-We)},sa=Z=>{const ye=[];if(Z.statut_paiement==="impay"){const ie=Math.floor((new Date-new Date(Z.date_echeance))/864e5);ie>30&&ye.push({type:"warning",message:`Invoice unpaid for ${ie} days. Consider urgent reminder.`,icon:n.jsx(pc,{})})}if(Z.statut_paiement==="pay"&&Z.date_paiement){const ie=Math.floor((new Date(Z.date_paiement)-new Date(Z.date_emission))/864e5);ie<=15&&ye.push({type:"success",message:`Excellent payment delay: ${ie} days.`,icon:n.jsx(Qm,{})})}Z.montant_ttc>1e4&&ye.push({type:"info",message:"Important invoice. Check payment conditions.",icon:n.jsx(Mi,{})}),Z.statut_paiement==="brouillon"&&ye.push({type:"info",message:"Invoice in draft. Finalize and send to client.",icon:n.jsx(gc,{})}),O(ye)};j.useEffect(()=>{if(b&&X.current){const Z=new IntersectionObserver(ie=>{ie.forEach(We=>{if(We.isIntersecting){const Oe=We.target.getAttribute("data-section");te(Te=>[...Te,Oe])}})},{threshold:.1});return X.current.querySelectorAll(".detail-section").forEach(ie=>{ie.getAttribute("data-section"),Z.observe(ie)}),()=>Z.disconnect()}},[b]),j.useEffect(()=>{const Z=()=>{X.current&&Y(X.current.scrollTop>300)};return X.current&&X.current.addEventListener("scroll",Z),()=>{X.current&&X.current.removeEventListener("scroll",Z)}},[b]),j.useEffect(()=>{N(1,6)},[o]);const qe=Z=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"TND",minimumFractionDigits:3}).format(Z||0),vt=Z=>{if(!Z)return"Not specified";const ye={year:"numeric",month:"short",day:"numeric"};return new Date(Z).toLocaleDateString("fr-FR",ye)},St=Z=>{if(!Z)return"status-default";switch(Z.toLowerCase()){case"pay":case"payee":return"status-paid";case"impay":case"impayee":return"status-unpaid";case"partiel":return"status-partial";case"brouillon":return"status-draft";default:return"status-default"}},ce=Z=>{if(!Z)return n.jsx(Mi,{});switch(Z.toLowerCase()){case"pay":case"payee":return n.jsx(Qm,{});case"impay":case"impayee":return n.jsx(pc,{});case"partiel":return n.jsx(Gm,{});case"brouillon":return n.jsx(gc,{});default:return n.jsx(Mi,{})}},ne=()=>{S(!1),x(null),O([]),te([])},Se=()=>{X.current&&X.current.scrollTo({top:0,behavior:"smooth"})},Be=Z=>{if(X.current){const ye=X.current.querySelector(`[data-section="${Z}"]`);ye&&ye.scrollIntoView({behavior:"smooth"})}};return y?n.jsxs("div",{className:`loading-container ${W?"dark":""}`,children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading invoices..."})]}):M?n.jsx("div",{className:`error-container ${W?"dark":""}`,children:n.jsxs("div",{className:"error-alert",children:[n.jsxs("p",{children:["Error: ",M]}),n.jsxs("button",{className:`btn-retry ${W?"dark":""}`,onClick:()=>N(1,6),children:[n.jsx(Fm,{})," Try again"]})]})}):n.jsxs("div",{className:`facture-container ${W?"dark":""}`,children:[n.jsxs("div",{className:"facture-header-container",children:[n.jsx("h2",{children:"Invoice Management"}),n.jsx("div",{className:`facture-filters ${W?"dark":""}`,children:n.jsxs("form",{className:"search-box",onSubmit:H,children:[n.jsxs("div",{className:"search-input-wrapper",children:[n.jsx(Gc,{className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by client, invoice number...",value:B,onChange:E,className:W?"dark":""})]}),n.jsx("button",{type:"submit",className:`btn-search ${W?"dark":""}`,children:"Search"})]})})]}),f.length===0?n.jsxs("div",{className:`no-data ${W?"dark":""}`,children:[n.jsx("p",{children:B?"No invoices found for your search":"No invoices found"}),B&&n.jsx("button",{className:`btn-clear-search ${W?"dark":"light"}`,onClick:()=>{U(""),N(1,6)},children:"Clear search"}),n.jsxs("button",{className:`btn-refresh ${W?"dark":"light"}`,onClick:()=>N(1,6),children:[n.jsx(Fm,{})," Refresh"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"facture-grid",children:f.map(Z=>{var ye;return n.jsxs("div",{className:`facture-card ${W?"dark":""}`,children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("div",{className:"card-title-section",children:[n.jsx(da,{className:"card-icon"}),n.jsx("h3",{children:Z.numero||Z.id})]}),n.jsxs("span",{className:`status-badge ${St(Z.statut_paiement)} ${W?"dark":""}`,children:[ce(Z.statut_paiement),Z.statut_paiement||"Unknown"]})]}),n.jsxs("div",{className:"card-client",children:[n.jsx(Nn,{className:"client-icon"}),n.jsx("p",{children:Z.client_name||"Client not specified"})]}),n.jsxs("div",{className:"card-dates",children:[n.jsxs("div",{className:"date-item",children:[n.jsx(Ac,{className:"date-icon"}),n.jsxs("div",{children:[n.jsx("small",{children:"Issue"}),n.jsx("p",{children:vt(Z.date_emission)})]})]}),n.jsxs("div",{className:"date-item",children:[n.jsx(Xm,{className:"amount-icon"}),n.jsxs("div",{children:[n.jsx("small",{children:"Amount TTC"}),n.jsx("p",{children:qe(At(Z))}),Z.remise>0&&n.jsxs("small",{className:"discount-text",children:[n.jsx("s",{children:qe(Z.montant_ttc||((ye=Z.totals)==null?void 0:ye.montantTTC)||0)}),n.jsxs("span",{className:"discount-badge",children:["-",Z.remise,"%"]})]})]})]})]}),n.jsxs("div",{className:"card-actions",children:[n.jsx("button",{className:`btn-icon btn-view ${W?"dark":""}`,onClick:()=>oe(Z.id),title:"View details",children:n.jsx(Qc,{className:"icon"})}),n.jsx("button",{className:`btn-icon btn-pdf ${W?"dark":""}`,onClick:()=>Ce(Z.id),title:"Download PDF",children:n.jsx(Yx,{className:"icon"})}),n.jsx("button",{className:`btn-icon btn-delete ${W?"dark":""}`,onClick:()=>de(Z),title:"Delete invoice",children:n.jsx(ms,{className:"icon"})})]})]},Z.id)})}),n.jsxs("div",{className:`pagination-container ${W?"dark":""}`,children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",f.length," of ",D.totalItems," invoices",B&&` for "${B}"`]}),n.jsxs("div",{className:"pagination-controls",children:[n.jsx("button",{className:`btn-pagination ${W?"dark":""}`,disabled:D.currentPage===1,onClick:()=>Q(D.currentPage-1),"aria-label":"Previous page",children:n.jsx(ph,{})}),n.jsx("div",{className:"page-numbers",children:Array.from({length:Math.min(5,D.totalPages)},(Z,ye)=>{let ie;return D.totalPages<=5||D.currentPage<=3?ie=ye+1:D.currentPage>=D.totalPages-2?ie=D.totalPages-4+ye:ie=D.currentPage-2+ye,n.jsx("button",{className:`btn-page ${D.currentPage===ie?"active":""} ${W?"dark":""}`,onClick:()=>Q(ie),children:ie},ie)})}),n.jsx("button",{className:`btn-pagination ${W?"dark":""}`,disabled:D.currentPage===D.totalPages,onClick:()=>Q(D.currentPage+1),"aria-label":"Next page",children:n.jsx(Yc,{})})]})]})]}),A&&V&&n.jsx("div",{className:`modal-overlay ${W?"dark":""}`,children:n.jsxs("div",{className:`modal-content delete-confirm ${W?"dark":""}`,children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"Confirm Deletion"}),n.jsx("button",{className:"modal-close",onClick:he,children:n.jsx(fa,{})})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"delete-warning",children:[n.jsx(pc,{className:"warning-icon"}),n.jsxs("p",{children:["Are you sure you want to delete invoice ",n.jsx("strong",{children:V.numero||V.id}),"?"]}),n.jsx("p",{className:"warning-text",children:"This action cannot be undone. All associated data will be permanently deleted."}),n.jsxs("div",{className:"invoice-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Client:"})," ",V.client_name||"Unknown"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," ",qe(V.montant_ttc||((ee=V.totals)==null?void 0:ee.montantTTC))]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:St(V.statut_paiement),children:V.statut_paiement||"Unknown"})]})]})]})}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:`btn-cancel ${W?"dark":""}`,onClick:he,children:"Cancel"}),n.jsx("button",{className:`btn-delete-confirm ${W?"dark":""}`,onClick:()=>le(V.id),disabled:y,children:y?"Deleting...":"Delete Invoice"})]})]})}),b&&m&&n.jsxs("div",{className:`modal-overlay ${W?"dark":""}`,children:[n.jsxs("div",{className:`modal-content ai-enhanced ${W?"dark":""}`,children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-title-section",children:[n.jsx(da,{className:"modal-title-icon"}),n.jsxs("div",{children:[n.jsxs("h3",{children:["Invoice #",m.numero||m.id]}),n.jsx("p",{className:"modal-subtitle",children:"Complete details"})]})]}),n.jsxs("div",{className:"quick-nav",children:[n.jsx("button",{onClick:()=>Be("info"),children:"Information"}),n.jsx("button",{onClick:()=>Be("finance"),children:"Finances"}),m.lignesFacture&&m.lignesFacture.length>0&&n.jsx("button",{onClick:()=>Be("articles"),children:"Items"}),m.entreprise&&n.jsx("button",{onClick:()=>Be("entreprise"),children:"Company"}),m.notes&&n.jsx("button",{onClick:()=>Be("notes"),children:"Notes"}),n.jsx("button",{onClick:()=>Be("tracking"),children:"Tracking"})]}),n.jsx("button",{className:"modal-close",onClick:ne,children:n.jsx(fa,{})})]}),n.jsxs("div",{className:"modal-body",ref:X,children:[F.length>0&&n.jsx("div",{className:`detail-section ${w.includes("ai")?"visible":""}`,"data-section":"ai",children:n.jsx("div",{className:"ai-insights-section",children:n.jsx("div",{className:"insights-grid",children:F.map((Z,ye)=>n.jsxs("div",{className:`insight-card insight-${Z.type}`,children:[n.jsx("div",{className:"insight-icon",children:Z.icon}),n.jsx("div",{className:"insight-content",children:n.jsx("p",{children:Z.message})})]},ye))})})}),n.jsxs("div",{className:"facture-details-grid",children:[n.jsxs("div",{className:`detail-section info-section ${w.includes("info")?"visible":""}`,"data-section":"info",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Mi,{className:"section-icon"}),n.jsx("h4",{children:"General Information"})]}),n.jsxs("div",{className:"detail-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsxs("div",{className:"detail-label",children:[n.jsx(Nn,{}),n.jsx("span",{children:"Client"})]}),n.jsx("div",{className:"detail-value",children:m.client_name||"Not specified"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsxs("div",{className:"detail-label",children:[n.jsx(Ac,{}),n.jsx("span",{children:"Issue date"})]}),n.jsx("div",{className:"detail-value",children:vt(m.date_emission)})]}),n.jsxs("div",{className:"detail-item",children:[n.jsxs("div",{className:"detail-label",children:[ce(m.statut_paiement),n.jsx("span",{children:"Status"})]}),n.jsx("div",{className:`detail-value status-indicator ${St(m.statut_paiement)}`,children:m.statut_paiement||"Unknown"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsxs("div",{className:"detail-label",children:[n.jsx(da,{}),n.jsx("span",{children:"Reference"})]}),n.jsx("div",{className:"detail-value",children:m.numero||m.id})]})]})]}),n.jsxs("div",{className:`detail-section amount-section ${w.includes("finance")?"visible":""}`,"data-section":"finance",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Xm,{className:"section-icon"}),n.jsx("h4",{children:"Financial Details"})]}),n.jsxs("div",{className:"amount-grid",children:[n.jsxs("div",{className:"amount-item",children:[n.jsx("div",{className:"amount-label",children:"Amount HT"}),n.jsx("div",{className:"amount-value",children:qe(m.montant_ht||((fe=m.totals)==null?void 0:fe.montantHT))})]}),n.jsxs("div",{className:"amount-item",children:[n.jsx("div",{className:"amount-label",children:"VAT"}),n.jsx("div",{className:"amount-value",children:qe(m.montant_tva||((ge=m.totals)==null?void 0:ge.tva))})]}),n.jsxs("div",{className:"amount-item",children:[n.jsx("div",{className:"amount-label",children:"Discount"}),n.jsx("div",{className:"amount-value",children:qe(m.remise||0)})]}),n.jsxs("div",{className:"amount-item total",children:[n.jsx("div",{className:"amount-label",children:"Amount TTC"}),n.jsx("div",{className:"amount-value",children:qe(m.montant_ttc||((xe=m.totals)==null?void 0:xe.montantTTC))})]}),n.jsxs("div",{className:"amount-item",children:[n.jsx("div",{className:"amount-label",children:"Remaining to pay"}),n.jsx("div",{className:"amount-value remaining",children:qe((m.montant_ttc||((Ne=m.totals)==null?void 0:Ne.montantTTC)||0)-(m.montant_paye||0))})]})]})]}),m.lignesFacture&&m.lignesFacture.length>0&&n.jsxs("div",{className:`detail-section articles-section ${w.includes("articles")?"visible":""}`,"data-section":"articles",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(da,{className:"section-icon"}),n.jsxs("h4",{children:["Items (",m.lignesFacture.length,")"]})]}),n.jsxs("div",{className:"articles-table",children:[n.jsxs("div",{className:"table-header",children:[n.jsx("div",{className:"table-col description",children:"Description"}),n.jsx("div",{className:"table-col quantity",children:"Quantity"}),n.jsx("div",{className:"table-col price",children:"Unit price HT"}),n.jsx("div",{className:"table-col tva",children:"VAT"}),n.jsx("div",{className:"table-col total",children:"Total TTC"})]}),m.lignesFacture.map((Z,ye)=>{const ie=(Z.prix_unitaire_ht||0)*(Z.quantite||0),We=ie*((Z.taux_tva||19)/100),Oe=ie+We;return n.jsxs("div",{className:"table-row",children:[n.jsx("div",{className:"table-col description",children:Z.description||"Item without description"}),n.jsxs("div",{className:"table-col quantity",children:[Z.quantite||0," ",Z.unite||"unit"]}),n.jsx("div",{className:"table-col price",children:qe(Z.prix_unitaire_ht||0)}),n.jsxs("div",{className:"table-col tva",children:[Z.taux_tva||19,"%"]}),n.jsx("div",{className:"table-col total",children:qe(Oe)})]},ye)}),n.jsxs("div",{className:"table-row total-row",children:[n.jsx("div",{className:"table-col description",colSpan:"4",children:"Total general"}),n.jsx("div",{className:"table-col total",children:qe(m.montant_ttc||((Ge=m.totals)==null?void 0:Ge.montantTTC))})]})]})]}),m.entreprise&&n.jsxs("div",{className:`detail-section entreprise-section ${w.includes("entreprise")?"visible":""}`,"data-section":"entreprise",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Nn,{className:"section-icon"}),n.jsx("h4",{children:"Company Information"})]}),n.jsxs("div",{className:"detail-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("div",{className:"detail-label",children:"Name"}),n.jsx("div",{className:"detail-value",children:m.entreprise.nom})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("div",{className:"detail-label",children:"Address"}),n.jsx("div",{className:"detail-value",children:m.entreprise.adresse})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("div",{className:"detail-label",children:"Phone"}),n.jsx("div",{className:"detail-value",children:m.entreprise.telephone})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("div",{className:"detail-label",children:"Email"}),n.jsx("div",{className:"detail-value",children:m.entreprise.email})]})]})]}),m.notes&&n.jsxs("div",{className:`detail-section notes-section ${w.includes("notes")?"visible":""}`,"data-section":"notes",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(gc,{className:"section-icon"}),n.jsx("h4",{children:"Notes & Comments"})]}),n.jsx("div",{className:"notes-content",children:n.jsx("p",{children:m.notes})})]}),n.jsxs("div",{className:`detail-section tracking-section ${w.includes("tracking")?"visible":""}`,"data-section":"tracking",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Gm,{className:"section-icon"}),n.jsx("h4",{children:"Invoice Tracking"})]}),n.jsxs("div",{className:"tracking-grid",children:[n.jsxs("div",{className:"tracking-item",children:[n.jsx("div",{className:"tracking-label",children:"Created on"}),n.jsx("div",{className:"tracking-value",children:vt(m.createdAt)})]}),n.jsxs("div",{className:"tracking-item",children:[n.jsx("div",{className:"tracking-label",children:"Modified on"}),n.jsx("div",{className:"tracking-value",children:vt(m.updatedAt)})]})]})]})]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsxs("button",{className:`btn-download-pdf ${W?"dark":""}`,onClick:()=>Ce(m.id),children:[n.jsx(Vc,{})," Download PDF"]}),n.jsxs("button",{className:`btn-print ${W?"dark":""}`,children:[n.jsx(jh,{})," Print"]}),n.jsxs("button",{className:`btn-delete ${W?"dark":""}`,onClick:()=>de(m),children:[n.jsx(ms,{})," Delete"]})]})]}),n.jsx("div",{className:`back-to-top ${q?"visible":""} ${W?"dark":""}`,onClick:Se,title:"Back to top",children:n.jsx(Hx,{size:24})})]})]})},iy=()=>{const[i,o]=j.useState(null),[u,c]=j.useState(!0),[f,p]=j.useState(null),[m,x]=j.useState(null),[b,S]=j.useState([]),[y,z]=j.useState("overview"),[M,P]=j.useState(null),B=ma();j.useEffect(()=>((async()=>{var A,ae,V,I;try{const X=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),se=JSON.parse(localStorage.getItem("userData")||sessionStorage.getItem("userData")||"null");if(!X||!se||se.role!=="comptable"){console.warn("[DASHB_COMP] Redirecting to /home - Invalid authentication"),B("/");return}const W=await _e.get("https://stage-slk6.onrender.com/api/dashboard/comptable",{headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}});if(!W.data.success)throw new Error(W.data.message||"Error loading data");o(W.data.data);const re=[...new Set(W.data.data.chartData.map(N=>N.entreprise))];S(re),p(null)}catch(X){console.error("[DASHB_COMP] Error:",X),p(((ae=(A=X.response)==null?void 0:A.data)==null?void 0:ae.message)||X.message),(((V=X.response)==null?void 0:V.status)===401||((I=X.response)==null?void 0:I.status)===403)&&(localStorage.removeItem("authToken"),localStorage.removeItem("userData"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("userData"),B("/"))}finally{c(!1)}})(),()=>{console.log("[DASHB_COMP] Cleaning up effect")}),[B]);const U=async Y=>{var A,ae;x(Y),z("details");try{const V=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),I=await _e.get(`https://stage-slk6.onrender.com/api/dashboard/comptable/entreprise/${encodeURIComponent(Y)}`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(I.data.success)P(I.data.data);else throw new Error(I.data.message||"Error loading company details")}catch(V){console.error("[DASHB_COMP] Error loading company details:",V),p(((ae=(A=V.response)==null?void 0:A.data)==null?void 0:ae.message)||V.message)}},D=()=>{z("overview"),x(null),P(null)},J=Y=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"TND",minimumFractionDigits:3}).format(Y||0),F=Y=>new Intl.NumberFormat("fr-FR").format(Y||0),O=Y=>new Intl.NumberFormat("fr-FR",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(Y||0),w=m&&i?{...i,chartData:i.chartData.filter(Y=>Y.entreprise===m),factures:i.factures.filter(Y=>{var A;return((A=Y.entrepriseFacturee)==null?void 0:A.nom)===m}),totals:{totalFactures:i.factures.filter(Y=>{var A;return((A=Y.entrepriseFacturee)==null?void 0:A.nom)===m}).length,totalTTC:i.factures.filter(Y=>{var A;return((A=Y.entrepriseFacturee)==null?void 0:A.nom)===m}).reduce((Y,A)=>Y+(A.montant_ttc||0),0),totalHT:i.factures.filter(Y=>{var A;return((A=Y.entrepriseFacturee)==null?void 0:A.nom)===m}).reduce((Y,A)=>Y+(A.montant_ht||0),0)}}:i;if(u)return n.jsx("div",{className:"dashboard-comptable",children:n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"spinner",children:""}),n.jsx("p",{children:"Loading..."})]})});if(f)return n.jsx("div",{className:"dashboard-comptable",children:n.jsxs("div",{className:"error-container",children:[n.jsx("p",{className:"error-message",children:f}),n.jsx("button",{className:"error-button",onClick:()=>window.location.reload(),children:"Try Again"})]})});if(!i)return n.jsx("div",{className:"dashboard-comptable",children:n.jsxs("div",{className:"empty-state",children:[n.jsx("p",{children:"No data available"}),n.jsx("button",{className:"error-button",onClick:()=>window.location.reload(),children:"Refresh"})]})});const te=()=>{if(!M)return null;const{entreprise:Y,stats:A,recent:ae,analytics:V}=M,I=[{name:"Accepted",value:A.devisAcceptes||0,color:"#10b981"},{name:"Rejected",value:A.devisRefuses||0,color:"#ef4444"},{name:"Pending",value:A.devisEnAttente||0,color:"#f59e0b"},{name:"Drafts",value:A.devisBrouillon||0,color:"#6b7280"}],X=(V==null?void 0:V.weeklyRevenue)||[],se=A.revenueGrowth||0,W=se>=0,re=X.find(le=>le.isCurrentWeek),N=(re==null?void 0:re.revenue)||0,H=(re==null?void 0:re.invoiceCount)||0,E=X.reduce((le,de)=>le+de.revenue,0),Q=E/Math.max(X.length,1),oe=X.reduce((le,de)=>le+de.invoiceCount,0);return n.jsxs("div",{className:"entreprise-detail",children:[n.jsxs("div",{className:"detail-header",children:[n.jsx("button",{className:"back-button",onClick:D,children:" Back to Dashboard"}),n.jsxs("h1",{children:["Company Details: ",Y.nom]})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"Total Invoices"}),n.jsx("p",{children:F(A.factures)})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"Total Quotes"}),n.jsx("p",{children:F(A.devis)})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"Accepted Quotes"}),n.jsx("p",{children:F(A.devisAcceptes)})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"Total Revenue"}),n.jsx("p",{children:J(A.totalTTC)})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"This Week Revenue"}),n.jsx("p",{children:J(N)}),n.jsxs("small",{children:[H," invoices"]})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:W?"":""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"Weekly Growth"}),n.jsxs("p",{className:W?"positive-growth":"negative-growth",children:[W?"+":"",O(se)]})]})]})]})]}),n.jsxs("div",{className:"analytics-section",children:[n.jsx("h2",{children:"Analytics and Statistics"}),n.jsxs("div",{className:"charts-container",children:[n.jsxs("div",{className:"chart-card",children:[n.jsx("h3",{children:"Quotes Distribution"}),n.jsx(ds,{width:"100%",height:300,children:n.jsxs(Tc,{children:[n.jsx(wc,{data:I,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:le,percent:de})=>`${le}: ${(de*100).toFixed(0)}%`,children:I.map((le,de)=>n.jsx(Ec,{fill:le.color},`cell-${de}`))}),n.jsx(fs,{formatter:le=>F(le)})]})})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("h3",{children:"Weekly Revenue Trend"}),n.jsx(ds,{width:"100%",height:300,children:n.jsxs(xx,{data:X,children:[n.jsx(bc,{strokeDasharray:"3 3",stroke:"#f1f3f5"}),n.jsx(jc,{dataKey:"week",tick:{fill:"#6c757d"}}),n.jsx(Nc,{tick:{fill:"#6c757d"}}),n.jsx(fs,{formatter:(le,de)=>de==="revenue"?J(le):de==="invoiceCount"?`${le} invoices`:le,labelFormatter:le=>{const de=X.find(he=>he.week===le);return de?`${le}
${de.startDate} to ${de.endDate}`:le},contentStyle:{background:"white",border:"none",borderRadius:"12px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.12)"}}),n.jsx(vx,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:3,dot:{fill:"#8884d8",strokeWidth:2,r:4},activeDot:{r:6,fill:"#8884d8"}})]})})]})]}),n.jsxs("div",{className:"growth-stats",children:[n.jsx("h3",{children:"Revenue Growth Analysis (Last 12 Weeks)"}),n.jsxs("div",{className:"growth-cards",children:[n.jsxs("div",{className:"growth-card",children:[n.jsx("h4",{children:"Weekly Growth Rate"}),n.jsxs("p",{className:W?"positive-growth":"negative-growth",children:[W?"+":"",O(se)]})]}),n.jsxs("div",{className:"growth-card",children:[n.jsx("h4",{children:"Average Weekly Revenue"}),n.jsx("p",{children:J(Q)}),n.jsx("small",{children:"per week"})]}),n.jsxs("div",{className:"growth-card",children:[n.jsx("h4",{children:"Total Period Revenue"}),n.jsx("p",{children:J(E)}),n.jsxs("small",{children:[oe," invoices"]})]}),n.jsxs("div",{className:"growth-card",children:[n.jsx("h4",{children:"Current Week Performance"}),n.jsx("p",{children:J(N)}),n.jsxs("small",{children:[H," invoices"]})]})]})]}),n.jsxs("div",{className:"weekly-revenue-table",children:[n.jsx("h3",{children:"Weekly Revenue Details"}),n.jsx("div",{className:"table-container",children:n.jsxs("table",{children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Week"}),n.jsx("th",{children:"Period"}),n.jsx("th",{children:"Revenue"}),n.jsx("th",{children:"Invoices"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:X.map((le,de)=>n.jsxs("tr",{className:le.isCurrentWeek?"current-week":"",children:[n.jsx("td",{children:le.week}),n.jsxs("td",{children:[le.startDate," to ",le.endDate]}),n.jsx("td",{className:"currency",children:J(le.revenue)}),n.jsx("td",{className:"number",children:le.invoiceCount}),n.jsx("td",{children:n.jsx("span",{className:`status-indicator ${le.isCurrentWeek?"current":"completed"}`,children:le.isCurrentWeek?"In Progress":"Completed"})})]},de))})]})})]})]}),n.jsxs("div",{className:"recent-documents",children:[n.jsxs("div",{className:"recent-section",children:[n.jsx("h2",{children:"Recent Invoices"}),ae.factures&&ae.factures.length>0?n.jsx("div",{className:"documents-list",children:ae.factures.map((le,de)=>n.jsxs("div",{className:"document-item",children:[n.jsxs("div",{className:"doc-main",children:[n.jsxs("span",{className:"doc-title",children:["Invoice #",le.numero]}),n.jsx("span",{className:"doc-date",children:new Date(le.date_emission).toLocaleDateString("fr-FR")})]}),n.jsx("div",{className:"doc-details",children:n.jsx("span",{className:"doc-amount",children:J(le.montant_ttc)})})]},de))}):n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No recent invoices"})})]}),n.jsxs("div",{className:"recent-section",children:[n.jsx("h2",{children:"Recent Quotes"}),ae.devis&&ae.devis.length>0?n.jsx("div",{className:"documents-list",children:ae.devis.map((le,de)=>n.jsxs("div",{className:"document-item",children:[n.jsxs("div",{className:"doc-main",children:[n.jsxs("span",{className:"doc-title",children:["Quote #",le.numero]}),n.jsx("span",{className:"doc-date",children:new Date(le.date_creation).toLocaleDateString("fr-FR")})]}),n.jsxs("div",{className:"doc-details",children:[n.jsx("span",{className:"doc-amount",children:J(le.montant_ttc)}),n.jsx("span",{className:`doc-status status-${le.statut}`,children:le.statut})]})]},de))}):n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No recent quotes"})})]})]})]})},q=()=>{var Y,A,ae,V;return n.jsxs(n.Fragment,{children:[n.jsxs("header",{className:"dashboard-header",children:[n.jsxs("h1",{children:[n.jsx("span",{className:"header-icon",children:""}),"Accounting Dashboard"]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("div",{className:"search-container",children:[n.jsx("span",{className:"search-icon",children:""}),n.jsx("input",{type:"text",placeholder:"Search..."})]}),b.length>0&&n.jsx("div",{className:"entreprise-selector",children:n.jsxs("select",{value:m||"",onChange:I=>x(I.target.value),className:"entreprise-dropdown",children:[n.jsx("option",{value:"",children:"All companies"}),b.map((I,X)=>n.jsx("option",{value:I,children:I},X))]})}),n.jsxs("button",{className:"refresh-button",onClick:()=>window.location.reload(),children:[n.jsx("span",{children:""})," Refresh"]})]})]}),m&&n.jsxs("div",{className:"selected-entreprise-header",children:[n.jsxs("h2",{children:["Data for: ",m]}),n.jsx("button",{className:"view-details-btn",onClick:()=>U(m),children:"View details "})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:""}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"Total Invoices"}),n.jsx("p",{children:F(((Y=w==null?void 0:w.totals)==null?void 0:Y.totalFactures)||0)})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:"DT"}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"TTC Amount"}),n.jsx("p",{children:J(((A=w==null?void 0:w.totals)==null?void 0:A.totalTTC)||0)})]})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"card-gradient"}),n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"company-logo",children:"DT"}),n.jsxs("div",{className:"company-info",children:[n.jsx("h3",{children:"HT Amount"}),n.jsx("p",{children:J(((ae=w==null?void 0:w.totals)==null?void 0:ae.totalHT)||0)})]})]})]})]}),n.jsxs("div",{className:"dashboard-content",children:[n.jsxs("div",{className:"chart-section",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"section-icon",children:""}),m?`${m} - Financial Data`:"Distribution by Company"]}),n.jsx(ds,{width:"100%",height:400,children:n.jsxs(dh,{data:(w==null?void 0:w.chartData)||[],margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(bc,{strokeDasharray:"3 3",stroke:"#f1f3f5"}),n.jsx(jc,{dataKey:"entreprise",tick:{fill:"#6c757d"},axisLine:{stroke:"#dee2e6"}}),n.jsx(Nc,{tick:{fill:"#6c757d"},axisLine:{stroke:"#dee2e6"}}),n.jsx(fs,{formatter:I=>J(I),labelFormatter:I=>`Company: ${I}`,contentStyle:{background:"white",border:"none",borderRadius:"12px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.12)"}}),n.jsx(fh,{wrapperStyle:{paddingTop:"20px"}}),n.jsx(Sc,{dataKey:"montantTTC",fill:"#72ac8d",name:"TTC Amount",radius:[4,4,0,0]}),n.jsx(Sc,{dataKey:"montantHT",fill:"#b2d2c1",name:"HT Amount",radius:[4,4,0,0]})]})})]}),n.jsxs("div",{className:"factures-section",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"section-icon",children:""}),m?`${m} - Recent Invoices`:"Recent Invoices"]}),((V=w==null?void 0:w.factures)==null?void 0:V.length)>0?n.jsx("div",{className:"factures-table-container",children:n.jsxs("table",{className:"factures-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Invoice #"}),n.jsx("th",{children:"Company"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"TTC Amount"})]})}),n.jsx("tbody",{children:w.factures.map((I,X)=>{var se;return n.jsxs("tr",{children:[n.jsx("td",{children:I.numero||"N/A"}),n.jsx("td",{children:((se=I.entrepriseFacturee)==null?void 0:se.nom)||"Unknown"}),n.jsx("td",{children:new Date(I.date_emission).toLocaleDateString("fr-FR")}),n.jsx("td",{className:"currency",children:J(I.montant_ttc)})]},X)})})]})}):n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No invoices available"})})]})]})]})};return n.jsx("div",{className:"dashboard-comptable",children:y==="overview"?n.jsx(q,{}):n.jsx(te,{})})},ry=()=>{var ae;const[i,o]=j.useState(null),[u,c]=j.useState(!0),[f,p]=j.useState(""),[m,x]=j.useState([]),[b,S]=j.useState(!1),[y,z]=j.useState("month"),[M,P]=j.useState("overview"),B=()=>{const V=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),I=JSON.parse(localStorage.getItem("userData")||sessionStorage.getItem("userData")||"{}");return{token:V,userRole:I.role}},U=V=>{const I=[];if(!V||!V.stats)return I;const{stats:X,recent:se}=V,W=X.devis||0,re=X.devisAcceptes||0,N=W>0?re/W*100:0;if(N<30&&W>0?I.push({type:"warning",title:"Low acceptance rate",message:`Your quote acceptance rate is ${N.toFixed(1)}%. Consider reviewing your pricing or communication strategies.`,icon:""}):N>70&&W>0&&I.push({type:"success",title:"Excellent performance",message:`Congratulations! Your quote acceptance rate is ${N.toFixed(1)}%, which is excellent.`,icon:""}),se.factures&&se.factures.length>0){const H=se.factures.filter(E=>E.statut_paiement==="impay"||E.statut_paiement==="en_retard");H.length>3&&I.push({type:"warning",title:"Pending invoices",message:`You have ${H.length} invoices awaiting payment. Consider setting up a reminder system.`,icon:""})}return X.devisBrouillon>5&&I.push({type:"info",title:"Pending quotes",message:`You have ${X.devisBrouillon} draft quotes. Finalize them to increase your conversion chances.`,icon:""}),I};j.useEffect(()=>{(async()=>{const{token:I,userRole:X}=B();if(!I){window.location.href="/";return}if(X!=="entreprise"){p("Access reserved for business accounts. Your role: "+X),c(!1);return}try{const se=await fetch(`https://stage-slk6.onrender.com/api/dashboard/entreprise?range=${y}`,{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},credentials:"include"});if(se.status===403){const re=await se.json().catch(()=>({}));throw new Error(re.message||"You do not have permission to access this business")}if(se.status===401){localStorage.removeItem("authToken"),localStorage.removeItem("userData"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("userData"),window.location.href="/";return}if(!se.ok)throw new Error(`Server error: ${se.status} ${se.statusText}`);const W=await se.json();W.success?(console.log("Data received:",W.data),o(W.data),x(U(W.data))):p(W.message||"Unknown server error")}catch(se){console.error("Detailed error:",se),p(se.message)}finally{c(!1)}})()},[y]);const D=V=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(V||0),J=V=>new Intl.NumberFormat("fr-FR").format(V||0),F=i?[{name:"Accepted",value:i.stats.devisAcceptes,color:"#10b981"},{name:"Rejected",value:i.stats.devisRefuses,color:"#ef4444"},{name:"Pending",value:i.stats.devisEnAttente,color:"#f59e0b"},{name:"Drafts",value:i.stats.devisBrouillon,color:"#6b7280"}]:[];i&&(i.stats.facturesPayees,i.stats.facturesImpayees,i.stats.facturesEnRetard);const O=((ae=i==null?void 0:i.analytics)==null?void 0:ae.weeklyInvoices)||[],w=O.reduce((V,I)=>V+(I.count||0),0),te=O.map(V=>({name:V.dayName,count:V.count||0,day:V.day})),q=()=>b?n.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:n.jsxs("div",{className:"modal-content ai-enhanced",onClick:V=>V.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"AI-Powered Insights"}),n.jsx("button",{className:"close-btn",onClick:()=>S(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"ai-insights-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("div",{className:"section-icon",children:""}),n.jsx("h3",{children:"Smart Recommendations"})]}),n.jsx("div",{className:"insights-grid",children:m.length>0?m.map((V,I)=>n.jsxs("div",{className:`insight-card insight-${V.type}`,children:[n.jsx("div",{className:"insight-icon",children:V.icon}),n.jsxs("div",{className:"insight-content",children:[n.jsx("h4",{children:V.title}),n.jsx("p",{children:V.message})]})]},I)):n.jsxs("div",{className:"insight-card insight-info",children:[n.jsx("div",{className:"insight-icon",children:""}),n.jsxs("div",{className:"insight-content",children:[n.jsx("h4",{children:"Insufficient data"}),n.jsx("p",{children:"Continue using the platform to receive personalized recommendations."})]})]})})]}),n.jsxs("div",{className:"detail-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("div",{className:"section-icon",children:""}),n.jsx("h4",{children:"How these analyses are generated"})]}),n.jsx("p",{children:"Our artificial intelligence analyzes your data in real time to identify trends, opportunities, and areas for improvement. These recommendations will evolve as you use the platform."})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn-action btn-secondary",onClick:()=>S(!1),children:"Close"}),n.jsx("button",{className:"btn-action btn-primary",onClick:()=>window.location.reload(),children:"Refresh data"})]})]})}):null,Y=()=>{var V,I;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card factures",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsx("div",{className:"stat-value",children:J((i==null?void 0:i.stats.factures)||0)}),n.jsx("div",{className:"stat-label",children:"Total Invoices"})]}),n.jsxs("div",{className:"stat-card devis",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsx("div",{className:"stat-value",children:J((i==null?void 0:i.stats.devis)||0)}),n.jsx("div",{className:"stat-label",children:"Total Quotes"})]}),n.jsxs("div",{className:"stat-card acceptes",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsx("div",{className:"stat-value",children:J((i==null?void 0:i.stats.devisAcceptes)||0)}),n.jsx("div",{className:"stat-label",children:"Accepted Quotes"})]}),n.jsxs("div",{className:"stat-card refuses",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsx("div",{className:"stat-value",children:J((i==null?void 0:i.stats.devisRefuses)||0)}),n.jsx("div",{className:"stat-label",children:"Rejected Quotes"})]}),n.jsxs("div",{className:"stat-card brouillons",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsx("div",{className:"stat-value",children:J((i==null?void 0:i.stats.devisBrouillon)||0)}),n.jsx("div",{className:"stat-label",children:"Draft Quotes"})]}),n.jsxs("div",{className:"stat-card revenue",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-value",children:[D((i==null?void 0:i.stats.totalTTC)||0)," TND"]}),n.jsx("div",{className:"stat-label",children:"Revenue"})]})]}),n.jsxs("div",{className:"recent-container",children:[n.jsxs("div",{className:"recent-section",children:[n.jsxs("div",{className:"section-header-with-action",children:[n.jsx("h2",{children:"Recent Invoices"}),n.jsx("button",{className:"btn-view-all",onClick:()=>window.location.href="/dash-entr/factures",children:"View all"})]}),n.jsx("div",{className:"recent-list",children:(V=i==null?void 0:i.recent)!=null&&V.factures&&i.recent.factures.length>0?i.recent.factures.map(X=>n.jsxs("div",{className:"recent-item",children:[n.jsxs("div",{className:"item-main",children:[n.jsxs("span",{className:"item-title",children:["Invoice #",X.numero]}),n.jsx("span",{className:"item-date",children:new Date(X.date_emission).toLocaleDateString("fr-FR")})]}),n.jsxs("div",{className:"item-details",children:[n.jsxs("span",{className:"item-amount",children:[D(X.montant_ttc)," TND"]}),n.jsx("span",{className:`item-status status-${X.statut_paiement}`,children:X.statut_paiement})]})]},X.id)):n.jsx("div",{className:"recent-empty",children:"No recent invoices"})})]}),n.jsxs("div",{className:"recent-section",children:[n.jsxs("div",{className:"section-header-with-action",children:[n.jsx("h2",{children:"Recent Quotes"}),n.jsx("button",{className:"btn-view-all",onClick:()=>window.location.href="/dash-entr/devis",children:"View all"})]}),n.jsx("div",{className:"recent-list",children:(I=i==null?void 0:i.recent)!=null&&I.devis&&i.recent.devis.length>0?i.recent.devis.map(X=>n.jsxs("div",{className:"recent-item",children:[n.jsxs("div",{className:"item-main",children:[n.jsxs("span",{className:"item-title",children:["Quote #",X.numero]}),n.jsx("span",{className:"item-date",children:new Date(X.date_creation).toLocaleDateString("fr-FR")})]}),n.jsxs("div",{className:"item-details",children:[n.jsxs("span",{className:"item-amount",children:[D(X.montant_ttc)," TND"]}),n.jsx("span",{className:`item-status status-${X.statut}`,children:X.statut})]})]},X.id)):n.jsx("div",{className:"recent-empty",children:"No recent quotes"})})]})]})]})},A=()=>{const V=(i==null?void 0:i.stats.devis)>0?(i.stats.devisAcceptes/i.stats.devis*100).toFixed(1):0,I=(i==null?void 0:i.stats.devisAcceptes)>0?(i.stats.facturesFromDevis/i.stats.devisAcceptes*100).toFixed(1):0,X=[{name:"Devis accepts non facturs",value:Math.max(0,(i==null?void 0:i.stats.devisAcceptes)-(i==null?void 0:i.stats.facturesFromDevis)||0),color:"#10b981"},{name:"Factures gnres",value:(i==null?void 0:i.stats.facturesFromDevis)||0,color:"#2563eb"},{name:"Devis refuss",value:(i==null?void 0:i.stats.devisRefuses)||0,color:"#ef4444"},{name:"En attente",value:(i==null?void 0:i.stats.devisEnAttente)||0,color:"#f59e0b"},{name:"Brouillons",value:(i==null?void 0:i.stats.devisBrouillon)||0,color:"#6b7280"}];return n.jsx("div",{className:"analytics-container",children:n.jsxs("div",{className:"charts-container",children:[n.jsxs("div",{className:"chart-card",children:[n.jsx("h3",{children:"Quote acceptance & billing rate"}),n.jsxs("div",{className:"acceptance-rate-card",children:[n.jsx("div",{className:"double-circular-progress",children:n.jsxs("div",{className:"progress-outer",children:[n.jsx("div",{className:"progress-circle acceptance",style:{background:`conic-gradient(#10b981 ${V*3.6}deg, #e5e7eb 0deg)`},children:n.jsxs("div",{className:"progress-inner",children:[n.jsxs("span",{className:"rate-value",children:[V,"%"]}),n.jsx("span",{className:"rate-label",children:"Acceptance"})]})}),n.jsx("div",{className:"progress-circle billing",style:{background:`conic-gradient(#2563eb ${I*3.6}deg, transparent 0deg)`},children:n.jsxs("div",{className:"progress-inner",children:[n.jsxs("span",{className:"rate-value",children:[I,"%"]}),n.jsx("span",{className:"rate-label",children:"Billing"})]})})]})}),n.jsxs("div",{className:"acceptance-info",children:[n.jsxs("div",{className:"acceptance-stats",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Total quotes"}),n.jsx("span",{className:"stat-value",children:(i==null?void 0:i.stats.devis)||0})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Accepted"}),n.jsx("span",{className:"stat-value",children:(i==null?void 0:i.stats.devisAcceptes)||0})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Invoiced"}),n.jsx("span",{className:"stat-value",children:(i==null?void 0:i.stats.facturesFromDevis)||0})]})]}),n.jsxs("div",{className:"performance-status",children:[V>=60?n.jsx("div",{className:"status success",children:n.jsx("span",{children:" Excellent acceptance rate"})}):V>=40?n.jsx("div",{className:"status warning",children:n.jsx("span",{children:" Average acceptance rate"})}):n.jsx("div",{className:"status danger",children:n.jsx("span",{children:" Low acceptance rate"})}),I>=90?n.jsx("div",{className:"status success",children:n.jsx("span",{children:" Excellent billing rate"})}):I>=70?n.jsx("div",{className:"status warning",children:n.jsx("span",{children:" Average billing rate"})}):n.jsx("div",{className:"status danger",children:n.jsx("span",{children:" Low billing rate"})})]})]})]})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("h3",{children:"Quote to invoice conversion"}),n.jsx("div",{className:"chart-wrapper",children:n.jsx(ds,{width:"100%",height:300,children:n.jsxs(Tc,{children:[n.jsx(wc,{data:X,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:se,percent:W})=>`${se}: ${(W*100).toFixed(0)}%`,children:X.map((se,W)=>n.jsx(Ec,{fill:se.color},`cell-${W}`))}),n.jsx(fs,{formatter:se=>J(se)})]})})})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("h3",{children:"Quote distribution"}),n.jsx("div",{className:"chart-wrapper",children:n.jsx(ds,{width:"100%",height:300,children:n.jsxs(Tc,{children:[n.jsx(wc,{data:F,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:se,percent:W})=>`${se}: ${(W*100).toFixed(0)}%`,children:F.map((se,W)=>n.jsx(Ec,{fill:se.color},`cell-${W}`))}),n.jsx(fs,{formatter:se=>J(se)})]})})})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("h3",{children:"Invoices processed this week"}),n.jsxs("div",{className:"stats-summary",children:[n.jsxs("div",{className:"stat-badge",children:[n.jsx("span",{className:"stat-label",children:"Weekly total"}),n.jsx("span",{className:"stat-value",children:J(w)})]}),n.jsxs("div",{className:"stat-badge",children:[n.jsx("span",{className:"stat-label",children:"Days with invoices"}),n.jsx("span",{className:"stat-value",children:O.filter(se=>se.count>0).length})]})]}),n.jsx("div",{className:"chart-wrapper",children:te.length>0?n.jsx(ds,{width:"100%",height:300,children:n.jsxs(dh,{data:te,children:[n.jsx(bc,{strokeDasharray:"3 3"}),n.jsx(jc,{}),n.jsx(Nc,{}),n.jsx(fs,{formatter:se=>[se,"Invoices"],labelFormatter:(se,W)=>W&&W.length>0?new Date(W[0].payload.day).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):se}),n.jsx(fh,{}),n.jsx(Sc,{dataKey:"count",name:"Processed invoices",fill:"#44745c"})]})}):n.jsx("div",{className:"no-data-message",children:n.jsx("p",{children:"No invoice data available this week"})})})]})]})})};return u?n.jsx("div",{className:"dashboard-loading",children:n.jsx("div",{className:"loading-spinner",children:"Loading dashboard..."})}):f?n.jsxs("div",{className:"dashboard-error",children:[n.jsx("h3",{children:"Access error"}),n.jsx("p",{children:f}),n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsx("button",{onClick:()=>window.location.reload(),children:"Try again"}),n.jsx("button",{onClick:()=>window.location.href="/",style:{marginLeft:"10px",background:"#dc3545"},children:"Reconnect"})]})]}):i?n.jsxs("div",{className:"dashboard-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsx("div",{className:"header-top",children:n.jsx("h1",{children:"Dashboard"})}),n.jsx("div",{className:"dashboard-nav",children:n.jsxs("ul",{children:[n.jsx("li",{className:M==="overview"?"active":"",onClick:()=>P("overview"),children:"Overview"}),n.jsx("li",{className:M==="analytics"?"active":"",onClick:()=>P("analytics"),children:"Analytics"})]})})]}),M==="overview"?n.jsx(Y,{}):n.jsx(A,{}),n.jsx(q,{})]}):n.jsx("div",{className:"dashboard-empty",children:n.jsx("p",{children:"No data available at the moment"})})};class fl extends Error{}fl.prototype.name="InvalidTokenError";function oy(i){return decodeURIComponent(atob(i).replace(/(.)/g,(o,u)=>{let c=u.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}function cy(i){let o=i.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return oy(o)}catch{return atob(o)}}function uy(i,o){if(typeof i!="string")throw new fl("Invalid token specified: must be a string");o||(o={});const u=o.header===!0?0:1,c=i.split(".")[u];if(typeof c!="string")throw new fl(`Invalid token specified: missing part #${u+1}`);let f;try{f=cy(c)}catch(p){throw new fl(`Invalid token specified: invalid base64 for part #${u+1} (${p.message})`)}try{return JSON.parse(f)}catch(p){throw new fl(`Invalid token specified: invalid json for part #${u+1} (${p.message})`)}}const uh=({facture:i,entreprise:o,onDownloadComplete:u,displayMode:c="download"})=>{const[f,p]=j.useState(!1),m=j.useRef(null),x=parseFloat(i.montant_ht||0),b=parseFloat(i.remise||0),S=x*(b/100),y=x-S,z=y*(parseFloat(i.tva||20)/100),M=y+z,P=async()=>{p(!0);try{const U=document.createElement("div");U.style.position="absolute",U.style.left="-9999px",U.style.width="210mm",U.style.padding="25mm",U.style.fontFamily="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",U.style.color="#2c3e50",U.style.backgroundColor="white",U.style.boxSizing="border-box",U.innerHTML=document.getElementById("invoice-template").innerHTML,document.body.appendChild(U),await new Promise(te=>setTimeout(te,100));const D=await bx(U,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"});document.body.removeChild(U);const J=D.toDataURL("image/png",1),F=new jx({orientation:"portrait",unit:"mm",format:"a4"}),O=F.internal.pageSize.getWidth(),w=D.height*O/D.width;F.addImage(J,"PNG",0,0,O,w),F.save(`invoice-${i.numero||"unknown"}.pdf`),u&&u()}catch(U){console.error("Error generating PDF:",U),alert("There was an error generating the PDF. Please try again.")}finally{p(!1)}},B=()=>n.jsxs("div",{ref:m,id:"invoice-template",style:{width:"210mm",minHeight:"297mm",padding:"25mm",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"#2c3e50",backgroundColor:"white",boxSizing:"border-box"},children:[n.jsx("div",{style:{marginBottom:"30px",borderBottom:"2px solid #f8f9fa",paddingBottom:"20px"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{color:"#2c3e50",margin:"0 0 5px 0",fontSize:"32px",fontWeight:"700"},children:"INVOICE"}),n.jsx("p",{style:{margin:"0",color:"#7f8c8d",fontSize:"14px"},children:(o==null?void 0:o.nom)||"Company Name"})]}),n.jsx("div",{style:{textAlign:"right"},children:n.jsx("div",{style:{background:"#2c3e50",color:"white",padding:"10px 15px",display:"inline-block",borderRadius:"4px"},children:n.jsxs("strong",{children:["Invoice #",i.numero||"N/A"]})})})]})}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"30px"},children:[n.jsxs("div",{style:{flex:"1"},children:[n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px",fontSize:"16px",textTransform:"uppercase",letterSpacing:"1px"},children:"Bill to:"}),n.jsx("p",{style:{margin:"8px 0",fontWeight:"600"},children:i.client_name||"Client Name"})]}),n.jsx("div",{style:{flex:"1",textAlign:"right"},children:n.jsxs("div",{style:{display:"inline-block",textAlign:"left"},children:[n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px",fontSize:"16px",textTransform:"uppercase",letterSpacing:"1px"},children:"Details:"}),n.jsxs("p",{style:{margin:"8px 0"},children:[n.jsx("strong",{children:"Invoice Date:"})," ",i.date_emission?new Date(i.date_emission).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):"N/A"]}),i.reference&&n.jsxs("p",{style:{margin:"8px 0"},children:[n.jsx("strong",{children:"Reference:"})," ",i.reference]})]})})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#f8f9fa"},children:[n.jsx("th",{style:{textAlign:"left",padding:"15px",borderBottom:"2px solid #e9ecef",fontWeight:"600"},children:"Description"}),n.jsx("th",{style:{textAlign:"right",padding:"15px",borderBottom:"2px solid #e9ecef",fontWeight:"600"},children:"Unit Price"}),n.jsx("th",{style:{textAlign:"center",padding:"15px",borderBottom:"2px solid #e9ecef",fontWeight:"600"},children:"Qty"}),n.jsx("th",{style:{textAlign:"right",padding:"15px",borderBottom:"2px solid #e9ecef",fontWeight:"600"},children:"Amount"})]})}),n.jsx("tbody",{children:(i.lignesFacture||[]).map((U,D)=>n.jsxs("tr",{style:D%2===0?{background:"#f8f9fa"}:{},children:[n.jsx("td",{style:{padding:"15px",borderBottom:"1px solid #e9ecef",verticalAlign:"top"},children:U.description||"Item description"}),n.jsxs("td",{style:{textAlign:"right",padding:"15px",borderBottom:"1px solid #e9ecef",verticalAlign:"top"},children:["DT ",parseFloat(U.prix_unitaire_ht||0).toFixed(2)]}),n.jsx("td",{style:{textAlign:"center",padding:"15px",borderBottom:"1px solid #e9ecef",verticalAlign:"top"},children:U.quantite||1}),n.jsxs("td",{style:{textAlign:"right",padding:"15px",borderBottom:"1px solid #e9ecef",verticalAlign:"top"},children:["DT ",(parseFloat(U.prix_unitaire_ht||0)*parseInt(U.quantite||1)).toFixed(2)]})]},D))})]}),n.jsxs("div",{style:{width:"50%",marginLeft:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",padding:"10px 0",borderBottom:"1px solid #e9ecef"},children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:["DT ",x.toFixed(2)]})]}),b>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",padding:"10px 0",borderBottom:"1px solid #e9ecef"},children:[n.jsxs("span",{children:["Remise (",b,"%)"]}),n.jsxs("span",{children:["-DT ",S.toFixed(2)]})]}),b>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",padding:"10px 0",borderBottom:"1px solid #e9ecef"},children:[n.jsx("span",{children:"Total aprs remise"}),n.jsxs("span",{children:["DT ",y.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",padding:"10px 0",borderBottom:"1px solid #e9ecef"},children:[n.jsxs("span",{children:["TVA (",i.tva||20,"%)"]}),n.jsxs("span",{children:["DT ",z.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",padding:"15px 0",fontSize:"18px",fontWeight:"700",borderTop:"2px solid #2c3e50"},children:[n.jsx("span",{children:"TOTAL TTC"}),n.jsxs("span",{children:["DT ",M.toFixed(2)]})]})]}),o&&n.jsxs("div",{style:{marginTop:"50px",padding:"20px",background:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px",fontSize:"16px"},children:"Payment Information"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[o.nom&&n.jsxs("div",{style:{flex:"1",minWidth:"200px",marginBottom:"10px"},children:[n.jsx("strong",{children:"Account Name:"})," ",o.nom]}),o.iban&&n.jsxs("div",{style:{flex:"1",minWidth:"200px",marginBottom:"10px"},children:[n.jsx("strong",{children:"IBAN:"})," ",o.iban]}),o.bic&&n.jsxs("div",{style:{flex:"1",minWidth:"200px",marginBottom:"10px"},children:[n.jsx("strong",{children:"BIC/SWIFT:"})," ",o.bic]}),o.numeroIdentificationFiscale&&n.jsxs("div",{style:{flex:"1",minWidth:"200px",marginBottom:"10px"},children:[n.jsx("strong",{children:"Tax ID:"})," ",o.numeroIdentificationFiscale]})]})]}),n.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid #e9ecef",textAlign:"center",color:"#7f8c8d",fontSize:"12px"},children:[n.jsx("p",{children:"Thank you for your business!"}),n.jsxs("p",{children:[(o==null?void 0:o.nom)||"Contact_Invoice"," | ",(o==null?void 0:o.email)||"Invoice_app@gmail.com"]})]})]});return c==="preview"?n.jsx("div",{style:{width:"100%",overflow:"auto",padding:"20px",display:"flex",justifyContent:"center"},children:n.jsx("div",{style:{width:"210mm",minHeight:"297mm",padding:"25mm",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"#2c3e50",backgroundColor:"white",boxSizing:"border-box",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:B()})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"none"},children:B()}),n.jsx("button",{className:"action-btn download",title:"Download Invoice as PDF",onClick:P,disabled:f,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:f?"#ccc":"transparent",color:f?"#ccc":"#2c3e50",border:"none",borderRadius:"4px",cursor:f?"not-allowed":"pointer",fontSize:"16px",transition:"all 0.2s ease"},children:f?n.jsx(Yi,{style:{animation:"spin 1s linear infinite"}}):n.jsx(Vc,{})})]})},dy=()=>{const[i,o]=j.useState([]),[u,c]=j.useState(!0),[f,p]=j.useState(""),[m,x]=j.useState(""),[b,S]=j.useState({total:0,payees:0,impayees:0}),[y,z]=j.useState(null),[M,P]=j.useState(1),[B]=j.useState(8),[U,D]=j.useState(null),[J,F]=j.useState(!1),O=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");let w=null;if(O)try{w=uy(O).role||null}catch(Q){console.error("Token decoding error:",Q),w=null}const[te,q]=j.useState(!1);j.useEffect(()=>{if(J){const Q=setTimeout(()=>{q(!0)},100);return()=>clearTimeout(Q)}else q(!1)},[J]),j.useEffect(()=>{if(!O||!w){c(!1),x("User not authenticated");return}(async()=>{var oe;try{c(!0),x("");const de=await fetch(w==="comptable"?"https://stage-slk6.onrender.com/api/factures/comptable/mes-factures":"https://stage-slk6.onrender.com/api/factures",{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!de.ok){const ke=await de.json();throw new Error(ke.message||"Error loading invoices")}const he=await de.json(),Ce=((oe=he.data)==null?void 0:oe.factures)||he.data||[];if(o(Ce),w==="entreprise")try{const ke=await fetch("https://stage-slk6.onrender.com/api/entreprise/mon-profil",{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(ke.ok){const et=await ke.json();z(et.data)}}catch(ke){console.error("Error fetching entreprise data:",ke)}S({total:Ce.length,payees:Ce.filter(ke=>{var et;return((et=ke.statut_paiement)==null?void 0:et.toLowerCase())==="pay"}).length,impayees:Ce.filter(ke=>{var et;return((et=ke.statut_paiement)==null?void 0:et.toLowerCase())==="impay"}).length})}catch(le){console.error("Error fetchFactures:",le),x(le.message)}finally{c(!1)}})()},[O,w]);const Y=Q=>{D(Q),F(!0)},A=()=>{F(!1),D(null)},ae=i.filter(Q=>{var oe,le,de;return((oe=Q.client_name)==null?void 0:oe.toLowerCase().includes(f.toLowerCase()))||((le=Q.numero)==null?void 0:le.toLowerCase().includes(f.toLowerCase()))||((de=Q.statut_paiement)==null?void 0:de.toLowerCase().includes(f.toLowerCase()))}),V=M*B,I=V-B,X=ae.slice(I,V),se=Math.ceil(ae.length/B),W=Q=>P(Q),re=()=>{M<se&&P(M+1)},N=()=>{M>1&&P(M-1)},H=Q=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"TND",minimumFractionDigits:2}).format(Q||0),E=Q=>{if(!Q)return"N/A";const oe={year:"numeric",month:"short",day:"numeric"};return new Date(Q).toLocaleDateString("fr-FR",oe)};return j.useEffect(()=>{P(1)},[f]),n.jsxs("div",{className:"factures-container",children:[n.jsxs("div",{className:"factures-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Invoice Management"}),n.jsxs("p",{className:"factures-subtitle",children:[b.total," invoice",b.total!==1?"s":""," total"]})]}),n.jsx("div",{className:"factures-controls",children:n.jsxs("div",{className:"search-bar",children:[n.jsx(Gc,{className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by client or number...",value:f,onChange:Q=>p(Q.target.value)})]})})]}),u?n.jsxs("div",{className:"loading",children:[n.jsx(Yi,{className:"spin",size:24}),n.jsx("p",{children:"Loading invoices..."})]}):m?n.jsx("div",{className:"error",children:n.jsx("p",{children:m})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"factures-table-container",children:n.jsxs("table",{className:"factures-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Number"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:X.length>0?X.map(Q=>{var oe;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx("strong",{children:Q.numero||Q.id})}),n.jsx("td",{children:n.jsxs("div",{className:"client-cell",children:[n.jsx("div",{className:"client-avatar",children:((oe=Q.client_name)==null?void 0:oe.charAt(0).toUpperCase())||"C"}),n.jsx("span",{children:Q.client_name||"N/A"})]})}),n.jsx("td",{children:E(Q.date_emission)}),n.jsx("td",{className:"amount-cell",children:H(Q.montant_ttc)}),n.jsxs("td",{className:"actions",children:[n.jsx("button",{className:"action-btn view",title:"View",onClick:()=>Y(Q),children:n.jsx(Qc,{})}),n.jsx(uh,{facture:Q,entreprise:y,onDownloadComplete:()=>console.log("Tlchargement termin")})]})]},Q.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"no-results",children:n.jsxs("div",{className:"empty-state",children:[n.jsx(da,{size:48}),n.jsx("p",{children:"No invoices found"}),f&&n.jsx("button",{className:"clear-search",onClick:()=>p(""),children:"Clear search"})]})})})})]})}),ae.length>B&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{onClick:N,disabled:M===1,className:"pagination-btn",children:n.jsx(ph,{})}),Array.from({length:se},(Q,oe)=>oe+1).map(Q=>n.jsx("button",{onClick:()=>W(Q),className:`pagination-btn ${M===Q?"active":""}`,children:Q},Q)),n.jsx("button",{onClick:re,disabled:M===se,className:"pagination-btn",children:n.jsx(Yc,{})})]}),J&&U&&n.jsx("div",{className:"pdf-popup-overlay",children:n.jsxs("div",{className:"pdf-popup-container",children:[n.jsxs("div",{className:"pdf-popup-header",children:[n.jsxs("h2",{children:["Invoice Preview: ",U.numero||U.id]}),n.jsx("button",{className:"close-btn",onClick:A,children:n.jsx(fa,{size:24})})]}),n.jsx("div",{className:"pdf-popup-content",children:n.jsx("div",{className:"invoice-pdf-container",children:n.jsx(uh,{facture:U,entreprise:y,onDownloadComplete:()=>console.log("Tlchargement termin"),displayMode:"preview"})})})]})})]})]})},fy=()=>{const[i,o]=j.useState([]),[u,c]=j.useState(!0),[f,p]=j.useState(null),[m,x]=j.useState(0),[b,S]=j.useState(null),y=ma(),z=Hc(),{userData:M}=z||{};j.useEffect(()=>{if(!M)return;if((async()=>{var te,q;try{const Y=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),A=await _e.get("/api/notifications",{headers:{Authorization:`Bearer ${Y}`}});o(A.data.data.map(ae=>({...ae,comptable:ae.Comptable?{id:ae.Comptable.id,nom:ae.Comptable.name,prenom:ae.Comptable.lastname}:null}))),x(A.data.unreadCount)}catch(Y){console.error("Error:",Y),p(((q=(te=Y.response)==null?void 0:te.data)==null?void 0:q.message)||Y.message)}finally{c(!1)}})(),M&&M.role==="comptable"){const te=new WebSocket(`ws://${window.location.host}/ws?userId=${M.id}`);return te.onmessage=q=>{const Y=JSON.parse(q.data);Y.type==="NEW_NOTIFICATION"&&(o(A=>[{...Y.data,comptable:{id:M.id,nom:M.name,prenom:M.lastname}},...A]),x(A=>A+1),P())},S(te),()=>{te.close()}}},[M]);const P=()=>{new Audio("/notification-sound.mp3").play().catch(te=>console.log("Audio play failed:",te))},B=async w=>{try{const te=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");await _e.put(`/api/notifications/${w}/read`,{},{headers:{Authorization:`Bearer ${te}`}}),o(i.map(q=>q.id===w?{...q,read:!0}:q)),x(q=>q-1)}catch(te){console.error("Error:",te)}},U=async()=>{try{const w=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");await _e.put("/api/notifications/read-all",{},{headers:{Authorization:`Bearer ${w}`}}),o(i.map(te=>({...te,read:!0}))),x(0)}catch(w){console.error("Error:",w)}},D=async w=>{try{const te=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");await _e.delete(`/api/notifications/${w}`,{headers:{Authorization:`Bearer ${te}`}});const q=i.find(Y=>Y.id===w&&!Y.read);o(i.filter(Y=>Y.id!==w)),q&&x(Y=>Y-1)}catch(te){console.error("Error:",te)}},J=w=>{w.read||B(w.id),w.type==="NEW_FACTURE"&&w.relatedEntityId?y(`/factures/${w.relatedEntityId}`):w.type==="NEW_DEVIS"&&w.relatedEntityId&&y(`/devis/${w.relatedEntityId}`)},F=w=>{const te=new Date,q=new Date(w),Y=Math.floor((te-q)/(1e3*60));return Y<1?"Just now":Y<60?`${Y} min ago`:Y<1440?`${Math.floor(Y/60)} h ago`:q.toLocaleDateString("fr-FR")},O=w=>w&&{NEW_FACTURE:"new-facture",NEW_DEVIS:"new-devis",PAYMENT:"payment",REMINDER:"reminder",SYSTEM:"system"}[w]||"";return u?n.jsx("div",{className:"notifications-container",children:n.jsxs("div",{className:"loading-spinner",children:[n.jsx("div",{className:"spin"}),n.jsx("p",{children:"Loading notifications..."})]})}):f?n.jsx("div",{className:"notifications-container",children:n.jsxs("div",{className:"error-message",children:[n.jsx("p",{children:f}),n.jsx("button",{className:"error-button",onClick:()=>window.location.reload(),children:"Try Again"})]})}):n.jsxs("div",{className:`notifications-container ${z!=null&&z.darkMode?"dark":""}`,children:[n.jsxs("div",{className:"notifications-header",children:[n.jsxs("div",{className:"header-title",children:[n.jsx(Vm,{className:"header-icon"}),n.jsx("h1",{children:"Notifications"}),m>0&&n.jsx("span",{className:"unread-badge",children:m})]}),m>0&&n.jsxs("button",{onClick:U,className:"mark-all-btn",children:[n.jsx(qx,{})," Mark all as read"]})]}),n.jsx("div",{className:"notifications-content",children:i.length===0?n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:n.jsx(Vm,{})}),n.jsx("h3",{children:"No notifications"}),n.jsx("p",{children:"You don't have any notifications at the moment"})]}):n.jsx("div",{className:"notifications-grid",children:i.map(w=>n.jsxs("div",{className:`notification-card ${w.read?"":"unread"} ${O(w.type)}`,onClick:()=>J(w),children:[n.jsx("div",{className:"notification-badge"}),n.jsxs("div",{className:"notification-main",children:[n.jsxs("div",{className:"notification-header",children:[n.jsx("span",{className:"notification-type",children:w.type.replace("_"," ")}),n.jsx("span",{className:"notification-time",children:F(w.createdAt)})]}),n.jsx("p",{className:"notification-message",children:w.message}),n.jsxs("div",{className:"notification-footer",children:[n.jsx("span",{className:"notification-sender",children:w.comptable?`${w.comptable.prenom} ${w.comptable.nom}`:"System"}),n.jsx(Yc,{className:"notification-arrow"})]})]}),n.jsx("button",{className:"notification-delete",onClick:te=>{te.stopPropagation(),D(w.id)},children:n.jsx(ms,{})})]},w.id))})})]})},my=()=>{const[i,o]=j.useState(new Date),[u,c]=j.useState(new Date),[f,p]=j.useState({}),[m,x]=j.useState([]),[b,S]=j.useState([]),[y,z]=j.useState(!0),[M,P]=j.useState(""),B=()=>{try{const A=["token","authToken","jwtToken","userToken"];for(const ae of A){const V=localStorage.getItem(ae);if(V&&V.length>100)return console.log("Token found with key:",ae),V}for(const ae of A){const V=sessionStorage.getItem(ae);if(V&&V.length>100)return console.log("Token found in sessionStorage with key:",ae),V}return null}catch(A){return console.error("Error retrieving token:",A),null}};j.useEffect(()=>{const A=async()=>{var I,X,se,W;try{z(!0),P("");const re=B();if(!re){P("Token not found. Please reconnect."),z(!1),ae();return}const N=await _e.get("https://stage-slk6.onrender.com/api/devis",{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},timeout:1e4});N.data&&N.data.success&&Array.isArray(N.data.data)?(console.log("Quotes received:",N.data.data),S(N.data.data),V(N.data.data)):(P("Invalid data format received from server"),console.error("Unexpected response:",N.data),ae()),z(!1)}catch(re){console.error("Complete error when retrieving quotes:",re),((I=re.response)==null?void 0:I.status)===403?P("Unauthorized access. You must be a business."):((X=re.response)==null?void 0:X.status)===404?P("No business found for your account."):re.code==="ECONNABORTED"?P("Server connection timeout."):(W=(se=re.response)==null?void 0:se.data)!=null&&W.message?P(`Server error: ${re.response.data.message}`):P("Server connection error. Displaying demo data."),z(!1),ae()}},ae=()=>{const I=[{id:1,numero:"DEV-2024-001",date_validite:new Date(Date.now()+1728e5).toISOString().split("T")[0],client_name:"Test Client",montant_ttc:1200,statut:"brouillon",lignesDevis:[]},{id:2,numero:"DEV-2024-002",date_validite:new Date(Date.now()+432e6).toISOString().split("T")[0],client_name:"Important Client",montant_ttc:3500,statut:"sign",lignesDevis:[]}];S(I),V(I)},V=I=>{const X={};I.forEach(se=>{if(se.date_validite)try{const W=new Date(se.date_validite).toDateString();X[W]||(X[W]=[]),X[W].push({id:`devis-${se.id}`,title:`Quote: ${se.numero}`,time:"23:59",type:"devis",statut:se.statut,client:se.client_name,montant:se.montant_ttc})}catch(W){console.error("Date format error for quote:",se.id,W)}}),p(X)};A()},[]),j.useEffect(()=>{const A=["Team meeting at 10:00","Lunch with client at 12:30","Prepare quarterly report","Call with technical department","Review monthly goals"],ae=new Date;ae.getHours()>=9&&ae.getHours()<12?A.unshift("Plan daily tasks"):ae.getHours()>=15&&ae.getHours()<18&&A.unshift("Prepare plan for tomorrow"),x(A)},[]);const U=()=>{o(new Date(i.getFullYear(),i.getMonth()-1,1))},D=()=>{o(new Date(i.getFullYear(),i.getMonth()+1,1))},J=()=>{o(new Date),c(new Date)},F=A=>f[A.toDateString()]||[],w=(()=>{const A=i.getFullYear(),ae=i.getMonth(),V=new Date(A,ae,1),X=new Date(A,ae+1,0).getDate(),se=V.getDay(),W=[],re=new Date(A,ae,0).getDate();for(let H=0;H<se;H++)W.push({date:new Date(A,ae-1,re-H),isCurrentMonth:!1});W.reverse();for(let H=1;H<=X;H++){const E=new Date(A,ae,H);W.push({date:E,isCurrentMonth:!0,isToday:E.toDateString()===new Date().toDateString(),isSelected:E.toDateString()===u.toDateString()})}const N=42-W.length;for(let H=1;H<=N;H++)W.push({date:new Date(A,ae+1,H),isCurrentMonth:!1});return W})(),te=["January","February","March","April","May","June","July","August","September","October","November","December"],q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Y=()=>b.filter(A=>{if(!A.date_validite)return!1;try{return new Date(A.date_validite).toDateString()===u.toDateString()}catch(ae){return console.error("Date error:",ae),!1}});return y?n.jsx("div",{className:"calendar-compact",children:n.jsx("div",{className:"loading",children:"Loading quotes..."})}):n.jsxs("div",{className:"calendar-compact",children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("h1",{children:"Calendar"}),M&&n.jsx("div",{className:"error-banner",children:M})]}),n.jsxs("div",{className:"calendar-content",children:[n.jsxs("div",{className:"calendar-left-panel",children:[n.jsxs("div",{className:"calendar-controls",children:[n.jsxs("div",{className:"month-navigation",children:[n.jsx("button",{onClick:U,className:"nav-btn",children:"<"}),n.jsxs("h2",{children:[te[i.getMonth()]," ",i.getFullYear()]}),n.jsx("button",{onClick:D,className:"nav-btn",children:">"})]}),n.jsx("button",{onClick:J,className:"today-btn",children:"Today"})]}),n.jsxs("div",{className:"calendar-grid",children:[q.map(A=>n.jsx("div",{className:"calendar-day-header",children:A},A)),w.map((A,ae)=>{const I=F(A.date).filter(X=>X.type==="devis");return n.jsxs("div",{className:`calendar-day ${A.isCurrentMonth?"current-month":"other-month"} ${A.isToday?"today":""} ${A.isSelected?"selected":""}`,onClick:()=>c(A.date),children:[n.jsx("span",{className:"day-number",children:A.date.getDate()}),I.slice(0,2).map(X=>n.jsx("div",{className:`event-preview ${X.statut==="brouillon"?"draft":X.statut==="sign"?"signed":"pending"}`,title:`${X.client} - ${X.montant} TND`,children:X.title},X.id)),I.length>2&&n.jsxs("div",{className:"more-events",children:["+",I.length-2," quotes"]})]},ae)})]})]}),n.jsx("div",{className:"calendar-right-panel",children:n.jsxs("div",{className:"selected-date-section",children:[n.jsx("h3",{children:u.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),n.jsxs("div",{className:"devis-list",children:[n.jsx("h4",{children:"Quote Deadlines"}),Y().length===0?n.jsx("p",{className:"no-events",children:"No quote deadlines"}):Y().map(A=>n.jsxs("div",{className:`devis-item ${A.statut}`,children:[n.jsxs("div",{className:"devis-info",children:[n.jsx("span",{className:"devis-numero",children:A.numero}),n.jsx("span",{className:"devis-client",children:A.client_name}),n.jsxs("span",{className:"devis-montant",children:[A.montant_ttc," TND TTC"]})]}),n.jsx("div",{className:`devis-statut ${A.statut}`,children:A.statut})]},A.id))]})]})})]})]})},hy=()=>{const[i,o]=j.useState([{id:1,text:"Hello! I am your virtual assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[u,c]=j.useState(""),f=j.useRef(null),p=()=>{var y;(y=f.current)==null||y.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{p()},[i]);const m={hi:"Hello! How can I help you?",hello:"Hello! How are you today?",help:"I am here to help. Tell me what you need.","thank you":"You're welcome! Don't hesitate if you have other questions.",goodbye:"Goodbye! See you soon!",time:`It is ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}`,date:`Today is ${new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,default:"I'm not sure I understand. Could you rephrase your question?"},x=()=>{if(u.trim()==="")return;const y={id:i.length+1,text:u,sender:"user",timestamp:new Date};o([...i,y]),c(""),setTimeout(()=>{const z=u.toLowerCase();let M=m.default;Object.keys(m).forEach(B=>{z.includes(B)&&(M=m[B])});const P={id:i.length+2,text:M,sender:"bot",timestamp:new Date};o(B=>[...B,P])},1e3)},b=y=>{y.key==="Enter"&&x()},S=y=>new Date(y).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:"messenger-container",children:[n.jsxs("div",{className:"messenger-header",children:[n.jsxs("div",{className:"chatbot-info",children:[n.jsx("div",{className:"chatbot-avatar",children:n.jsx("span",{children:""})}),n.jsxs("div",{className:"chatbot-details",children:[n.jsx("h2",{children:"Virtual Assistant"}),n.jsx("p",{children:"Online  Responds instantly"})]})]}),n.jsxs("div",{className:"header-actions",children:[n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-video"})}),n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-phone"})}),n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-ellipsis-v"})})]})]}),n.jsxs("div",{className:"messenger-chat",children:[n.jsx("div",{className:"chat-date-indicator",children:n.jsx("span",{children:"Today"})}),n.jsxs("div",{className:"messages-container",children:[i.map(y=>n.jsx("div",{className:`message ${y.sender==="bot"?"bot-message":"user-message"}`,children:n.jsxs("div",{className:"message-content",children:[n.jsx("p",{children:y.text}),n.jsx("span",{className:"message-time",children:S(y.timestamp)})]})},y.id)),n.jsx("div",{ref:f})]})]}),n.jsxs("div",{className:"messenger-input",children:[n.jsxs("div",{className:"input-actions",children:[n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-plus"})}),n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-paperclip"})}),n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-image"})})]}),n.jsx("div",{className:"text-input-container",children:n.jsx("input",{type:"text",value:u,onChange:y=>c(y.target.value),onKeyPress:b,placeholder:"Type your message...",className:"message-input"})}),n.jsxs("div",{className:"send-actions",children:[n.jsx("button",{className:"icon-button",children:n.jsx("i",{className:"fas fa-microphone"})}),n.jsx("button",{onClick:x,className:"send-button",disabled:u.trim()==="",children:n.jsx("i",{className:"fas fa-paper-plane"})})]})]})]})};function py(){const[i,o]=j.useState({isAuthenticated:!1,userRole:null,isLoading:!0}),u=()=>{const m=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),x=JSON.parse(localStorage.getItem("userData")||sessionStorage.getItem("userData")||"null");return{isAuthenticated:!!m&&!!x,userRole:(x==null?void 0:x.role)||null}};j.useEffect(()=>{const m=u();o({...m,isLoading:!1})},[]);const c=m=>{const x=m.rememberMe?localStorage:sessionStorage;x.setItem("authToken",m.token),x.setItem("userData",JSON.stringify(m.user)),o({isAuthenticated:!0,userRole:m.user.role,isLoading:!1})},f=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("userData"),o({isAuthenticated:!1,userRole:null,isLoading:!1})},p=({requiredRole:m,children:x})=>i.isLoading?n.jsx("div",{className:"loading-screen",children:"Chargement en cours..."}):i.isAuthenticated?m&&i.userRole!==m?n.jsx(Oi,{to:i.userRole==="comptable"?"/dash-comp":"/dash-entr",replace:!0}):x||n.jsx(qc,{}):n.jsx(Oi,{to:"/",replace:!0});return i.isLoading?n.jsx("div",{className:"loading-screen",children:"Chargement en cours..."}):n.jsx(px,{children:n.jsxs(gx,{children:[n.jsx(xt,{path:"/",element:n.jsx(Cx,{})}),n.jsx(xt,{path:"/login",element:i.isAuthenticated?n.jsx(Oi,{to:i.userRole==="comptable"?"/dash-comp":"/dash-entr",replace:!0}):n.jsx(_x,{onLogin:c})}),n.jsxs(xt,{path:"/dash-comp",element:n.jsx(p,{requiredRole:"comptable",children:n.jsx(Gx,{setIsAuthenticated:o})}),children:[n.jsx(xt,{index:!0,element:n.jsx(Jm,{})}),n.jsx(xt,{path:"dashb_comp",element:n.jsx(iy,{})}),n.jsx(xt,{path:"entreprises",element:n.jsx(A0,{})}),n.jsx(xt,{path:"factures",element:n.jsx(dy,{})}),n.jsx(xt,{path:"notification",element:n.jsx(fy,{})}),n.jsx(xt,{path:"profile",element:n.jsx(ch,{handleLogout:f})})]}),n.jsxs(xt,{path:"/dash-entr",element:n.jsx(p,{requiredRole:"entreprise",children:n.jsx(Xx,{setIsAuthenticated:o})}),children:[n.jsx(xt,{index:!0,element:n.jsx(Jm,{})}),n.jsx(xt,{path:"devis",element:n.jsx(sy,{})}),n.jsx(xt,{path:"chatbot",element:n.jsx(hy,{})}),n.jsx(xt,{path:"factures",element:n.jsx(ly,{})}),n.jsx(xt,{path:"dashb_entre",element:n.jsx(ry,{})}),n.jsx(xt,{path:"calendriers",element:n.jsx(my,{})}),n.jsx(xt,{path:"profile",element:n.jsx(ch,{handleLogout:f})})]}),n.jsx(xt,{path:"*",element:n.jsx(Oi,{to:"/",replace:!0})})]})})}Ex.createRoot(document.getElementById("root")).render(n.jsx(j.StrictMode,{children:n.jsx(py,{})}));
